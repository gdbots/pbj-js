/*! @gdbots/pbj v0.1.0, 2016-08-05 06:41:29 PDT */
!function(global,factory){if("function"==typeof define&&define.amd)define("gdbots/pbj/enum/field-rule",["exports","gdbots/common/enum","gdbots/common/util/system-utils"],factory);else if("undefined"!=typeof exports)factory(exports,require("gdbots/common/enum"),require("gdbots/common/util/system-utils"));else{var mod={exports:{}};factory(mod.exports,global._enum,global.systemUtils),global.gdbotsPbjEnumFieldRule=mod.exports}}(this,function(exports,_enum,_systemUtils){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0});var _enum2=_interopRequireDefault(_enum),_systemUtils2=_interopRequireDefault(_systemUtils),FieldRule=function(_SystemUtils$mixinCla){function FieldRule(){return _classCallCheck(this,FieldRule),_possibleConstructorReturn(this,Object.getPrototypeOf(FieldRule).apply(this,arguments))}return _inherits(FieldRule,_SystemUtils$mixinCla),FieldRule}(_systemUtils2["default"].mixinClass(_enum2["default"]));exports["default"]=FieldRule,FieldRule.initEnum({A_SINGLE_VALUE:1,A_SET:2,A_LIST:3,A_MAP:4})}),function(global,factory){if("function"==typeof define&&define.amd)define("gdbots/pbj/enum/format",["exports","gdbots/common/enum","gdbots/common/util/system-utils"],factory);else if("undefined"!=typeof exports)factory(exports,require("gdbots/common/enum"),require("gdbots/common/util/system-utils"));else{var mod={exports:{}};factory(mod.exports,global._enum,global.systemUtils),global.gdbotsPbjEnumFormat=mod.exports}}(this,function(exports,_enum,_systemUtils){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0});var _enum2=_interopRequireDefault(_enum),_systemUtils2=_interopRequireDefault(_systemUtils),Format=function(_SystemUtils$mixinCla){function Format(){return _classCallCheck(this,Format),_possibleConstructorReturn(this,Object.getPrototypeOf(Format).apply(this,arguments))}return _inherits(Format,_SystemUtils$mixinCla),Format}(_systemUtils2["default"].mixinClass(_enum2["default"]));exports["default"]=Format,Format.initEnum({UNKNOWN:"unknown",DATE:"date",DATE_TIME:"date-time",EMAIL:"email",HASHTAG:"hashtag",HOSTNAME:"hostname",IPV4:"ipv4",IPV6:"ipv6",SLUG:"slug",URI:"uri",URL:"url",UUID:"uuid"})}),function(global,factory){if("function"==typeof define&&define.amd)define("gdbots/pbj/enum/type-name",["exports","gdbots/common/enum","gdbots/common/util/system-utils"],factory);else if("undefined"!=typeof exports)factory(exports,require("gdbots/common/enum"),require("gdbots/common/util/system-utils"));else{var mod={exports:{}};factory(mod.exports,global._enum,global.systemUtils),global.gdbotsPbjEnumTypeName=mod.exports}}(this,function(exports,_enum,_systemUtils){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0});var _enum2=_interopRequireDefault(_enum),_systemUtils2=_interopRequireDefault(_systemUtils),TypeName=function(_SystemUtils$mixinCla){function TypeName(){return _classCallCheck(this,TypeName),_possibleConstructorReturn(this,Object.getPrototypeOf(TypeName).apply(this,arguments))}return _inherits(TypeName,_SystemUtils$mixinCla),TypeName}(_systemUtils2["default"].mixinClass(_enum2["default"]));exports["default"]=TypeName,TypeName.initEnum({BIG_INT:"big-int",BINARY:"binary",BLOB:"blob",BOOLEAN:"boolean",DATE:"date",DATE_TIME:"date-time",DECIMAL:"decimal",FLOAT:"float",GEO_POINT:"geo-point",IDENTIFIER:"identifier",INT:"int",INT_ENUM:"int-enum",MEDIUM_BLOB:"medium-blob",MEDIUM_INT:"medium-int",MEDIUM_TEXT:"medium-text",MESSAGE:"message",MESSAGE_REF:"message-ref",MICROTIME:"microtime",SIGNED_BIG_INT:"signed-big-int",SIGNED_INT:"signed-int",SIGNED_MEDIUM_INT:"signed-medium-int",SIGNED_SMALL_INT:"signed-small-int",SIGNED_TINY_INT:"signed-tiny-int",SMALL_INT:"small-int",STRING:"string",STRING_ENUM:"string-enum",TEXT:"text",TIME_UUID:"time-uuid",TIMESTAMP:"timestamp",TINY_INT:"tiny-int",UUID:"uuid"})}),function(global,factory){if("function"==typeof define&&define.amd)define("gdbots/pbj/exception/decode-value-failed",["exports","gdbots/common/util/system-utils","gdbots/pbj/exception/gdbots-pbj-exception"],factory);else if("undefined"!=typeof exports)factory(exports,require("gdbots/common/util/system-utils"),require("gdbots/pbj/exception/gdbots-pbj-exception"));else{var mod={exports:{}};factory(mod.exports,global.systemUtils,global.gdbotsPbjException),global.gdbotsPbjExceptionDecodeValueFailed=mod.exports}}(this,function(exports,_systemUtils,_gdbotsPbjException){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0});var _systemUtils2=_interopRequireDefault(_systemUtils),_gdbotsPbjException2=_interopRequireDefault(_gdbotsPbjException),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol?"symbol":typeof obj},_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),privateProps=new WeakMap,DecodeValueFailed=function(_SystemUtils$mixinCla){function DecodeValueFailed(value,field,message){_classCallCheck(this,DecodeValueFailed);var str=""+value;"object"===("undefined"==typeof value?"undefined":_typeof(value))&&(str=value.toString());var _this=_possibleConstructorReturn(this,Object.getPrototypeOf(DecodeValueFailed).call(this,"Failed to decode ["+str+"] for field ["+field.getName()+"] to a ["+field.getType().getTypeValue()+"]. Detail: "+message+"."));return privateProps.set(_this,{value:value,field:field}),_this}return _inherits(DecodeValueFailed,_SystemUtils$mixinCla),_createClass(DecodeValueFailed,[{key:"getValue",value:function(){return privateProps.get(this).value}},{key:"getField",value:function(){return privateProps.get(this).field}},{key:"getFieldName",value:function(){return privateProps.get(this).field.getName()}}]),DecodeValueFailed}(_systemUtils2["default"].mixinClass(_gdbotsPbjException2["default"]));exports["default"]=DecodeValueFailed}),function(global,factory){if("function"==typeof define&&define.amd)define("gdbots/pbj/exception/deserialize-message-failed",["exports","gdbots/common/util/system-utils","gdbots/pbj/exception/gdbots-pbj-exception"],factory);else if("undefined"!=typeof exports)factory(exports,require("gdbots/common/util/system-utils"),require("gdbots/pbj/exception/gdbots-pbj-exception"));else{var mod={exports:{}};factory(mod.exports,global.systemUtils,global.gdbotsPbjException),global.gdbotsPbjExceptionDeserializeMessageFailed=mod.exports}}(this,function(exports,_systemUtils,_gdbotsPbjException){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0});var _systemUtils2=_interopRequireDefault(_systemUtils),_gdbotsPbjException2=_interopRequireDefault(_gdbotsPbjException),DeserializeMessageFailed=function(_SystemUtils$mixinCla){function DeserializeMessageFailed(){return _classCallCheck(this,DeserializeMessageFailed),_possibleConstructorReturn(this,Object.getPrototypeOf(DeserializeMessageFailed).apply(this,arguments))}return _inherits(DeserializeMessageFailed,_SystemUtils$mixinCla),DeserializeMessageFailed}(_systemUtils2["default"].mixinClass(_gdbotsPbjException2["default"]));exports["default"]=DeserializeMessageFailed}),function(global,factory){if("function"==typeof define&&define.amd)define("gdbots/pbj/exception/encode-value-failed",["exports","gdbots/common/util/system-utils","gdbots/pbj/exception/gdbots-pbj-exception"],factory);else if("undefined"!=typeof exports)factory(exports,require("gdbots/common/util/system-utils"),require("gdbots/pbj/exception/gdbots-pbj-exception"));else{var mod={exports:{}};factory(mod.exports,global.systemUtils,global.gdbotsPbjException),global.gdbotsPbjExceptionEncodeValueFailed=mod.exports}}(this,function(exports,_systemUtils,_gdbotsPbjException){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0});var _systemUtils2=_interopRequireDefault(_systemUtils),_gdbotsPbjException2=_interopRequireDefault(_gdbotsPbjException),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol?"symbol":typeof obj},_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),privateProps=new WeakMap,EncodeValueFailed=function(_SystemUtils$mixinCla){function EncodeValueFailed(value,field,message){_classCallCheck(this,EncodeValueFailed);var str=""+value;"object"===("undefined"==typeof value?"undefined":_typeof(value))&&(str=value.toString());var _this=_possibleConstructorReturn(this,Object.getPrototypeOf(EncodeValueFailed).call(this,"Failed to encode ["+str+"] for field ["+field.getName()+"] to a ["+field.getType().getTypeValue()+"]. Detail: "+message+"."));return privateProps.set(_this,{value:value,field:field}),_this}return _inherits(EncodeValueFailed,_SystemUtils$mixinCla),_createClass(EncodeValueFailed,[{key:"getValue",value:function(){return privateProps.get(this).value}},{key:"getField",value:function(){return privateProps.get(this).field}},{key:"getFieldName",value:function(){return privateProps.get(this).field.getName()}}]),EncodeValueFailed}(_systemUtils2["default"].mixinClass(_gdbotsPbjException2["default"]));exports["default"]=EncodeValueFailed}),function(global,factory){if("function"==typeof define&&define.amd)define("gdbots/pbj/exception/field-already-defined",["exports","gdbots/common/util/system-utils","gdbots/pbj/exception/gdbots-pbj-exception"],factory);else if("undefined"!=typeof exports)factory(exports,require("gdbots/common/util/system-utils"),require("gdbots/pbj/exception/gdbots-pbj-exception"));else{var mod={exports:{}};factory(mod.exports,global.systemUtils,global.gdbotsPbjException),global.gdbotsPbjExceptionFieldAlreadyDefined=mod.exports}}(this,function(exports,_systemUtils,_gdbotsPbjException){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0});var _systemUtils2=_interopRequireDefault(_systemUtils),_gdbotsPbjException2=_interopRequireDefault(_gdbotsPbjException),_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),privateProps=new WeakMap,FieldAlreadyDefined=function(_SystemUtils$mixinCla){function FieldAlreadyDefined(schema,fieldName){_classCallCheck(this,FieldAlreadyDefined);var field=schema.getField(fieldName),_this=_possibleConstructorReturn(this,Object.getPrototypeOf(FieldAlreadyDefined).call(this,"Field ["+field.getName()+"] is already defined on message ["+schema.getClassName()+"] and is not overridable."));return privateProps.set(_this,{schema:schema,field:field}),_this}return _inherits(FieldAlreadyDefined,_SystemUtils$mixinCla),_createClass(FieldAlreadyDefined,[{key:"getField",value:function(){return privateProps.get(this).field}},{key:"getFieldName",value:function(){return privateProps.get(this).field.getName()}}]),FieldAlreadyDefined}(_systemUtils2["default"].mixinClass(_gdbotsPbjException2["default"]));exports["default"]=FieldAlreadyDefined}),function(global,factory){if("function"==typeof define&&define.amd)define("gdbots/pbj/exception/field-not-defined",["exports","gdbots/common/util/system-utils","gdbots/pbj/exception/gdbots-pbj-exception"],factory);else if("undefined"!=typeof exports)factory(exports,require("gdbots/common/util/system-utils"),require("gdbots/pbj/exception/gdbots-pbj-exception"));else{var mod={exports:{}};factory(mod.exports,global.systemUtils,global.gdbotsPbjException),global.gdbotsPbjExceptionFieldNotDefined=mod.exports}}(this,function(exports,_systemUtils,_gdbotsPbjException){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0});var _systemUtils2=_interopRequireDefault(_systemUtils),_gdbotsPbjException2=_interopRequireDefault(_gdbotsPbjException),_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),privateProps=new WeakMap,FieldNotDefined=function(_SystemUtils$mixinCla){function FieldNotDefined(schema,fieldName){_classCallCheck(this,FieldNotDefined);var _this=_possibleConstructorReturn(this,Object.getPrototypeOf(FieldNotDefined).call(this,"Field ["+fieldName+"] is not defined on message ["+schema.getClassName()+"]."));return privateProps.set(_this,{schema:schema,fieldName:fieldName}),_this}return _inherits(FieldNotDefined,_SystemUtils$mixinCla),_createClass(FieldNotDefined,[{key:"getFieldName",value:function(){return privateProps.get(this).fieldName}}]),FieldNotDefined}(_systemUtils2["default"].mixinClass(_gdbotsPbjException2["default"]));exports["default"]=FieldNotDefined}),function(global,factory){if("function"==typeof define&&define.amd)define("gdbots/pbj/exception/field-override-not-compatible",["exports","gdbots/common/util/system-utils","gdbots/pbj/exception/gdbots-pbj-exception"],factory);else if("undefined"!=typeof exports)factory(exports,require("gdbots/common/util/system-utils"),require("gdbots/pbj/exception/gdbots-pbj-exception"));else{var mod={exports:{}};factory(mod.exports,global.systemUtils,global.gdbotsPbjException),global.gdbotsPbjExceptionFieldOverrideNotCompatible=mod.exports}}(this,function(exports,_systemUtils,_gdbotsPbjException){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0});var _systemUtils2=_interopRequireDefault(_systemUtils),_gdbotsPbjException2=_interopRequireDefault(_gdbotsPbjException),_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),privateProps=new WeakMap,FieldOverrideNotCompatible=function(_SystemUtils$mixinCla){function FieldOverrideNotCompatible(schema,fieldName,overrideField){_classCallCheck(this,FieldOverrideNotCompatible);var existingField=schema.getField(fieldName),_this=_possibleConstructorReturn(this,Object.getPrototypeOf(FieldOverrideNotCompatible).call(this,"Field ["+existingField.getName()+"] override for ["+schema.getClassName()+"] is not compatible. Name, Type, Rule and Required must match."));return privateProps.set(_this,{schema:schema,existingField:existingField,overrideField:overrideField}),_this}return _inherits(FieldOverrideNotCompatible,_SystemUtils$mixinCla),_createClass(FieldOverrideNotCompatible,[{key:"getExistingField",value:function(){return privateProps.get(this).existingField}},{key:"getFieldName",value:function(){return privateProps.get(this).existingField.getName()}},{key:"getOverrideField",value:function(){return privateProps.get(this).overrideField}}]),FieldOverrideNotCompatible}(_systemUtils2["default"].mixinClass(_gdbotsPbjException2["default"]));exports["default"]=FieldOverrideNotCompatible}),function(global,factory){if("function"==typeof define&&define.amd)define("gdbots/pbj/exception/frozen-message-is-immutable",["exports","gdbots/common/util/system-utils","gdbots/pbj/exception/gdbots-pbj-exception"],factory);else if("undefined"!=typeof exports)factory(exports,require("gdbots/common/util/system-utils"),require("gdbots/pbj/exception/gdbots-pbj-exception"));else{var mod={exports:{}};factory(mod.exports,global.systemUtils,global.gdbotsPbjException),global.gdbotsPbjExceptionFrozenMessageIsImmutable=mod.exports}}(this,function(exports,_systemUtils,_gdbotsPbjException){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0});var _systemUtils2=_interopRequireDefault(_systemUtils),_gdbotsPbjException2=_interopRequireDefault(_gdbotsPbjException),_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),privateProps=new WeakMap,FrozenMessageIsImmutable=function(_SystemUtils$mixinCla){function FrozenMessageIsImmutable(type){_classCallCheck(this,FrozenMessageIsImmutable);var _this=_possibleConstructorReturn(this,Object.getPrototypeOf(FrozenMessageIsImmutable).call(this,"Message is frozen and cannot be modified."));return privateProps.set(_this,{type:type}),_this}return _inherits(FrozenMessageIsImmutable,_SystemUtils$mixinCla),_createClass(FrozenMessageIsImmutable,[{key:"getType",value:function(){return privateProps.get(this).type}}]),FrozenMessageIsImmutable}(_systemUtils2["default"].mixinClass(_gdbotsPbjException2["default"]));exports["default"]=FrozenMessageIsImmutable}),function(global,factory){if("function"==typeof define&&define.amd)define("gdbots/pbj/exception/gdbots-pbj-exception",["exports","gdbots/common/util/system-utils"],factory);else if("undefined"!=typeof exports)factory(exports,require("gdbots/common/util/system-utils"));else{var mod={exports:{}};factory(mod.exports,global.systemUtils),global.gdbotsPbjExceptionGdbotsPbjException=mod.exports}}(this,function(exports,_systemUtils){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0});var _systemUtils2=_interopRequireDefault(_systemUtils),GdbotsPbjException=function(_SystemUtils$mixinCla){function GdbotsPbjException(){return _classCallCheck(this,GdbotsPbjException),_possibleConstructorReturn(this,Object.getPrototypeOf(GdbotsPbjException).apply(this,arguments))}return _inherits(GdbotsPbjException,_SystemUtils$mixinCla),GdbotsPbjException}(_systemUtils2["default"].mixinClass(Error));exports["default"]=GdbotsPbjException}),function(global,factory){if("function"==typeof define&&define.amd)define("gdbots/pbj/exception/invalid-resolved-schema",["exports","gdbots/common/util/system-utils","gdbots/pbj/exception/gdbots-pbj-exception"],factory);else if("undefined"!=typeof exports)factory(exports,require("gdbots/common/util/system-utils"),require("gdbots/pbj/exception/gdbots-pbj-exception"));else{var mod={exports:{}};factory(mod.exports,global.systemUtils,global.gdbotsPbjException),global.gdbotsPbjExceptionInvalidResolvedSchema=mod.exports}}(this,function(exports,_systemUtils,_gdbotsPbjException){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0});var _systemUtils2=_interopRequireDefault(_systemUtils),_gdbotsPbjException2=_interopRequireDefault(_gdbotsPbjException),_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),privateProps=new WeakMap,InvalidResolvedSchema=function(_SystemUtils$mixinCla){function InvalidResolvedSchema(schema,resolvedSchemaId,resolvedClassName){_classCallCheck(this,InvalidResolvedSchema);var _this=_possibleConstructorReturn(this,Object.getPrototypeOf(InvalidResolvedSchema).call(this,"Schema id ["+resolvedSchemaId.toString()+"] with curie ["+resolvedSchemaId.getCurieMajor()+"] was resolved to ["+resolvedClassName+"] but that message has a curie of ["+schema.getId().getCurieMajor()+"]. They must match."));return privateProps.set(_this,{schema:schema,resolvedSchemaId:resolvedSchemaId,resolvedClassName:resolvedClassName}),_this}return _inherits(InvalidResolvedSchema,_SystemUtils$mixinCla),_createClass(InvalidResolvedSchema,[{key:"getResolvedSchemaId",value:function(){return privateProps.get(this).resolvedSchemaId}},{key:"getResolvedClassName",value:function(){return privateProps.get(this).resolvedClassName}}]),InvalidResolvedSchema}(_systemUtils2["default"].mixinClass(_gdbotsPbjException2["default"]));
exports["default"]=InvalidResolvedSchema}),function(global,factory){if("function"==typeof define&&define.amd)define("gdbots/pbj/exception/invalid-schema-curie",["exports","gdbots/common/util/system-utils","gdbots/pbj/exception/gdbots-pbj-exception"],factory);else if("undefined"!=typeof exports)factory(exports,require("gdbots/common/util/system-utils"),require("gdbots/pbj/exception/gdbots-pbj-exception"));else{var mod={exports:{}};factory(mod.exports,global.systemUtils,global.gdbotsPbjException),global.gdbotsPbjExceptionInvalidSchemaCurie=mod.exports}}(this,function(exports,_systemUtils,_gdbotsPbjException){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0});var _systemUtils2=_interopRequireDefault(_systemUtils),_gdbotsPbjException2=_interopRequireDefault(_gdbotsPbjException),InvalidSchemaCurie=function(_SystemUtils$mixinCla){function InvalidSchemaCurie(){return _classCallCheck(this,InvalidSchemaCurie),_possibleConstructorReturn(this,Object.getPrototypeOf(InvalidSchemaCurie).apply(this,arguments))}return _inherits(InvalidSchemaCurie,_SystemUtils$mixinCla),InvalidSchemaCurie}(_systemUtils2["default"].mixinClass(_gdbotsPbjException2["default"]));exports["default"]=InvalidSchemaCurie}),function(global,factory){if("function"==typeof define&&define.amd)define("gdbots/pbj/exception/invalid-schema-id",["exports","gdbots/common/util/system-utils","gdbots/pbj/exception/gdbots-pbj-exception"],factory);else if("undefined"!=typeof exports)factory(exports,require("gdbots/common/util/system-utils"),require("gdbots/pbj/exception/gdbots-pbj-exception"));else{var mod={exports:{}};factory(mod.exports,global.systemUtils,global.gdbotsPbjException),global.gdbotsPbjExceptionInvalidSchemaId=mod.exports}}(this,function(exports,_systemUtils,_gdbotsPbjException){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0});var _systemUtils2=_interopRequireDefault(_systemUtils),_gdbotsPbjException2=_interopRequireDefault(_gdbotsPbjException),InvalidSchemaId=function(_SystemUtils$mixinCla){function InvalidSchemaId(){return _classCallCheck(this,InvalidSchemaId),_possibleConstructorReturn(this,Object.getPrototypeOf(InvalidSchemaId).apply(this,arguments))}return _inherits(InvalidSchemaId,_SystemUtils$mixinCla),InvalidSchemaId}(_systemUtils2["default"].mixinClass(_gdbotsPbjException2["default"]));exports["default"]=InvalidSchemaId}),function(global,factory){if("function"==typeof define&&define.amd)define("gdbots/pbj/exception/invalid-schema-version",["exports","gdbots/common/util/system-utils","gdbots/pbj/exception/gdbots-pbj-exception"],factory);else if("undefined"!=typeof exports)factory(exports,require("gdbots/common/util/system-utils"),require("gdbots/pbj/exception/gdbots-pbj-exception"));else{var mod={exports:{}};factory(mod.exports,global.systemUtils,global.gdbotsPbjException),global.gdbotsPbjExceptionInvalidSchemaVersion=mod.exports}}(this,function(exports,_systemUtils,_gdbotsPbjException){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0});var _systemUtils2=_interopRequireDefault(_systemUtils),_gdbotsPbjException2=_interopRequireDefault(_gdbotsPbjException),InvalidSchemaVersion=function(_SystemUtils$mixinCla){function InvalidSchemaVersion(){return _classCallCheck(this,InvalidSchemaVersion),_possibleConstructorReturn(this,Object.getPrototypeOf(InvalidSchemaVersion).apply(this,arguments))}return _inherits(InvalidSchemaVersion,_SystemUtils$mixinCla),InvalidSchemaVersion}(_systemUtils2["default"].mixinClass(_gdbotsPbjException2["default"]));exports["default"]=InvalidSchemaVersion}),function(global,factory){if("function"==typeof define&&define.amd)define("gdbots/pbj/exception/logic-exception",["exports","gdbots/common/util/system-utils","gdbots/pbj/exception/gdbots-pbj-exception"],factory);else if("undefined"!=typeof exports)factory(exports,require("gdbots/common/util/system-utils"),require("gdbots/pbj/exception/gdbots-pbj-exception"));else{var mod={exports:{}};factory(mod.exports,global.systemUtils,global.gdbotsPbjException),global.gdbotsPbjExceptionLogicException=mod.exports}}(this,function(exports,_systemUtils,_gdbotsPbjException){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0});var _systemUtils2=_interopRequireDefault(_systemUtils),_gdbotsPbjException2=_interopRequireDefault(_gdbotsPbjException),LogicException=function(_SystemUtils$mixinCla){function LogicException(){return _classCallCheck(this,LogicException),_possibleConstructorReturn(this,Object.getPrototypeOf(LogicException).apply(this,arguments))}return _inherits(LogicException,_SystemUtils$mixinCla),LogicException}(_systemUtils2["default"].mixinClass(_gdbotsPbjException2["default"]));exports["default"]=LogicException}),function(global,factory){if("function"==typeof define&&define.amd)define("gdbots/pbj/exception/mixin-already-added",["exports","gdbots/common/util/system-utils","gdbots/pbj/exception/gdbots-pbj-exception"],factory);else if("undefined"!=typeof exports)factory(exports,require("gdbots/common/util/system-utils"),require("gdbots/pbj/exception/gdbots-pbj-exception"));else{var mod={exports:{}};factory(mod.exports,global.systemUtils,global.gdbotsPbjException),global.gdbotsPbjExceptionMixinAlreadyAdded=mod.exports}}(this,function(exports,_systemUtils,_gdbotsPbjException){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0});var _systemUtils2=_interopRequireDefault(_systemUtils),_gdbotsPbjException2=_interopRequireDefault(_gdbotsPbjException),_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),privateProps=new WeakMap,MixinAlreadyAdded=function(_SystemUtils$mixinCla){function MixinAlreadyAdded(schema,originalMixin,duplicateMixin){_classCallCheck(this,MixinAlreadyAdded);var _this=_possibleConstructorReturn(this,Object.getPrototypeOf(MixinAlreadyAdded).call(this,"Mixin with id ["+duplicateMixin.getId().toString()+"] was already added from ["+originalMixin.getId().toString()+"] to message ["+schema.getClassName()+"]. You cannot add multiple versions of the same mixin."));return privateProps.set(_this,{schema:schema,originalMixin:originalMixin,duplicateMixin:duplicateMixin}),_this}return _inherits(MixinAlreadyAdded,_SystemUtils$mixinCla),_createClass(MixinAlreadyAdded,[{key:"getOriginalMixin",value:function(){return privateProps.get(this).originalMixin}},{key:"getDuplicateMixin",value:function(){return privateProps.get(this).duplicateMixin}}]),MixinAlreadyAdded}(_systemUtils2["default"].mixinClass(_gdbotsPbjException2["default"]));exports["default"]=MixinAlreadyAdded}),function(global,factory){if("function"==typeof define&&define.amd)define("gdbots/pbj/exception/mixin-not-defined",["exports","gdbots/common/util/system-utils","gdbots/pbj/exception/gdbots-pbj-exception"],factory);else if("undefined"!=typeof exports)factory(exports,require("gdbots/common/util/system-utils"),require("gdbots/pbj/exception/gdbots-pbj-exception"));else{var mod={exports:{}};factory(mod.exports,global.systemUtils,global.gdbotsPbjException),global.gdbotsPbjExceptionMixinNotDefined=mod.exports}}(this,function(exports,_systemUtils,_gdbotsPbjException){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0});var _systemUtils2=_interopRequireDefault(_systemUtils),_gdbotsPbjException2=_interopRequireDefault(_gdbotsPbjException),_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),privateProps=new WeakMap,MixinNotDefined=function(_SystemUtils$mixinCla){function MixinNotDefined(schema,mixinId){_classCallCheck(this,MixinNotDefined);var _this=_possibleConstructorReturn(this,Object.getPrototypeOf(MixinNotDefined).call(this,"Mixin ["+mixinId+"] is not defined on message ["+schema.getClassName()+"]."));return privateProps.set(_this,{schema:schema,mixinId:mixinId}),_this}return _inherits(MixinNotDefined,_SystemUtils$mixinCla),_createClass(MixinNotDefined,[{key:"getMixinId",value:function(){return privateProps.get(this).mixinId}}]),MixinNotDefined}(_systemUtils2["default"].mixinClass(_gdbotsPbjException2["default"]));exports["default"]=MixinNotDefined}),function(global,factory){if("function"==typeof define&&define.amd)define("gdbots/pbj/exception/more-than-one-message-for-mixin",["exports","gdbots/common/util/system-utils","gdbots/pbj/exception/gdbots-pbj-exception"],factory);else if("undefined"!=typeof exports)factory(exports,require("gdbots/common/util/system-utils"),require("gdbots/pbj/exception/gdbots-pbj-exception"));else{var mod={exports:{}};factory(mod.exports,global.systemUtils,global.gdbotsPbjException),global.gdbotsPbjExceptionMoreThanOneMessageForMixin=mod.exports}}(this,function(exports,_systemUtils,_gdbotsPbjException){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0});var _systemUtils2=_interopRequireDefault(_systemUtils),_gdbotsPbjException2=_interopRequireDefault(_gdbotsPbjException),_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),privateProps=new WeakMap,MoreThanOneMessageForMixin=function(_SystemUtils$mixinCla){function MoreThanOneMessageForMixin(mixin,messages){_classCallCheck(this,MoreThanOneMessageForMixin);var ids=messages.map(function(message){var schema=message.schema();return schema.getId().toString()+" => "+schema.getClassName()}),_this=_possibleConstructorReturn(this,Object.getPrototypeOf(MoreThanOneMessageForMixin).call(this,"MessageResolver returned multiple messages using ["+mixin.getId().getCurieMajor()+"] when one was expected. Messages found: \n"+ids.join("\n")));return privateProps.set(_this,{mixin:mixin,messages:messages}),_this}return _inherits(MoreThanOneMessageForMixin,_SystemUtils$mixinCla),_createClass(MoreThanOneMessageForMixin,[{key:"getMixin",value:function(){return privateProps.get(this).mixin}},{key:"getMessage",value:function(){return privateProps.get(this).messages}}]),MoreThanOneMessageForMixin}(_systemUtils2["default"].mixinClass(_gdbotsPbjException2["default"]));exports["default"]=MoreThanOneMessageForMixin}),function(global,factory){if("function"==typeof define&&define.amd)define("gdbots/pbj/exception/no-message-for-curie",["exports","gdbots/common/util/system-utils","gdbots/pbj/exception/gdbots-pbj-exception"],factory);else if("undefined"!=typeof exports)factory(exports,require("gdbots/common/util/system-utils"),require("gdbots/pbj/exception/gdbots-pbj-exception"));else{var mod={exports:{}};factory(mod.exports,global.systemUtils,global.gdbotsPbjException),global.gdbotsPbjExceptionNoMessageForCurie=mod.exports}}(this,function(exports,_systemUtils,_gdbotsPbjException){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0});var _systemUtils2=_interopRequireDefault(_systemUtils),_gdbotsPbjException2=_interopRequireDefault(_gdbotsPbjException),_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),privateProps=new WeakMap,NoMessageForCurie=function(_SystemUtils$mixinCla){function NoMessageForCurie(curie){_classCallCheck(this,NoMessageForCurie);var _this=_possibleConstructorReturn(this,Object.getPrototypeOf(NoMessageForCurie).call(this,"MessageResolver is unable to resolve ["+curie.toString()+"] to a message."));return privateProps.set(_this,{curie:curie}),_this}return _inherits(NoMessageForCurie,_SystemUtils$mixinCla),_createClass(NoMessageForCurie,[{key:"getCurie",value:function(){return privateProps.get(this).curie}}]),NoMessageForCurie}(_systemUtils2["default"].mixinClass(_gdbotsPbjException2["default"]));exports["default"]=NoMessageForCurie}),function(global,factory){if("function"==typeof define&&define.amd)define("gdbots/pbj/exception/no-message-for-mixin",["exports","gdbots/common/util/system-utils","gdbots/pbj/exception/gdbots-pbj-exception"],factory);else if("undefined"!=typeof exports)factory(exports,require("gdbots/common/util/system-utils"),require("gdbots/pbj/exception/gdbots-pbj-exception"));else{var mod={exports:{}};factory(mod.exports,global.systemUtils,global.gdbotsPbjException),global.gdbotsPbjExceptionNoMessageForMixin=mod.exports}}(this,function(exports,_systemUtils,_gdbotsPbjException){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0});var _systemUtils2=_interopRequireDefault(_systemUtils),_gdbotsPbjException2=_interopRequireDefault(_gdbotsPbjException),_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),privateProps=new WeakMap,NoMessageForMixin=function(_SystemUtils$mixinCla){function NoMessageForMixin(mixin){_classCallCheck(this,NoMessageForMixin);var _this=_possibleConstructorReturn(this,Object.getPrototypeOf(NoMessageForMixin).call(this,"MessageResolver is unable to find any messages using ["+mixin.getId().getCurieMajor()+"]."));return privateProps.set(_this,{mixin:mixin}),_this}return _inherits(NoMessageForMixin,_SystemUtils$mixinCla),_createClass(NoMessageForMixin,[{key:"getMixin",value:function(){return privateProps.get(this).mixin}}]),NoMessageForMixin}(_systemUtils2["default"].mixinClass(_gdbotsPbjException2["default"]));exports["default"]=NoMessageForMixin}),function(global,factory){if("function"==typeof define&&define.amd)define("gdbots/pbj/exception/no-message-for-schema-id",["exports","gdbots/common/util/system-utils","gdbots/pbj/exception/gdbots-pbj-exception"],factory);else if("undefined"!=typeof exports)factory(exports,require("gdbots/common/util/system-utils"),require("gdbots/pbj/exception/gdbots-pbj-exception"));else{var mod={exports:{}};factory(mod.exports,global.systemUtils,global.gdbotsPbjException),global.gdbotsPbjExceptionNoMessageForSchemaId=mod.exports}}(this,function(exports,_systemUtils,_gdbotsPbjException){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0});var _systemUtils2=_interopRequireDefault(_systemUtils),_gdbotsPbjException2=_interopRequireDefault(_gdbotsPbjException),_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),privateProps=new WeakMap,NoMessageForSchemaId=function(_SystemUtils$mixinCla){function NoMessageForSchemaId(schemaId){_classCallCheck(this,NoMessageForSchemaId);var _this=_possibleConstructorReturn(this,Object.getPrototypeOf(NoMessageForSchemaId).call(this,"MessageResolver is unable to resolve schema id ["+schemaId.toString()+"] using curie ["+schemaId.getCurieMajor()+"] to a message."));return privateProps.set(_this,{schemaId:schemaId}),_this}return _inherits(NoMessageForSchemaId,_SystemUtils$mixinCla),_createClass(NoMessageForSchemaId,[{key:"getSchemaId",value:function(){return privateProps.get(this).schemaId}}]),NoMessageForSchemaId}(_systemUtils2["default"].mixinClass(_gdbotsPbjException2["default"]));exports["default"]=NoMessageForSchemaId}),function(global,factory){if("function"==typeof define&&define.amd)define("gdbots/pbj/exception/required-field-not-set",["exports","gdbots/common/util/system-utils","gdbots/pbj/exception/gdbots-pbj-exception"],factory);else if("undefined"!=typeof exports)factory(exports,require("gdbots/common/util/system-utils"),require("gdbots/pbj/exception/gdbots-pbj-exception"));else{var mod={exports:{}};factory(mod.exports,global.systemUtils,global.gdbotsPbjException),global.gdbotsPbjExceptionRequiredFieldNotSet=mod.exports}}(this,function(exports,_systemUtils,_gdbotsPbjException){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0});var _systemUtils2=_interopRequireDefault(_systemUtils),_gdbotsPbjException2=_interopRequireDefault(_gdbotsPbjException),_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),privateProps=new WeakMap,RequiredFieldNotSet=function(_SystemUtils$mixinCla){function RequiredFieldNotSet(type,field){_classCallCheck(this,RequiredFieldNotSet);var _this=_possibleConstructorReturn(this,Object.getPrototypeOf(RequiredFieldNotSet).call(this,"Required field ["+field.getName()+"] must be set on message ["+type.constructor.schema().getClassName()+"]."));return privateProps.set(_this,{type:type,schema:type.constructor.schema(),field:field}),_this}return _inherits(RequiredFieldNotSet,_SystemUtils$mixinCla),_createClass(RequiredFieldNotSet,[{key:"getType",value:function(){return privateProps.get(this).type}},{key:"getField",value:function(){return privateProps.get(this).field}},{key:"getFieldName",value:function(){return privateProps.get(this).field.getName()}}]),RequiredFieldNotSet}(_systemUtils2["default"].mixinClass(_gdbotsPbjException2["default"]));exports["default"]=RequiredFieldNotSet}),function(global,factory){if("function"==typeof define&&define.amd)define("gdbots/pbj/exception/schema-not-defined",["exports","gdbots/common/util/system-utils","gdbots/pbj/exception/gdbots-pbj-exception"],factory);else if("undefined"!=typeof exports)factory(exports,require("gdbots/common/util/system-utils"),require("gdbots/pbj/exception/gdbots-pbj-exception"));else{var mod={exports:{}};factory(mod.exports,global.systemUtils,global.gdbotsPbjException),global.gdbotsPbjExceptionSchemaNotDefined=mod.exports}}(this,function(exports,_systemUtils,_gdbotsPbjException){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0});var _systemUtils2=_interopRequireDefault(_systemUtils),_gdbotsPbjException2=_interopRequireDefault(_gdbotsPbjException),SchemaNotDefined=function(_SystemUtils$mixinCla){function SchemaNotDefined(){return _classCallCheck(this,SchemaNotDefined),_possibleConstructorReturn(this,Object.getPrototypeOf(SchemaNotDefined).apply(this,arguments))}return _inherits(SchemaNotDefined,_SystemUtils$mixinCla),SchemaNotDefined}(_systemUtils2["default"].mixinClass(_gdbotsPbjException2["default"]));exports["default"]=SchemaNotDefined}),function(global,factory){if("function"==typeof define&&define.amd)define("gdbots/pbj/field-builder",["exports","gdbots/pbj/enum/field-rule","gdbots/pbj/field"],factory);else if("undefined"!=typeof exports)factory(exports,require("gdbots/pbj/enum/field-rule"),require("gdbots/pbj/field"));else{var mod={exports:{}};factory(mod.exports,global.fieldRule,global.field),global.gdbotsPbjFieldBuilder=mod.exports}}(this,function(exports,_fieldRule,_field){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _fieldRule2=_interopRequireDefault(_fieldRule),_field2=_interopRequireDefault(_field),_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){
return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),privateProps=new WeakMap,FieldBuilder=function(){function FieldBuilder(name,type){_classCallCheck(this,FieldBuilder),privateProps.set(this,{name:name,type:type,rule:null,required:!1,minLength:null,maxLength:null,pattern:null,format:null,min:null,max:null,precision:10,scale:2,defaultValue:null,useTypeDefault:!0,instance:null,anyOfInstances:null,assertion:null,overridable:!1})}return _createClass(FieldBuilder,[{key:"required",value:function(){return privateProps.get(this).required=!0,this}},{key:"optional",value:function(){return privateProps.get(this).required=!1,this}},{key:"asASingleValue",value:function(){return privateProps.get(this).rule=_fieldRule2["default"].A_SINGLE_VALUE,this}},{key:"asASet",value:function(){return privateProps.get(this).rule=_fieldRule2["default"].A_SET,this}},{key:"asAList",value:function(){return privateProps.get(this).rule=_fieldRule2["default"].A_LIST,this}},{key:"asAMap",value:function(){return privateProps.get(this).rule=_fieldRule2["default"].A_MAP,this}},{key:"minLength",value:function(_minLength){return privateProps.get(this).minLength=parseInt(_minLength),this}},{key:"maxLength",value:function(_maxLength){return privateProps.get(this).maxLength=parseInt(_maxLength),this}},{key:"pattern",value:function(_pattern){return privateProps.get(this).pattern=_pattern,this}},{key:"format",value:function(_format){return privateProps.get(this).format=_format,this}},{key:"min",value:function(_min){return privateProps.get(this).min=parseInt(_min),this}},{key:"max",value:function(_max){return privateProps.get(this).max=parseInt(_max),this}},{key:"precision",value:function(_precision){return privateProps.get(this).precision=parseInt(_precision),this}},{key:"scale",value:function(_scale){return privateProps.get(this).scale=parseInt(_scale),this}},{key:"withDefault",value:function(defaultValue){return privateProps.get(this).defaultValue=defaultValue,this}},{key:"useTypeDefault",value:function(_useTypeDefault){return privateProps.get(this).useTypeDefault=Boolean(_useTypeDefault),this}},{key:"instance",value:function(_instance){return privateProps.get(this).instance=_instance,privateProps.get(this).anyOfInstances=null,this}},{key:"anyOfInstances",value:function(_anyOfInstances){return privateProps.get(this).anyOfInstances=_anyOfInstances,privateProps.get(this).instance=null,this}},{key:"assertion",value:function(_assertion){return privateProps.get(this).assertion=_assertion,this}},{key:"overridable",value:function(_overridable){return privateProps.get(this).overridable=Boolean(_overridable),this}},{key:"build",value:function(){return null===privateProps.get(this).rule&&(privateProps.get(this).rule=_fieldRule2["default"].A_SINGLE_VALUE),new _field2["default"](privateProps.get(this).name,privateProps.get(this).type,privateProps.get(this).rule,privateProps.get(this).required,privateProps.get(this).minLength,privateProps.get(this).maxLength,privateProps.get(this).pattern,privateProps.get(this).format,privateProps.get(this).min,privateProps.get(this).max,privateProps.get(this).precision,privateProps.get(this).scale,privateProps.get(this).defaultValue,privateProps.get(this).useTypeDefault,privateProps.get(this).instance,privateProps.get(this).anyOfInstances,privateProps.get(this).assertion,privateProps.get(this).overridable)}}],[{key:"create",value:function(name,type){return new this(name,type)}}]),FieldBuilder}();exports["default"]=FieldBuilder}),function(global,factory){if("function"==typeof define&&define.amd)define("gdbots/pbj/field",["exports","gdbots/common/to-array","gdbots/common/util/array-utils","gdbots/common/util/number-utils","gdbots/common/util/system-utils","gdbots/pbj/enum/type-name","gdbots/pbj/enum/field-rule","gdbots/pbj/enum/format"],factory);else if("undefined"!=typeof exports)factory(exports,require("gdbots/common/to-array"),require("gdbots/common/util/array-utils"),require("gdbots/common/util/number-utils"),require("gdbots/common/util/system-utils"),require("gdbots/pbj/enum/type-name"),require("gdbots/pbj/enum/field-rule"),require("gdbots/pbj/enum/format"));else{var mod={exports:{}};factory(mod.exports,global.toArray,global.arrayUtils,global.numberUtils,global.systemUtils,global.typeName,global.fieldRule,global.format),global.gdbotsPbjField=mod.exports}}(this,function(exports,_toArray,_arrayUtils,_numberUtils,_systemUtils,_typeName,_fieldRule,_format){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}function applyFieldRule(){var rule=arguments.length<=0||void 0===arguments[0]?null:arguments[0];if(privateProps.get(this).rule=rule||_fieldRule2["default"].A_SINGLE_VALUE,this.isASet()&&!privateProps.get(this).type.allowedInSet())throw new Error("Field ["+privateProps.get(this).name+"] with type ["+privateProps.get(this).type.getTypeValue()+"] cannot be used in a set.")}function applyStringOptions(){var minLength=arguments.length<=0||void 0===arguments[0]?null:arguments[0],maxLength=arguments.length<=1||void 0===arguments[1]?null:arguments[1],pattern=arguments.length<=2||void 0===arguments[2]?null:arguments[2],format=arguments.length<=3||void 0===arguments[3]?null:arguments[3];privateProps.get(this).minLength=parseInt(minLength),privateProps.get(this).maxLength=parseInt(maxLength),maxLength>0?(privateProps.get(this).maxLength=maxLength,privateProps.get(this).minLength=_numberUtils2["default"].bound(minLength,0,privateProps.get(this).maxLength)):privateProps.get(this).minLength=_numberUtils2["default"].bound(minLength,0,privateProps.get(this).type.getMaxBytes()),null!==pattern&&(privateProps.get(this).pattern=pattern.trim().replace("/","")),null!==format&&_format2["default"].enumValueOf(format)?privateProps.get(this).format=_format2["default"].enumValueOf(format):privateProps.get(this).format=_format2["default"].UNKNOWN}function applyNumericOptions(){var min=arguments.length<=0||void 0===arguments[0]?null:arguments[0],max=arguments.length<=1||void 0===arguments[1]?null:arguments[1],precision=arguments.length<=2||void 0===arguments[2]?10:arguments[2],scale=arguments.length<=3||void 0===arguments[3]?2:arguments[3];null!==max&&(privateProps.get(this).max=parseInt(max)),null!==min&&(privateProps.get(this).min=parseInt(min),null!==privateProps.get(this).max&&privateProps.get(this).min>privateProps.get(this).max&&(privateProps.get(this).min=privateProps.get(this).max)),privateProps.get(this).precision=_numberUtils2["default"].bound(parseInt(precision),1,65),privateProps.get(this).scale=_numberUtils2["default"].bound(parseInt(scale),0,privateProps.get(this).precision)}function applyDefault(){var defaultValue=arguments.length<=0||void 0===arguments[0]?null:arguments[0];if(privateProps.get(this).defaultValue=defaultValue,privateProps.get(this).type.isScalar())privateProps.get(this).type.getTypeName()!==_typeName2["default"].TIMESTAMP&&(privateProps.get(this).useTypeDefault=!0);else{var decodeDefault=null!==privateProps.get(this).defaultValue&&"function"!=typeof privateProps.get(this).defaultValue;switch(privateProps.get(this).type.getTypeName()){case _typeName2["default"].IDENTIFIER:if(null===privateProps.get(this).instance)throw new Error("Field ["+privateProps.get(this).name+"] requires an instance.");decodeDefault&&!privateProps.get(this).defaultValue.hasTrait("Identifier")&&(privateProps.get(this).defaultValue=privateProps.get(this).type.decode(privateProps.get(this).defaultValue,this));break;case _typeName2["default"].INT_ENUM:case _typeName2["default"].STRING_ENUM:if(null===privateProps.get(this).instance)throw new Error("Field ["+privateProps.get(this).name+"] requires an instance.");decodeDefault&&!privateProps.get(this).defaultValue.hasTrait("Enum")&&(privateProps.get(this).defaultValue=privateProps.get(this).type.decode(privateProps.get(this).defaultValue,this))}}null!==privateProps.get(this).defaultValue&&"function"!=typeof privateProps.get(this).defaultValue&&guardDefault.bind(this)(privateProps.get(this).defaultValue)}function guardDefault(defaultValue){if(this.isASingleValue())return void this.guardValue(defaultValue);if(null!==defaultValue||!Array.isArray(defaultValue))throw new Error("Field ["+privateProps.get(this).name+"] default must be an array.");if(null!==defaultValue){if(this.isAMap()&&!_arrayUtils2["default"].isAssoc(defaultValue))throw new Error("Field ["+privateProps.get(this).name+"] default must be an associative array.");_arrayUtils2["default"].each(defaultValue,function(value,key){if(null===value)throw new Error("Field ["+privateProps.get(this).name+"] default for key ["+value+"] cannot be null.");this.guardValue(value)}.bind(this))}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.VALID_NAME_PATTERN=void 0;var _toArray2=_interopRequireDefault(_toArray),_arrayUtils2=_interopRequireDefault(_arrayUtils),_numberUtils2=_interopRequireDefault(_numberUtils),_systemUtils2=_interopRequireDefault(_systemUtils),_typeName2=_interopRequireDefault(_typeName),_fieldRule2=_interopRequireDefault(_fieldRule),_format2=_interopRequireDefault(_format),_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),VALID_NAME_PATTERN=exports.VALID_NAME_PATTERN=/^[a-zA-Z_]{1}[a-zA-Z0-9_]*/,privateProps=new WeakMap,Field=function(_SystemUtils$mixinCla){function Field(name,type){var rule=arguments.length<=2||void 0===arguments[2]?null:arguments[2],required=arguments.length<=3||void 0===arguments[3]?!1:arguments[3],minLength=arguments.length<=4||void 0===arguments[4]?null:arguments[4],maxLength=arguments.length<=5||void 0===arguments[5]?null:arguments[5],pattern=arguments.length<=6||void 0===arguments[6]?null:arguments[6],format=arguments.length<=7||void 0===arguments[7]?null:arguments[7],min=arguments.length<=8||void 0===arguments[8]?null:arguments[8],max=arguments.length<=9||void 0===arguments[9]?null:arguments[9],precision=arguments.length<=10||void 0===arguments[10]?10:arguments[10],scale=arguments.length<=11||void 0===arguments[11]?2:arguments[11],defaultValue=arguments.length<=12||void 0===arguments[12]?null:arguments[12],useTypeDefault=arguments.length<=13||void 0===arguments[13]?!0:arguments[13],instance=arguments.length<=14||void 0===arguments[14]?null:arguments[14],anyOfInstances=arguments.length<=15||void 0===arguments[15]?null:arguments[15],assertion=arguments.length<=16||void 0===arguments[16]?null:arguments[16],overridable=arguments.length<=17||void 0===arguments[17]?!1:arguments[17];_classCallCheck(this,Field);var _this=_possibleConstructorReturn(this,Object.getPrototypeOf(Field).call(this));if(1>name.length||name.length>127)throw new Error("Name length must be between 1 to 127.");if(!VALID_NAME_PATTERN.test(name))throw new Error("Field ["+name+"] must match pattern ["+VALID_NAME_PATTERN+"].");if(!type||!type.hasTrait("Type"))throw new Error('Class "'+type+'" was expected to be instanceof of "Type" but is not.');if("boolean"!=typeof required)throw new Error("Required value must be boolean.");if("boolean"!=typeof useTypeDefault)throw new Error("UseTypeDefault value must be boolean.");if("boolean"!=typeof overridable)throw new Error("Overridable value must be boolean.");return type.getTypeName()!==_typeName2["default"].MESSAGE&&(anyOfInstances=null),privateProps.set(_this,{name:name,type:type,rule:null,required:required||!1,minLength:null,maxLength:null,pattern:null,format:null,min:null,max:null,precision:10,scale:2,defaultValue:null,useTypeDefault:useTypeDefault,instance:instance,anyOfInstances:anyOfInstances,assertion:assertion,overridable:overridable||!1}),applyFieldRule.bind(_this)(rule),applyStringOptions.bind(_this)(minLength,maxLength,pattern,format),applyNumericOptions.bind(_this)(min,max,precision,scale),applyDefault.bind(_this)(defaultValue),_this}return _inherits(Field,_SystemUtils$mixinCla),_createClass(Field,[{key:"getName",value:function(){return privateProps.get(this).name}},{key:"getType",value:function(){return privateProps.get(this).type}},{key:"getRule",value:function(){return privateProps.get(this).rule}},{key:"isASingleValue",value:function(){return _fieldRule2["default"].A_SINGLE_VALUE===privateProps.get(this).rule}},{key:"isASet",value:function(){return _fieldRule2["default"].A_SET===privateProps.get(this).rule}},{key:"isAList",value:function(){return _fieldRule2["default"].A_LIST===privateProps.get(this).rule}},{key:"isAMap",value:function(){return _fieldRule2["default"].A_MAP===privateProps.get(this).rule}},{key:"isRequired",value:function(){return privateProps.get(this).required}},{key:"getMinLength",value:function(){return privateProps.get(this).minLength||0}},{key:"getMaxLength",value:function(){return privateProps.get(this).maxLength?privateProps.get(this).maxLength:privateProps.get(this).type.getMaxBytes()}},{key:"getPattern",value:function(){return privateProps.get(this).pattern}},{key:"getFormat",value:function(){return privateProps.get(this).format}},{key:"getMin",value:function(){return privateProps.get(this).min?privateProps.get(this).min:privateProps.get(this).type.getMin()}},{key:"getMax",value:function(){return privateProps.get(this).max?privateProps.get(this).max:privateProps.get(this).type.getMax()}},{key:"getPrecision",value:function(){return privateProps.get(this).precision}},{key:"getScale",value:function(){return privateProps.get(this).scale}},{key:"getDefault",value:function(){var message=arguments.length<=0||void 0===arguments[0]?null:arguments[0];if(null===privateProps.get(this).defaultValue)return privateProps.get(this).useTypeDefault?this.isASingleValue()?privateProps.get(this).type.getDefault():[]:this.isASingleValue()?null:[];if("function"==typeof privateProps.get(this).defaultValue){var defaultValue=privateProps.get(this).defaultValue(message,this);return guardDefault.bind(this)(defaultValue),null===defaultValue?privateProps.get(this).useTypeDefault?this.isASingleValue()?privateProps.get(this).type.getDefault():[]:this.isASingleValue()?null:[]:defaultValue}return privateProps.get(this).defaultValue}},{key:"hasInstance",value:function(){return null!==privateProps.get(this).instance}},{key:"getInstance",value:function(){return privateProps.get(this).instance}},{key:"hasAnyOfInstances",value:function(){return null!==privateProps.get(this).anyOfInstances}},{key:"getAnyOfInstances",value:function(){return privateProps.get(this).anyOfInstances}},{key:"isOverridable",value:function(){return privateProps.get(this).overridable}},{key:"guardValue",value:function(value){if(privateProps.get(this).required&&null===value)throw new Error("Field ["+privateProps.get(this).name+"] is required and cannot be null.");null!==value&&privateProps.get(this).type.guard(value,this),null!==privateProps.get(this).assertion&&privateProps.get(this).assertion(value,this)}},{key:"toArray",value:function(){return{name:privateProps.get(this).name,type:privateProps.get(this).type.getTypeValue(),rule:privateProps.get(this).rule.getName(),required:privateProps.get(this).required,min_length:privateProps.get(this).minLength,max_length:privateProps.get(this).maxLength,pattern:privateProps.get(this).pattern,format:privateProps.get(this).format.getValue(),min:privateProps.get(this).min,max:privateProps.get(this).max,precision:privateProps.get(this).precision,scale:privateProps.get(this).scale,"default":this.getDefault(),use_type_default:privateProps.get(this).useTypeDefault,instance:privateProps.get(this).instance,any_of_instances:privateProps.get(this).anyOfInstances,has_assertion:null!==privateProps.get(this).assertion,overridable:privateProps.get(this).overridable}}},{key:"isCompatibleForMerge",value:function(other){return privateProps.get(this).name!==other.name?!1:privateProps.get(this).type!==other.type?!1:privateProps.get(this).rule!==other.rule?!1:privateProps.get(this).instance!==other.instance?!1:0===privateProps.get(this).anyOfInstances.filter(function(k){return-1!=other.anyOfInstances.indexOf(k)}).length?!1:!0}},{key:"isCompatibleForOverride",value:function(other){return privateProps.get(this).overridable?privateProps.get(this).name!==other.name?!1:privateProps.get(this).type!==other.type?!1:privateProps.get(this).rule!==other.rule?!1:privateProps.get(this).required!==other.required?!1:!0:!1}}]),Field}(_systemUtils2["default"].mixinClass(null,_toArray2["default"]));exports["default"]=Field}),function(global,factory){if("function"==typeof define&&define.amd)define("gdbots/pbj/message-ref",["exports","gdbots/common/util/system-utils","gdbots/common/from-array","gdbots/common/to-array","gdbots/pbj/schema-curie"],factory);else if("undefined"!=typeof exports)factory(exports,require("gdbots/common/util/system-utils"),require("gdbots/common/from-array"),require("gdbots/common/to-array"),require("gdbots/pbj/schema-curie"));else{var mod={exports:{}};factory(mod.exports,global.systemUtils,global.fromArray,global.toArray,global.schemaCurie),global.gdbotsPbjMessageRef=mod.exports}}(this,function(exports,_systemUtils,_fromArray,_toArray,_schemaCurie){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0});var _systemUtils2=_interopRequireDefault(_systemUtils),_fromArray2=_interopRequireDefault(_fromArray),_toArray2=_interopRequireDefault(_toArray),_schemaCurie2=_interopRequireDefault(_schemaCurie),_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),privateProps=new WeakMap,MessageRef=function(_SystemUtils$mixinCla){function MessageRef(curie,id){var tag=arguments.length<=2||void 0===arguments[2]?null:arguments[2];_classCallCheck(this,MessageRef);var _this=_possibleConstructorReturn(this,Object.getPrototypeOf(MessageRef).call(this));if(privateProps.set(_this,{curie:curie,id:id||"null",tag:null}),!1===/^[\w\/\.:-]+/.test(privateProps.get(_this).id))throw new Error("MessageRef.id");if(null!==tag&&(privateProps.get(_this).tag=tag.toString().toLowerCase().replace(/\s+/g,"-").replace(/[^\w\-]+/g,"").replace(/\-\-+/g,"-").replace(/^-+/,"").replace(/-+$/,"")),privateProps.get(_this).curie.isMixin())throw new Error("Mixins cannot be used in a MessageRef.");return _this}return _inherits(MessageRef,_SystemUtils$mixinCla),_createClass(MessageRef,[{key:"toArray",value:function(){return null!==privateProps.get(this).tag?{curie:privateProps.get(this).curie.toString(),id:privateProps.get(this).id,tag:privateProps.get(this).tag}:{curie:privateProps.get(this).curie.toString(),id:privateProps.get(this).id}}},{key:"toString",value:function(){return null!==privateProps.get(this).tag?privateProps.get(this).curie.toString()+":"+privateProps.get(this).id+"#"+privateProps.get(this).tag:privateProps.get(this).curie.toString()+":"+privateProps.get(this).id}},{key:"getCurie",value:function(){return privateProps.get(this).curie}},{key:"hasId",value:function(){return"null"!=privateProps.get(this).id}},{key:"getId",value:function(){return privateProps.get(this).id}},{key:"hasTag",value:function(){return null!==privateProps.get(this).tag}},{key:"getTag",value:function(){return privateProps.get(this).tag}},{key:"equals",value:function(other){return this.toString()===other.toString()}}],[{key:"fromArray",value:function(){var data=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];if(data.curie){var id=data.id||"null",tag=data.tag||null;return new this(_schemaCurie2["default"].fromString(data.curie),id,tag)}throw new Error("Payload must be a MessageRef type.")}},{key:"fromString",value:function(string){var parts=string.split("#",2),ref=parts[0],tag=parts[1]||null;parts=ref.split(":",5);var id=parts.pop(),curie=_schemaCurie2["default"].fromString(parts.join(":"));return new this(curie,id,tag)}}]),MessageRef}(_systemUtils2["default"].mixinClass(null,_fromArray2["default"],_toArray2["default"]));exports["default"]=MessageRef}),function(global,factory){if("function"==typeof define&&define.amd)define("gdbots/pbj/message-resolver",["exports","gdbots/common/util/array-utils","gdbots/common/util/system-utils","gdbots/pbj/exception/no-message-for-curie","gdbots/pbj/exception/no-message-for-schema-id","gdbots/pbj/exception/no-message-for-mixin","gdbots/pbj/exception/more-than-one-message-for-mixin"],factory);else if("undefined"!=typeof exports)factory(exports,require("gdbots/common/util/array-utils"),require("gdbots/common/util/system-utils"),require("gdbots/pbj/exception/no-message-for-curie"),require("gdbots/pbj/exception/no-message-for-schema-id"),require("gdbots/pbj/exception/no-message-for-mixin"),require("gdbots/pbj/exception/more-than-one-message-for-mixin"));else{var mod={exports:{}};factory(mod.exports,global.arrayUtils,global.systemUtils,global.noMessageForCurie,global.noMessageForSchemaId,global.noMessageForMixin,global.moreThanOneMessageForMixin),global.gdbotsPbjMessageResolver=mod.exports}}(this,function(exports,_arrayUtils,_systemUtils,_noMessageForCurie,_noMessageForSchemaId,_noMessageForMixin,_moreThanOneMessageForMixin){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _arrayUtils2=_interopRequireDefault(_arrayUtils),_systemUtils2=_interopRequireDefault(_systemUtils),_noMessageForCurie2=_interopRequireDefault(_noMessageForCurie),_noMessageForSchemaId2=_interopRequireDefault(_noMessageForSchemaId),_noMessageForMixin2=_interopRequireDefault(_noMessageForMixin),_moreThanOneMessageForMixin2=_interopRequireDefault(_moreThanOneMessageForMixin),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol?"symbol":typeof obj},_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_registerPromise=null,_messages={},_resolved={},_resolvedMixins={},MessageResolver=function(){function MessageResolver(){_classCallCheck(this,MessageResolver)}return _createClass(MessageResolver,null,[{key:"registerPromise",value:function(){return _registerPromise||Promise.resolve(!0)}},{key:"messages",value:function(){return _messages}},{key:"resolved",value:function(){return _resolved}},{key:"resolvedMixins",value:function(){return _resolvedMixins}},{key:"resolveId",value:function(id){var curieMajor=id.getCurieMajor();if(-1!==Object.keys(_resolved).indexOf(curieMajor))return _resolved[curieMajor];var message=null;if(-1!==Object.keys(_messages).indexOf(curieMajor))return message=_messages[curieMajor],_resolved[curieMajor]=message,message;var curie=id.getCurie().toString();if(-1!==Object.keys(_messages).indexOf(curie))return message=_messages[curie],_resolved[curieMajor]=message,_resolved[curie]=message,message;throw new _noMessageForSchemaId2["default"](id)}},{key:"resolveCurie",value:function(curie){var key=curie.toString();if(-1!==Object.keys(_resolved).indexOf(key))return _resolved[key];if(-1!==Object.keys(_messages).indexOf(key)){var _message=_messages[key];return _resolved[key]=_message,_message}throw new _noMessageForCurie2["default"](curie)}},{key:"registerSchema",value:function(message,schema){_messages[schema.getId().getCurieMajor()]=message}},{key:"register",value:function(id,message){"SchemaId"===_systemUtils2["default"].getClass(id)&&(id=id.getCurieMajor()),_messages[id]=message}},{key:"registerMap",value:function(){var map=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],promises=[];_arrayUtils2["default"].each(map,function(value,key){map.hasOwnProperty(key)&&("object"===("undefined"==typeof value?"undefined":_typeof(value))&&value.hasTrait("Message")?_messages[message.schema().getId().getCurieMajor()]=message:promises.push(_systemUtils2["default"]["import"](value)))}),_registerPromise=Promise.all(promises).then(function(messages){_arrayUtils2["default"].each(messages,function(message){message=message["default"],_messages[message.schema().getId().getCurieMajor()]=message}.bind(this)),_registerPromise=null}.bind(this))}},{key:"findOneUsingMixin",value:function(mixin){var inPackage=arguments.length<=1||void 0===arguments[1]?null:arguments[1],inCategory=arguments.length<=2||void 0===arguments[2]?null:arguments[2],messages=this.findAllUsingMixin(mixin,inPackage,inCategory);if(1!==messages.length)throw new _moreThanOneMessageForMixin2["default"](mixin,messages);return messages[0]}},{key:"findAllUsingMixin",value:function(mixin){var inPackage=arguments.length<=1||void 0===arguments[1]?null:arguments[1],inCategory=arguments.length<=2||void 0===arguments[2]?null:arguments[2],mixinId=mixin.getId().getCurieMajor(),key=mixinId+inPackage+inCategory,messages=[];if(-1===Object.keys(_resolvedMixins).indexOf(key)?!function(){var filtered=inPackage&&inPackage.length||inCategory&&inCategory.length;_arrayUtils2["default"].each(_messages,function(message,id){if(filtered){var curie=id.split(":");if(inPackage&&inPackage.length&&curie[1]!=inPackage)return;if(inCategory&&inCategory.length&&curie[2]!=inCategory)return}var schema=message.schema();schema.hasMixin(mixinId)&&messages.push(message)}),_resolvedMixins[key]=messages}():messages=_resolvedMixins[key],!messages||0===messages.length)throw new _noMessageForMixin2["default"](mixin);return messages}}]),MessageResolver}();exports["default"]=MessageResolver}),function(global,factory){if("function"==typeof define&&define.amd)define("gdbots/pbj/message",["exports","gdbots/common/from-array","gdbots/common/to-array","gdbots/common/util/array-utils","gdbots/common/util/string-utils","gdbots/common/util/system-utils","gdbots/pbj/exception/schema-not-defined","gdbots/pbj/exception/required-field-not-set","gdbots/pbj/exception/frozen-message-is-immutable","gdbots/pbj/exception/logic-exception","gdbots/pbj/serializer/array-serializer","gdbots/pbj/schema"],factory);else if("undefined"!=typeof exports)factory(exports,require("gdbots/common/from-array"),require("gdbots/common/to-array"),require("gdbots/common/util/array-utils"),require("gdbots/common/util/string-utils"),require("gdbots/common/util/system-utils"),require("gdbots/pbj/exception/schema-not-defined"),require("gdbots/pbj/exception/required-field-not-set"),require("gdbots/pbj/exception/frozen-message-is-immutable"),require("gdbots/pbj/exception/logic-exception"),require("gdbots/pbj/serializer/array-serializer"),require("gdbots/pbj/schema"));else{var mod={exports:{}};factory(mod.exports,global.fromArray,global.toArray,global.arrayUtils,global.stringUtils,global.systemUtils,global.schemaNotDefined,global.requiredFieldNotSet,global.frozenMessageIsImmutable,global.logicException,global.arraySerializer,global.schema),global.gdbotsPbjMessage=mod.exports}}(this,function(exports,_fromArray,_toArray,_arrayUtils,_stringUtils,_systemUtils,_schemaNotDefined,_requiredFieldNotSet,_frozenMessageIsImmutable,_logicException,_arraySerializer,_schema){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}function guardFrozenMessage(){if(privateProps.get(this).isFrozen)throw new _frozenMessageIsImmutable2["default"](this)}function populateDefault(field){if(this.has(field.getName()))return!0;var defaultValue=field.getDefault(this);return null===defaultValue?!1:field.isASingleValue()?(privateProps.get(this).data[field.getName()]=defaultValue,delete privateProps.get(this).clearedFields[field.getName()],!0):defaultValue&&0!==defaultValue.length?field.isASet()?(this.addToSet(field.getName(),defaultValue),!0):(privateProps.get(this).data[field.getName()]=defaultValue,delete privateProps.get(this).clearedFields[field.getName()],!0):!1}Object.defineProperty(exports,"__esModule",{value:!0});var _fromArray2=_interopRequireDefault(_fromArray),_toArray2=_interopRequireDefault(_toArray),_arrayUtils2=_interopRequireDefault(_arrayUtils),_stringUtils2=_interopRequireDefault(_stringUtils),_systemUtils2=_interopRequireDefault(_systemUtils),_schemaNotDefined2=_interopRequireDefault(_schemaNotDefined),_requiredFieldNotSet2=_interopRequireDefault(_requiredFieldNotSet),_frozenMessageIsImmutable2=_interopRequireDefault(_frozenMessageIsImmutable),_logicException2=_interopRequireDefault(_logicException),_arraySerializer2=_interopRequireDefault(_arraySerializer),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){
return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol?"symbol":typeof obj},_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_schemas={},serializer=null,privateProps=new WeakMap,Message=function(_SystemUtils$mixinCla){function Message(){_classCallCheck(this,Message);var _this=_possibleConstructorReturn(this,Object.getPrototypeOf(Message).call(this));return privateProps.set(_this,{data:{},clearedFields:{},isFrozen:!1,isReplay:!1}),_this}return _inherits(Message,_SystemUtils$mixinCla),_createClass(Message,[{key:"toArray",value:function(){return null===serializer&&(serializer=new _arraySerializer2["default"]),serializer.serialize(this)}},{key:"toYaml",value:function(){arguments.length<=0||void 0===arguments[0]?{}:arguments[0];throw new Error("Not yet implemented.")}},{key:"toString",value:function(){return this.toArray()}},{key:"generateEtag",value:function(){var ignoredFields=arguments.length<=0||void 0===arguments[0]?[]:arguments[0];null===serializer&&(serializer=new _arraySerializer2["default"]);var array=serializer.serialize(this,{includeAllFields:!0});return 0===ignoredFields.length?_stringUtils2["default"].md5(JSON.stringify(array)):(_arrayUtils2["default"].each(ignoredFields,function(value,key){delete array[ignoredFields[key]]}),_stringUtils2["default"].md5(JSON.stringify(array)))}},{key:"generateMessageRef",value:function(){arguments.length<=0||void 0===arguments[0]?null:arguments[0];throw new Error("Interface function.")}},{key:"getUriTemplateVars",value:function(){throw new Error("Interface function.")}},{key:"validate",value:function(){return _arrayUtils2["default"].each(this.constructor.schema().getRequiredFields(),function(field){if(!this.has(field.getName()))throw new _requiredFieldNotSet2["default"](this,field)}.bind(this)),this}},{key:"freeze",value:function(){return privateProps.get(this).isFrozen?this:(this.validate(),privateProps.get(this).isFrozen=!0,_arrayUtils2["default"].each(this.constructor.schema().getFields(),function(field){var _this2=this;if(field.getType().isMessage()){var _ret=function(){var value=_this2.get(field.getName());return value&&0!==value.length?!Array.isArray(value)&&value.hasTrait("Message")?(value.freeze(),{v:void 0}):void _arrayUtils2["default"].each(value,function(v,k){value[k].freeze()}):{v:void 0}}();if("object"===("undefined"==typeof _ret?"undefined":_typeof(_ret)))return _ret.v}}.bind(this)),this)}},{key:"isFrozen",value:function(){return privateProps.get(this).isFrozen}},{key:"equals",value:function(other){return JSON.stringify(this)===JSON.stringify(other)}},{key:"isReplay",value:function(){var replay=arguments.length<=0||void 0===arguments[0]?null:arguments[0];if(null===replay)return null===privateProps.get(this).isReplay&&(privateProps.get(this).isReplay=!1),privateProps.get(this).isReplay;if(null===privateProps.get(this).isReplay)return privateProps.get(this).isReplay=Boolean(replay),privateProps.get(this).isReplay&&this.freeze(),privateProps.get(this).isReplay;throw new _logicException2["default"]("You can only set the replay mode on one time.")}},{key:"populateDefaults",value:function(){var fieldName=arguments.length<=0||void 0===arguments[0]?null:arguments[0];return guardFrozenMessage.bind(this)(),fieldName?(populateDefault.bind(this)(this.constructor.schema().getField(fieldName)),this):(_arrayUtils2["default"].each(this.constructor.schema().getFields(),function(field){populateDefault.bind(this)(field)}.bind(this)),this)}},{key:"has",value:function(fieldName){return void 0===privateProps.get(this).data[fieldName]?!1:Array.isArray(privateProps.get(this).data[fieldName])?privateProps.get(this).data[fieldName]&&privateProps.get(this).data[fieldName].length:!0}},{key:"get",value:function(fieldName){var defaultValue=arguments.length<=1||void 0===arguments[1]?null:arguments[1];if(!this.has(fieldName))return defaultValue;var field=this.constructor.schema().getField(fieldName);return field.isASet()?Object.keys(privateProps.get(this).data[fieldName]).map(function(v){return privateProps.get(this).data[fieldName][v]}.bind(this)):privateProps.get(this).data[fieldName]}},{key:"clear",value:function(fieldName){guardFrozenMessage.bind(this)();var field=this.constructor.schema().getField(fieldName);return delete privateProps.get(this).data[fieldName],privateProps.get(this).clearedFields[fieldName]=!0,populateDefault.bind(this)(field),this}},{key:"hasClearedField",value:function(fieldName){return void 0!==privateProps.get(this).clearedFields[fieldName]}},{key:"getClearedFields",value:function(){return Object.keys(privateProps.get(this).clearedFields)}},{key:"setSingleValue",value:function(fieldName,value){return this.set(fieldName,value)}},{key:"set",value:function(fieldName,value){guardFrozenMessage.bind(this)();var field=this.constructor.schema().getField(fieldName);if(!field.isASingleValue())throw new Error("Field ["+fieldName+"] must be a single value.");return null===value?this.clear(fieldName):(field.guardValue(value),privateProps.get(this).data[fieldName]=value,delete privateProps.get(this).clearedFields[fieldName],this)}},{key:"isInSet",value:function(fieldName,value){if(!privateProps.get(this).data[fieldName]||0===privateProps.get(this).data[fieldName].length||"object"!==_typeof(privateProps.get(this).data[fieldName]))return!1;if(!/object|boolean|number|string/.test("undefined"==typeof value?"undefined":_typeof(value)))return!1;var key=null;try{key=value.toString()}catch(e){key=value}return key=String(key).trim().toLowerCase(),0===key.length?!1:void 0!==privateProps.get(this).data[fieldName][String(key).trim().toLowerCase()]}},{key:"addToSet",value:function(fieldName,values){guardFrozenMessage.bind(this)();var field=this.constructor.schema().getField(fieldName);if(!field.isASet())throw new Error("Field ["+fieldName+"] must be a set.");return void 0===privateProps.get(this).data[fieldName]&&(privateProps.get(this).data[fieldName]={}),_arrayUtils2["default"].each(values,function(value){if(0!==value.length){field.guardValue(value);var key=null;try{key=value.toString()}catch(e){key=value}key=String(key).trim().toLowerCase(),privateProps.get(this).data[fieldName][key]=value}}.bind(this)),privateProps.get(this).data[fieldName]&&privateProps.get(this).data[fieldName].length&&delete privateProps.get(this).clearedFields[fieldName],this}},{key:"removeFromSet",value:function(fieldName,values){guardFrozenMessage.bind(this)();var field=this.constructor.schema().getField(fieldName);if(!field.isASet())throw new Error("Field ["+fieldName+"] must be a set.");return _arrayUtils2["default"].each(values,function(value){if(0!==value.length){var key=null;try{key=value.toString()}catch(e){key=value}key=String(key).trim().toLowerCase(),void 0!==privateProps.get(this).data[fieldName][key]&&delete privateProps.get(this).data[fieldName][key]}}.bind(this)),privateProps.get(this).data[fieldName]&&0!==privateProps.get(this).data[fieldName].length||(privateProps.get(this).clearedFields[fieldName]=!0),this}},{key:"isInList",value:function(fieldName,value){return privateProps.get(this).data[fieldName]&&0!==privateProps.get(this).data[fieldName].length&&Array.isArray(privateProps.get(this).data[fieldName])?-1!==privateProps.get(this).data[fieldName].indexOf(value):!1}},{key:"getFromListAt",value:function(fieldName,index){var defaultValue=arguments.length<=2||void 0===arguments[2]?null:arguments[2];return index=parseInt(index),privateProps.get(this).data[fieldName]&&0!==privateProps.get(this).data[fieldName].length&&Array.isArray(privateProps.get(this).data[fieldName])&&void 0!==privateProps.get(this).data[fieldName][index]?privateProps.get(this).data[fieldName][index]:defaultValue}},{key:"addToList",value:function(fieldName,values){guardFrozenMessage.bind(this)();var field=this.constructor.schema().getField(fieldName);if(!field.isAList())throw new Error("Field ["+fieldName+"] must be a list.");return void 0===privateProps.get(this).data[fieldName]&&(privateProps.get(this).data[fieldName]=[]),_arrayUtils2["default"].each(values,function(value){field.guardValue(value),privateProps.get(this).data[fieldName].push(value)}.bind(this)),delete privateProps.get(this).clearedFields[fieldName],this}},{key:"removeFromListAt",value:function(fieldName,index){guardFrozenMessage.bind(this)();var field=this.constructor.schema().getField(fieldName);if(!field.isAList())throw new Error("Field ["+fieldName+"] must be a list.");return index=parseInt(index),privateProps.get(this).data[fieldName]&&0!==privateProps.get(this).data[fieldName].length?(void 0!==privateProps.get(this).data[fieldName][index]&&delete privateProps.get(this).data[fieldName][index],privateProps.get(this).data[fieldName]&&0!==privateProps.get(this).data[fieldName].length?(privateProps.get(this).data[fieldName]=Object.keys(privateProps.get(this).data[fieldName]).map(function(v){return privateProps.get(this).data[fieldName][v]}),this):(privateProps.get(this).clearedFields[fieldName]=!0,this)):this}},{key:"isInMap",value:function(fieldName,key){return privateProps.get(this).data[fieldName]&&0!==Object.keys(privateProps.get(this).data[fieldName]).length&&"object"===_typeof(privateProps.get(this).data[fieldName])&&"string"==typeof key?void 0!==privateProps.get(this).data[fieldName][key]:!1}},{key:"getFromMap",value:function(fieldName,key){var defaultValue=arguments.length<=2||void 0===arguments[2]?null:arguments[2];return this.isInMap(fieldName,key)?privateProps.get(this).data[fieldName][key]:defaultValue}},{key:"addToMap",value:function(fieldName,key,value){guardFrozenMessage.bind(this)();var field=this.constructor.schema().getField(fieldName);if(!field.isAMap())throw new Error("Field ["+fieldName+"] must be a map.");return null===value?this.removeFromMap(fieldName,key):(field.guardValue(value),void 0===privateProps.get(this).data[fieldName]&&(privateProps.get(this).data[fieldName]={}),privateProps.get(this).data[fieldName][key]=value,delete privateProps.get(this).clearedFields[fieldName],this)}},{key:"removeFromMap",value:function(fieldName,key){guardFrozenMessage.bind(this)();var field=this.constructor.schema().getField(fieldName);if(!field.isAMap())throw new Error("Field ["+fieldName+"] must be a map.");return delete privateProps.get(this).data[fieldName][key],privateProps.get(this).data[fieldName]&&0!==privateProps.get(this).data[fieldName].length||(privateProps.get(this).clearedFields[fieldName]=!0),this}}],[{key:"schema",value:function schema(){var type=this.name;if(void 0!==_schemas[type])return _schemas[type];var schema=this.defineSchema();if("Schema"!==_systemUtils2["default"].getClass(schema))throw new _schemaNotDefined2["default"]("Message ["+type+"] must return a Schema from the defineSchema method.");if(schema.getClassName()!==type)throw new _schemaNotDefined2["default"]("Schema ["+schema.getId().toString()+"] returned from defineSchema must be for class ["+type+"], not ["+schema.getClassName()+"]");return _schemas[type]=schema,_schemas[type]}},{key:"defineSchema",value:function(){throw new _schemaNotDefined2["default"]("Message ["+this.name+"] must return a Schema from the defineSchema method.")}},{key:"create",value:function(){var message=new this;return message.populateDefaults()}},{key:"fromArray",value:function(){var data=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];return null===serializer&&(serializer=new _arraySerializer2["default"]),void 0===data[_schema.PBJ_FIELD_NAME]&&(data[_schema.PBJ_FIELD_NAME]=this.schema().getId().toString()),serializer.deserialize(data)}}]),Message}(_systemUtils2["default"].mixinClass(null,_fromArray2["default"],_toArray2["default"]));exports["default"]=Message}),function(global,factory){if("function"==typeof define&&define.amd)define("gdbots/pbj/mixin",["exports","gdbots/common/util/system-utils","gdbots/common/to-array"],factory);else if("undefined"!=typeof exports)factory(exports,require("gdbots/common/util/system-utils"),require("gdbots/common/to-array"));else{var mod={exports:{}};factory(mod.exports,global.systemUtils,global.toArray),global.gdbotsPbjMixin=mod.exports}}(this,function(exports,_systemUtils,_toArray){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0});var _systemUtils2=_interopRequireDefault(_systemUtils),_toArray2=_interopRequireDefault(_toArray),_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_instances={},Mixin=function(_SystemUtils$mixinCla){function Mixin(){return _classCallCheck(this,Mixin),_possibleConstructorReturn(this,Object.getPrototypeOf(Mixin).apply(this,arguments))}return _inherits(Mixin,_SystemUtils$mixinCla),_createClass(Mixin,[{key:"getId",value:function(){return null}},{key:"getFields",value:function(){return[]}},{key:"toArray",value:function(){return{id:this.getId(),fields:this.getFields()}}},{key:"toString",value:function(){return this.getId()?this.getId().toString():null}}],[{key:"create",value:function(){var type=this.name;return void 0===_instances[type]&&(_instances[type]=new this),_instances[type]}}]),Mixin}(_systemUtils2["default"].mixinClass(null,_toArray2["default"]));exports["default"]=Mixin}),function(global,factory){if("function"==typeof define&&define.amd)define("gdbots/pbj/schema-curie",["exports","gdbots/pbj/exception/invalid-schema-curie"],factory);else if("undefined"!=typeof exports)factory(exports,require("gdbots/pbj/exception/invalid-schema-curie"));else{var mod={exports:{}};factory(mod.exports,global.invalidSchemaCurie),global.gdbotsPbjSchemaCurie=mod.exports}}(this,function(exports,_invalidSchemaCurie){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0}),exports.VALID_PATTERN=void 0;var _invalidSchemaCurie2=_interopRequireDefault(_invalidSchemaCurie),_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_instances={},privateProps=new WeakMap,VALID_PATTERN=exports.VALID_PATTERN=/^([a-z0-9-]+):([a-z0-9\.-]+):([a-z0-9-]+)?:([a-z0-9-]+)/,SchemaCurie=function(){function SchemaCurie(vendor,packageName,category,message){_classCallCheck(this,SchemaCurie),category||(category=""),privateProps.set(this,{vendor:vendor,"package":packageName,category:category,message:message,curie:vendor+":"+packageName+":"+category+":"+message})}return _createClass(SchemaCurie,[{key:"toString",value:function(){return privateProps.get(this).curie}},{key:"getVendor",value:function(){return privateProps.get(this).vendor}},{key:"getPackage",value:function(){return privateProps.get(this)["package"]}},{key:"getCategory",value:function(){return privateProps.get(this).category}},{key:"getMessage",value:function(){return privateProps.get(this).message}},{key:"isMixin",value:function(){return"mixin"===privateProps.get(this).category}}],[{key:"fromId",value:function(id){var curie=id.toString().replace(":"+id.getVersion().toString(),"").substr(4);return void 0!==_instances[curie]?_instances[curie]:(_instances[curie]=new this(id.getVendor(),id.getPackage(),id.getCategory(),id.getMessage()),_instances[curie])}},{key:"fromString",value:function(curie){if(void 0!==_instances[curie])return _instances[curie];if(curie.length>145)throw new Error("Schema curie cannot be greater than 145 chars.");var matches=curie.match(VALID_PATTERN);if(null===matches)throw new _invalidSchemaCurie2["default"]("Schema curie ["+curie+"] is invalid. It must match the pattern ["+VALID_PATTERN+"].");return _instances[curie]=new this(matches[1],matches[2],matches[3],matches[4]),_instances[curie]}}]),SchemaCurie}();exports["default"]=SchemaCurie}),function(global,factory){if("function"==typeof define&&define.amd)define("gdbots/pbj/schema-id",["exports","gdbots/pbj/exception/invalid-schema-id","gdbots/pbj/schema-curie","gdbots/pbj/schema-version"],factory);else if("undefined"!=typeof exports)factory(exports,require("gdbots/pbj/exception/invalid-schema-id"),require("gdbots/pbj/schema-curie"),require("gdbots/pbj/schema-version"));else{var mod={exports:{}};factory(mod.exports,global.invalidSchemaId,global.schemaCurie,global.schemaVersion),global.gdbotsPbjSchemaId=mod.exports}}(this,function(exports,_invalidSchemaId,_schemaCurie,_schemaVersion){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0}),exports.VALID_PATTERN=void 0;var _invalidSchemaId2=_interopRequireDefault(_invalidSchemaId),_schemaCurie2=_interopRequireDefault(_schemaCurie),_schemaVersion2=_interopRequireDefault(_schemaVersion),_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_instances={},privateProps=new WeakMap,VALID_PATTERN=exports.VALID_PATTERN=/^pbj:([a-z0-9-]+):([a-z0-9\.-]+):([a-z0-9-]+)?:([a-z0-9-]+):([0-9]+-[0-9]+-[0-9]+)/,SchemaId=function(){function SchemaId(vendor,packageName,category,message,version){_classCallCheck(this,SchemaId),category||(category=""),privateProps.set(this,{vendor:vendor,"package":packageName,category:category,message:message,version:_schemaVersion2["default"].fromString(version),id:"pbj:"+vendor+":"+packageName+":"+category+":"+message+":"+version.toString(),curie:null}),privateProps.get(this).curie=_schemaCurie2["default"].fromId(this)}return _createClass(SchemaId,[{key:"toString",value:function(){return privateProps.get(this).id}},{key:"getVendor",value:function(){return privateProps.get(this).vendor}},{key:"getPackage",value:function(){return privateProps.get(this)["package"]}},{key:"getCategory",value:function(){return privateProps.get(this).category}},{key:"getMessage",value:function(){return privateProps.get(this).message}},{key:"getVersion",value:function(){return privateProps.get(this).version}},{key:"getCurie",value:function(){return privateProps.get(this).curie}},{key:"getCurieMajor",value:function(){return privateProps.get(this).curie.toString()+":v"+privateProps.get(this).version.getMajor()}}],[{key:"fromString",value:function(schemaId){if(void 0!==_instances[schemaId])return _instances[schemaId];if(schemaId.length>145)throw new Error("Schema id cannot be greater than 150 chars.");var matches=schemaId.match(VALID_PATTERN);if(null===matches)throw new _invalidSchemaId2["default"]("Schema id ["+schemaId+"] is invalid. It must match the pattern ["+VALID_PATTERN+"].");return _instances[schemaId]=new this(matches[1],matches[2],matches[3],matches[4],matches[5]),_instances[schemaId]}}]),SchemaId}();exports["default"]=SchemaId}),function(global,factory){if("function"==typeof define&&define.amd)define("gdbots/pbj/schema-version",["exports","gdbots/pbj/exception/invalid-schema-version"],factory);else if("undefined"!=typeof exports)factory(exports,require("gdbots/pbj/exception/invalid-schema-version"));else{var mod={exports:{}};factory(mod.exports,global.invalidSchemaVersion),global.gdbotsPbjSchemaVersion=mod.exports}}(this,function(exports,_invalidSchemaVersion){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0}),exports.VALID_PATTERN=void 0;var _invalidSchemaVersion2=_interopRequireDefault(_invalidSchemaVersion),_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),VALID_PATTERN=exports.VALID_PATTERN=/^([0-9]+)-([0-9]+)-([0-9]+)/,privateProps=new WeakMap,SchemaVersion=function(){function SchemaVersion(){var major=arguments.length<=0||void 0===arguments[0]?1:arguments[0],minor=arguments.length<=1||void 0===arguments[1]?0:arguments[1],patch=arguments.length<=2||void 0===arguments[2]?0:arguments[2];_classCallCheck(this,SchemaVersion),major=parseInt(major),minor=parseInt(minor),patch=parseInt(patch),privateProps.set(this,{major:major,minor:minor,patch:patch,version:major+"-"+minor+"-"+patch})}return _createClass(SchemaVersion,[{key:"toString",value:function(){return privateProps.get(this).version}},{key:"getMajor",value:function(){return privateProps.get(this).major}},{key:"getMinor",value:function(){return privateProps.get(this).minor}},{key:"getPatch",value:function(){return privateProps.get(this).patch}}],[{key:"fromString",value:function(){var version=arguments.length<=0||void 0===arguments[0]?"1-0-0":arguments[0],matches=version.match(VALID_PATTERN);if(null===matches)throw new _invalidSchemaVersion2["default"]("Schema version ["+version+"] is invalid. It must match the pattern ["+VALID_PATTERN+"].");return new this(matches[1],matches[2],matches[3])}}]),SchemaVersion}();exports["default"]=SchemaVersion}),function(global,factory){if("function"==typeof define&&define.amd)define("gdbots/pbj/schema",["exports","gdbots/common/to-array","gdbots/common/util/array-utils","gdbots/common/util/system-utils","gdbots/pbj/exception/field-already-defined","gdbots/pbj/exception/field-not-defined","gdbots/pbj/exception/field-override-not-compatible","gdbots/pbj/exception/mixin-already-added","gdbots/pbj/exception/mixin-not-defined","gdbots/pbj/schema-id","gdbots/pbj/field-builder","gdbots/pbj/type/string-type"],factory);else if("undefined"!=typeof exports)factory(exports,require("gdbots/common/to-array"),require("gdbots/common/util/array-utils"),require("gdbots/common/util/system-utils"),require("gdbots/pbj/exception/field-already-defined"),require("gdbots/pbj/exception/field-not-defined"),require("gdbots/pbj/exception/field-override-not-compatible"),require("gdbots/pbj/exception/mixin-already-added"),require("gdbots/pbj/exception/mixin-not-defined"),require("gdbots/pbj/schema-id"),require("gdbots/pbj/field-builder"),require("gdbots/pbj/type/string-type"));else{var mod={exports:{}};factory(mod.exports,global.toArray,global.arrayUtils,global.systemUtils,global.fieldAlreadyDefined,global.fieldNotDefined,global.fieldOverrideNotCompatible,global.mixinAlreadyAdded,global.mixinNotDefined,global.schemaId,global.fieldBuilder,global.stringType),global.gdbotsPbjSchema=mod.exports}}(this,function(exports,_toArray,_arrayUtils,_systemUtils,_fieldAlreadyDefined,_fieldNotDefined,_fieldOverrideNotCompatible,_mixinAlreadyAdded,_mixinNotDefined,_schemaId,_fieldBuilder,_stringType){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}function addField(field){var fieldName=field.getName();if(this.hasField(fieldName)){var existingField=this.getField(fieldName);if(!existingField.isOverridable())throw new _fieldAlreadyDefined2["default"](this,fieldName);if(!existingField.isCompatibleForOverride(field))throw new _fieldOverrideNotCompatible2["default"](this,fieldName,field)}privateProps.get(this).fields[fieldName]=field,field.isRequired()&&(privateProps.get(this).requiredFields[fieldName]=field)}function addMixin(mixin){var id=mixin.getId(),curieStr=id.getCurie().toString();if(void 0!==privateProps.get(this).mixinsByCurie[curieStr])throw new _mixinAlreadyAdded2["default"](this,privateProps.get(this).mixinsByCurie[curieStr],mixin);privateProps.get(this).mixins[id.getCurieMajor()]=mixin,privateProps.get(this).mixinsByCurie[curieStr]=mixin,_arrayUtils2["default"].each(mixin.getFields(),function(field){addField.bind(this)(field)}.bind(this))}Object.defineProperty(exports,"__esModule",{value:!0}),exports.PBJ_FIELD_NAME=void 0;var _toArray2=_interopRequireDefault(_toArray),_arrayUtils2=_interopRequireDefault(_arrayUtils),_systemUtils2=_interopRequireDefault(_systemUtils),_fieldAlreadyDefined2=_interopRequireDefault(_fieldAlreadyDefined),_fieldNotDefined2=_interopRequireDefault(_fieldNotDefined),_fieldOverrideNotCompatible2=_interopRequireDefault(_fieldOverrideNotCompatible),_mixinAlreadyAdded2=_interopRequireDefault(_mixinAlreadyAdded),_mixinNotDefined2=_interopRequireDefault(_mixinNotDefined),_schemaId2=_interopRequireDefault(_schemaId),_fieldBuilder2=_interopRequireDefault(_fieldBuilder),_stringType2=_interopRequireDefault(_stringType),_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),PBJ_FIELD_NAME=exports.PBJ_FIELD_NAME="_schema",privateProps=new WeakMap,Schema=function(_SystemUtils$mixinCla){function Schema(id,className){var fields=arguments.length<=2||void 0===arguments[2]?[]:arguments[2],mixins=arguments.length<=3||void 0===arguments[3]?[]:arguments[3];_classCallCheck(this,Schema);var _this=_possibleConstructorReturn(this,Object.getPrototypeOf(Schema).call(this));return privateProps.set(_this,{id:"SchemaId"===_systemUtils2["default"].getClass(id)?id:_schemaId2["default"].fromString(id),className:className,mixins:{},mixinsByCurie:{},fields:{},requiredFields:{},mixinIds:[],mixinCuries:[]}),addField.bind(_this)(_fieldBuilder2["default"].create(PBJ_FIELD_NAME,_stringType2["default"].create()).required().pattern(_schemaId2["default"].VALID_PATTERN).withDefault(privateProps.get(_this).id.toString()).build()),_arrayUtils2["default"].each(mixins,function(mixin){addMixin.bind(this)(mixin)}.bind(_this)),_arrayUtils2["default"].each(fields,function(field){addField.bind(this)(field)}.bind(_this)),privateProps.get(_this).mixinIds=Object.keys(privateProps.get(_this).mixins),privateProps.get(_this).mixinCuries=Object.keys(privateProps.get(_this).mixinsByCurie),_this}return _inherits(Schema,_SystemUtils$mixinCla),_createClass(Schema,[{key:"toString",value:function(){return privateProps.get(this).id.toString()}},{key:"toArray",value:function(){return{id:privateProps.get(this).id,curie:this.getCurie(),curie_major:this.getCurieMajor(),class_name:privateProps.get(this).className,mixins:privateProps.get(this).mixins.map(function(mixin){return mixin.getId()}),fields:privateProps.get(this).fields}}},{key:"getId",value:function(){return privateProps.get(this).id}},{key:"getCurie",value:function(){return privateProps.get(this).id.getCurie()}},{key:"isA",value:function(curie){return"SchemaCurie"===_systemUtils2["default"].getClass(curie)&&(curie=curie.toString()),curie===this.getCurie().toString()}},{key:"getCurieMajor",value:function(){return privateProps.get(this).id.getCurieMajor()}},{key:"getClassName",value:function(){return privateProps.get(this).className}},{key:"hasField",value:function(fieldName){return void 0!==privateProps.get(this).fields[fieldName]}},{key:"getField",value:function(fieldName){if(void 0===privateProps.get(this).fields[fieldName])throw new _fieldNotDefined2["default"](this,fieldName);return privateProps.get(this).fields[fieldName]}},{key:"getFields",value:function(){return privateProps.get(this).fields}},{key:"getRequiredFields",value:function(){return privateProps.get(this).requiredFields}},{key:"hasMixin",value:function(mixinId){return void 0!==privateProps.get(this).mixins[mixinId]||void 0!==privateProps.get(this).mixinsByCurie[mixinId]}},{key:"getMixin",value:function(mixinId){if(void 0!==privateProps.get(this).mixins[mixinId])return privateProps.get(this).mixins[mixinId];if(void 0!==privateProps.get(this).mixinsByCurie[mixinId])return privateProps.get(this).mixinsByCurie[mixinId];throw new _mixinNotDefined2["default"](this,mixinId)}},{key:"getMixins",value:function(){return privateProps.get(this).mixins}},{key:"getMixinIds",value:function(){return privateProps.get(this).mixinIds}},{key:"getMixinCuries",value:function(){return privateProps.get(this).mixinCuries}}]),Schema}(_systemUtils2["default"].mixinClass(null,_toArray2["default"]));exports["default"]=Schema}),function(global,factory){if("function"==typeof define&&define.amd)define("gdbots/pbj/serializer/array-serializer",["exports","gdbots/common/geo-point","gdbots/common/util/array-utils","gdbots/common/util/system-utils","gdbots/pbj/exception/deserialize-message-failed","gdbots/pbj/exception/encode-value-failed","gdbots/pbj/serializer/serializer","gdbots/pbj/enum/type-name","gdbots/pbj/enum/field-rule","gdbots/pbj/message-ref","gdbots/pbj/schema"],factory);else if("undefined"!=typeof exports)factory(exports,require("gdbots/common/geo-point"),require("gdbots/common/util/array-utils"),require("gdbots/common/util/system-utils"),require("gdbots/pbj/exception/deserialize-message-failed"),require("gdbots/pbj/exception/encode-value-failed"),require("gdbots/pbj/serializer/serializer"),require("gdbots/pbj/enum/type-name"),require("gdbots/pbj/enum/field-rule"),require("gdbots/pbj/message-ref"),require("gdbots/pbj/schema"));else{
var mod={exports:{}};factory(mod.exports,global.geoPoint,global.arrayUtils,global.systemUtils,global.deserializeMessageFailed,global.encodeValueFailed,global.serializer,global.typeName,global.fieldRule,global.messageRef,global.schema),global.gdbotsPbjSerializerArraySerializer=mod.exports}}(this,function(exports,_geoPoint,_arrayUtils,_systemUtils,_deserializeMessageFailed,_encodeValueFailed,_serializer,_typeName,_fieldRule,_messageRef,_schema){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}function doSerialize(message){var options=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],schema=message.constructor.schema();message.validate();var payload={},includeAllFields=void 0!==options.includeAllFields&&!0===options.includeAllFields;return _arrayUtils2["default"].each(schema.getFields(),function(field){var fieldName=field.getName();if(!message.has(fieldName))return void((includeAllFields||message.hasClearedField(fieldName))&&(payload[fieldName]=null));var value=message.get(fieldName);switch(field.getRule()){case _fieldRule2["default"].A_SINGLE_VALUE:payload[fieldName]=encodeValue.bind(this)(value,field,options);break;case _fieldRule2["default"].A_SET:case _fieldRule2["default"].A_LIST:payload[fieldName]=[],_arrayUtils2["default"].each(value,function(v){payload[fieldName].push(encodeValue.bind(this)(v,field,options))}.bind(this));break;case _fieldRule2["default"].A_MAP:payload[fieldName]={},_arrayUtils2["default"].each(value,function(v){payload[fieldName][k]=encodeValue.bind(this)(v,field,options)}.bind(this))}}.bind(this)),payload}function doDeserialize(data){var options=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],message=this.createMessage(data[_schema.PBJ_FIELD_NAME]),schema=message.constructor.schema();return _arrayUtils2["default"].each(data,function(value,fieldName){var _this2=this;if(schema.hasField(fieldName)){if(null===value)return void message.clear(fieldName);var field=schema.getField(fieldName);!function(){switch(field.getRule()){case _fieldRule2["default"].A_SINGLE_VALUE:message.set(fieldName,decodeValue.bind(_this2)(value,field,options));break;case _fieldRule2["default"].A_SET:case _fieldRule2["default"].A_LIST:if(!Array.isArray(value))throw new Error("Field ["+fieldName+"] must be an array.");var values=[];_arrayUtils2["default"].each(value,function(v){values.push(decodeValue.bind(this)(v,field,options))}.bind(_this2)),field.isASet()?message.addToSet(fieldName,values):message.addToList(fieldName,values);break;case _fieldRule2["default"].A_MAP:if(!_arrayUtils2["default"].isAssoc(value))throw new Error("Field ["+fieldName+"] must be an associative array.");_arrayUtils2["default"].each(value,function(v,k){message.addToMap(fieldName,k,decodeValue.bind(this)(v,field,options))}.bind(_this2))}}()}}.bind(this)),message.set(_schema.PBJ_FIELD_NAME,schema.getId().toString()).populateDefaults()}function encodeValue(value,field,options){var type=field.getType();if(type.encodesToScalar())return type.encode(value,field);if(value.hasTrait("Message"))return doSerialize.bind(this)(value,options);if(value.hasTrait("ToArray"))return value.toArray();throw new _encodeValueFailed2["default"](value,field,this.constructor.name+" has no handling for this value.")}function decodeValue(value,field,options){var type=field.getType();if(type.encodesToScalar())return type.decode(value,field);if(type.isMessage())return this.deserialize(value,options);if(type.getTypeName()===_typeName2["default"].GEO_POINT)return _geoPoint2["default"].fromArray(value);if(type.getTypeName()===_typeName2["default"].MESSAGE_REF)return _messageRef2["default"].fromArray(value);throw new DecodeValueFailed(value,field,this.constructor.name+" has no handling for this value.")}Object.defineProperty(exports,"__esModule",{value:!0});var _geoPoint2=_interopRequireDefault(_geoPoint),_arrayUtils2=_interopRequireDefault(_arrayUtils),_systemUtils2=_interopRequireDefault(_systemUtils),_encodeValueFailed2=(_interopRequireDefault(_deserializeMessageFailed),_interopRequireDefault(_encodeValueFailed)),_serializer2=_interopRequireDefault(_serializer),_typeName2=_interopRequireDefault(_typeName),_fieldRule2=_interopRequireDefault(_fieldRule),_messageRef2=_interopRequireDefault(_messageRef),_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),ArraySerializer=function(_SystemUtils$mixinCla){function ArraySerializer(){return _classCallCheck(this,ArraySerializer),_possibleConstructorReturn(this,Object.getPrototypeOf(ArraySerializer).apply(this,arguments))}return _inherits(ArraySerializer,_SystemUtils$mixinCla),_createClass(ArraySerializer,[{key:"serialize",value:function(message){var options=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];return doSerialize.bind(this)(message,options)}},{key:"deserialize",value:function(data){var options=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];if(-1===Object.keys(data).indexOf(_schema.PBJ_FIELD_NAME))throw new Error("["+this.constructor.name+"::deserialize] Array provided must contain the ["+_schema.PBJ_FIELD_NAME+"] key.");return doDeserialize.bind(this)(data,options)}}]),ArraySerializer}(_systemUtils2["default"].mixinClass(_serializer2["default"]));exports["default"]=ArraySerializer}),function(global,factory){if("function"==typeof define&&define.amd)define("gdbots/pbj/serializer/json-serializer",["exports","gdbots/common/util/system-utils","gdbots/pbj/exception/deserialize-message-failed","gdbots/pbj/serializer/array-serializer"],factory);else if("undefined"!=typeof exports)factory(exports,require("gdbots/common/util/system-utils"),require("gdbots/pbj/exception/deserialize-message-failed"),require("gdbots/pbj/serializer/array-serializer"));else{var mod={exports:{}};factory(mod.exports,global.systemUtils,global.deserializeMessageFailed,global.arraySerializer),global.gdbotsPbjSerializerJsonSerializer=mod.exports}}(this,function(exports,_systemUtils,_deserializeMessageFailed,_arraySerializer){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}function getLastErrorMessage(code){switch(code){case 0:return"Maximum stack depth exceeded";case 2:return"Underflow or the modes mismatch";case 3:return"Unexpected control character found";case 4:return"Syntax error, malformed JSON";case 5:return"Malformed UTF-8 characters, possibly incorrectly encoded";default:return"Unknown error"}}Object.defineProperty(exports,"__esModule",{value:!0});var _systemUtils2=_interopRequireDefault(_systemUtils),_deserializeMessageFailed2=_interopRequireDefault(_deserializeMessageFailed),_arraySerializer2=_interopRequireDefault(_arraySerializer),_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_get=function get(object,property,receiver){null===object&&(object=Function.prototype);var desc=Object.getOwnPropertyDescriptor(object,property);if(void 0===desc){var parent=Object.getPrototypeOf(object);return null===parent?void 0:get(parent,property,receiver)}if("value"in desc)return desc.value;var getter=desc.get;return void 0===getter?void 0:getter.call(receiver)},JsonSerializer=function(_SystemUtils$mixinCla){function JsonSerializer(){return _classCallCheck(this,JsonSerializer),_possibleConstructorReturn(this,Object.getPrototypeOf(JsonSerializer).apply(this,arguments))}return _inherits(JsonSerializer,_SystemUtils$mixinCla),_createClass(JsonSerializer,[{key:"serialize",value:function(message){var options=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];return JSON.stringify(_get(Object.getPrototypeOf(JsonSerializer.prototype),"serialize",this).call(this,message,options))}},{key:"deserialize",value:function(data){var options=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];if("string"==typeof data)try{data=JSON.parse(data)}catch(e){if(!(e instanceof SyntaxError))throw new Error("Unexpected error type in JSON.parse()");throw new _deserializeMessageFailed2["default"](getLastErrorMessage(4))}return _get(Object.getPrototypeOf(JsonSerializer.prototype),"deserialize",this).call(this,data,options)}}]),JsonSerializer}(_systemUtils2["default"].mixinClass(_arraySerializer2["default"]));exports["default"]=JsonSerializer}),function(global,factory){if("function"==typeof define&&define.amd)define("gdbots/pbj/serializer/serializer",["exports","gdbots/pbj/exception/invalid-resolved-schema","gdbots/pbj/message-resolver","gdbots/pbj/schema-id"],factory);else if("undefined"!=typeof exports)factory(exports,require("gdbots/pbj/exception/invalid-resolved-schema"),require("gdbots/pbj/message-resolver"),require("gdbots/pbj/schema-id"));else{var mod={exports:{}};factory(mod.exports,global.invalidResolvedSchema,global.messageResolver,global.schemaId),global.gdbotsPbjSerializerSerializer=mod.exports}}(this,function(exports,_invalidResolvedSchema,_messageResolver,_schemaId){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _invalidResolvedSchema2=_interopRequireDefault(_invalidResolvedSchema),_messageResolver2=_interopRequireDefault(_messageResolver),_schemaId2=_interopRequireDefault(_schemaId),_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),Serializer=function(){function Serializer(){_classCallCheck(this,Serializer)}return _createClass(Serializer,[{key:"serialize",value:function(message){arguments.length<=1||void 0===arguments[1]?{}:arguments[1];throw new Error("Interface function.")}},{key:"deserialize",value:function(data){arguments.length<=1||void 0===arguments[1]?{}:arguments[1];throw new Error("Interface function.")}},{key:"createMessage",value:function(schemaId){schemaId=_schemaId2["default"].fromString(schemaId);var message=_messageResolver2["default"].resolveId(schemaId);if(!message.hasTrait("Message"))throw new Error("Invalid message.");if(message=message.create(),message.constructor.schema().getCurieMajor()!==schemaId.getCurieMajor())throw new _invalidResolvedSchema2["default"](message.constructor.schema(),schemaId,message.name);return message}}]),Serializer}();exports["default"]=Serializer}),function(global,factory){if("function"==typeof define&&define.amd)define("gdbots/pbj/type/abstract-binary-type",["exports","gdbots/common/util/number-utils","gdbots/common/util/url-utils","gdbots/common/util/system-utils","gdbots/pbj/type/type","gdbots/pbj/exception/decode-value-failed"],factory);else if("undefined"!=typeof exports)factory(exports,require("gdbots/common/util/number-utils"),require("gdbots/common/util/url-utils"),require("gdbots/common/util/system-utils"),require("gdbots/pbj/type/type"),require("gdbots/pbj/exception/decode-value-failed"));else{var mod={exports:{}};factory(mod.exports,global.numberUtils,global.urlUtils,global.systemUtils,global.type,global.decodeValueFailed),global.gdbotsPbjTypeAbstractBinaryType=mod.exports}}(this,function(exports,_numberUtils,_urlUtils,_systemUtils,_type,_decodeValueFailed){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0});var _numberUtils2=_interopRequireDefault(_numberUtils),_urlUtils2=_interopRequireDefault(_urlUtils),_systemUtils2=_interopRequireDefault(_systemUtils),_type2=_interopRequireDefault(_type),_decodeValueFailed2=_interopRequireDefault(_decodeValueFailed),_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),privateProps=new WeakMap,AbstractBinaryType=function(_SystemUtils$mixinCla){function AbstractBinaryType(typeName){_classCallCheck(this,AbstractBinaryType);var _this=_possibleConstructorReturn(this,Object.getPrototypeOf(AbstractBinaryType).call(this,typeName));return privateProps.set(_this,{decodeFromBase64:!0,encodeToBase64:!0}),_this}return _inherits(AbstractBinaryType,_SystemUtils$mixinCla),_createClass(AbstractBinaryType,[{key:"decodeFromBase64",value:function(useBase64){privateProps.get(this).decodeFromBase64=Boolean(useBase64)}},{key:"encodeToBase64",value:function(useBase64){privateProps.get(this).encodeToBase64=Boolean(useBase64)}},{key:"guard",value:function(value,field){if("string"!=typeof value)throw new Error("Value must be a string.");var length=privateProps.get(this).encodeToBase64?this.encode(value,field).length:value.length,minLength=field.getMinLength(),maxLength=_numberUtils2["default"].bound(field.getMaxLength(),minLength,this.getMaxBytes()),okay=length>=minLength&&maxLength>=length;if(!okay)throw new Error("Field ["+field.getName()+"] must be between ["+minLength+"] and ["+maxLength+"] bytes, ["+length+"] bytes given.")}},{key:"encode",value:function(value,field){return value=value.trim(),""===value?null:privateProps.get(this).encodeToBase64?_urlUtils2["default"].base64Encode(value):value}},{key:"decode",value:function(value,field){if(value=value.trim(),""===value)return null;if(!privateProps.get(this).decodeFromBase64)return $value;if(value=_urlUtils2["default"].base64Decode(value),!1===value)throw new _decodeValueFailed2["default"](value,field,"Strict base64_decode failed.");return value}},{key:"isBinary",value:function(){return!0}},{key:"isString",value:function(){return!0}}]),AbstractBinaryType}(_systemUtils2["default"].mixinClass(_type2["default"]));exports["default"]=AbstractBinaryType}),function(global,factory){if("function"==typeof define&&define.amd)define("gdbots/pbj/type/abstract-int-type",["exports","gdbots/common/util/number-utils","gdbots/common/util/system-utils","gdbots/pbj/type/type"],factory);else if("undefined"!=typeof exports)factory(exports,require("gdbots/common/util/number-utils"),require("gdbots/common/util/system-utils"),require("gdbots/pbj/type/type"));else{var mod={exports:{}};factory(mod.exports,global.numberUtils,global.systemUtils,global.type),global.gdbotsPbjTypeAbstractIntType=mod.exports}}(this,function(exports,_numberUtils,_systemUtils,_type){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0});var _numberUtils2=_interopRequireDefault(_numberUtils),_systemUtils2=_interopRequireDefault(_systemUtils),_type2=_interopRequireDefault(_type),_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),AbstractIntType=function(_SystemUtils$mixinCla){function AbstractIntType(){return _classCallCheck(this,AbstractIntType),_possibleConstructorReturn(this,Object.getPrototypeOf(AbstractIntType).apply(this,arguments))}return _inherits(AbstractIntType,_SystemUtils$mixinCla),_createClass(AbstractIntType,[{key:"guard",value:function(value,field){if("number"!=typeof value)throw new Error("Value must be a number.");var min=_numberUtils2["default"].bound(field.getMin(),this.getMin(),this.getMax()),max=_numberUtils2["default"].bound(field.getMax(),this.getMin(),this.getMax()),okay=value>=min&&max>=value;if(!okay)throw new Error("Field ["+field.getName()+"] value must be between ["+min+"] and ["+max+"], ["+value+"] given.")}},{key:"encode",value:function(value,field){return parseInt(value)}},{key:"decode",value:function(value,field){return parseInt(value)}},{key:"getDefault",value:function(){return 0}},{key:"isNumeric",value:function(){return!0}}]),AbstractIntType}(_systemUtils2["default"].mixinClass(_type2["default"]));exports["default"]=AbstractIntType}),function(global,factory){if("function"==typeof define&&define.amd)define("gdbots/pbj/type/abstract-string-type",["exports","gdbots/common/util/number-utils","gdbots/common/util/system-utils","gdbots/pbj/type/type"],factory);else if("undefined"!=typeof exports)factory(exports,require("gdbots/common/util/number-utils"),require("gdbots/common/util/system-utils"),require("gdbots/pbj/type/type"));else{var mod={exports:{}};factory(mod.exports,global.numberUtils,global.systemUtils,global.type),global.gdbotsPbjTypeAbstractStringType=mod.exports}}(this,function(exports,_numberUtils,_systemUtils,_type){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0});var _numberUtils2=_interopRequireDefault(_numberUtils),_systemUtils2=_interopRequireDefault(_systemUtils),_type2=_interopRequireDefault(_type),_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),AbstractStringType=function(_SystemUtils$mixinCla){function AbstractStringType(){return _classCallCheck(this,AbstractStringType),_possibleConstructorReturn(this,Object.getPrototypeOf(AbstractStringType).apply(this,arguments))}return _inherits(AbstractStringType,_SystemUtils$mixinCla),_createClass(AbstractStringType,[{key:"guard",value:function(value,field){if("string"!=typeof value)throw new Error("Value must be a string.");var length=value.length,minLength=field.getMinLength(),maxLength=_numberUtils2["default"].bound(field.getMaxLength(),minLength,this.getMaxBytes()),okay=length>=minLength&&maxLength>=length;if(!okay)throw new Error("Field ["+field.getName()+"] must be between ["+minLength+"] and ["+maxLength+"] bytes, ["+length+"] bytes given.")}},{key:"encode",value:function(value,field){return value=value.trim(),""===value?null:value}},{key:"decode",value:function(value,field){return value=value.trim(),""===value?null:value}},{key:"isString",value:function(){return!0}}]),AbstractStringType}(_systemUtils2["default"].mixinClass(_type2["default"]));exports["default"]=AbstractStringType}),function(global,factory){if("function"==typeof define&&define.amd)define("gdbots/pbj/type/big-int-type",["exports","gdbots/common/util/system-utils","gdbots/common/big-number","gdbots/pbj/type/type"],factory);else if("undefined"!=typeof exports)factory(exports,require("gdbots/common/util/system-utils"),require("gdbots/common/big-number"),require("gdbots/pbj/type/type"));else{var mod={exports:{}};factory(mod.exports,global.systemUtils,global.bigNumber,global.type),global.gdbotsPbjTypeBigIntType=mod.exports}}(this,function(exports,_systemUtils,_bigNumber,_type){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0});var _systemUtils2=_interopRequireDefault(_systemUtils),_bigNumber2=_interopRequireDefault(_bigNumber),_type2=_interopRequireDefault(_type),_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),BigIntType=function(_SystemUtils$mixinCla){function BigIntType(){return _classCallCheck(this,BigIntType),_possibleConstructorReturn(this,Object.getPrototypeOf(BigIntType).apply(this,arguments))}return _inherits(BigIntType,_SystemUtils$mixinCla),_createClass(BigIntType,[{key:"guard",value:function(value,field){if("BigNumber"!==_systemUtils2["default"].getClass(value))throw new Error('Class "'+value.name+'" was expected to be instanceof of "BigNumber" but is not.');if(value.isNegative())throw new Error("Field ["+field.getName()+"] cannot be negative.");if(!value.lessThanOrEqualTo("18446744073709551615"))throw new Error("Field ["+field.getName()+"] cannot be greater than [18446744073709551615].")}},{key:"encode",value:function(value,field){return"BigNumber"===_systemUtils2["default"].getClass(value)?value.toString():"0"}},{key:"decode",value:function(value,field){return null===value||"BigNumber"===_systemUtils2["default"].getClass(value)?value:new _bigNumber2["default"](value)}},{key:"isScalar",value:function(){return!1}},{key:"getDefault",value:function(){return new _bigNumber2["default"](0)}},{key:"isNumeric",value:function(){return!0}}]),BigIntType}(_systemUtils2["default"].mixinClass(_type2["default"]));exports["default"]=BigIntType}),function(global,factory){if("function"==typeof define&&define.amd)define("gdbots/pbj/type/binary-type",["exports","gdbots/common/util/system-utils","gdbots/pbj/type/abstract-binary-type"],factory);else if("undefined"!=typeof exports)factory(exports,require("gdbots/common/util/system-utils"),require("gdbots/pbj/type/abstract-binary-type"));else{var mod={exports:{}};factory(mod.exports,global.systemUtils,global.abstractBinaryType),global.gdbotsPbjTypeBinaryType=mod.exports}}(this,function(exports,_systemUtils,_abstractBinaryType){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0});var _systemUtils2=_interopRequireDefault(_systemUtils),_abstractBinaryType2=_interopRequireDefault(_abstractBinaryType),_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),BinaryType=function(_SystemUtils$mixinCla){function BinaryType(){return _classCallCheck(this,BinaryType),_possibleConstructorReturn(this,Object.getPrototypeOf(BinaryType).apply(this,arguments))}return _inherits(BinaryType,_SystemUtils$mixinCla),_createClass(BinaryType,[{key:"getMaxBytes",value:function(){return 255}}]),BinaryType}(_systemUtils2["default"].mixinClass(_abstractBinaryType2["default"]));exports["default"]=BinaryType}),function(global,factory){if("function"==typeof define&&define.amd)define("gdbots/pbj/type/blob-type",["exports","gdbots/common/util/system-utils","gdbots/pbj/type/abstract-binary-type"],factory);else if("undefined"!=typeof exports)factory(exports,require("gdbots/common/util/system-utils"),require("gdbots/pbj/type/abstract-binary-type"));else{var mod={exports:{}};factory(mod.exports,global.systemUtils,global.abstractBinaryType),global.gdbotsPbjTypeBlobType=mod.exports}}(this,function(exports,_systemUtils,_abstractBinaryType){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0});var _systemUtils2=_interopRequireDefault(_systemUtils),_abstractBinaryType2=_interopRequireDefault(_abstractBinaryType),_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),
Constructor}}(),BlobType=function(_SystemUtils$mixinCla){function BlobType(){return _classCallCheck(this,BlobType),_possibleConstructorReturn(this,Object.getPrototypeOf(BlobType).apply(this,arguments))}return _inherits(BlobType,_SystemUtils$mixinCla),_createClass(BlobType,[{key:"allowedInSet",value:function(){return!1}}]),BlobType}(_systemUtils2["default"].mixinClass(_abstractBinaryType2["default"]));exports["default"]=BlobType}),function(global,factory){if("function"==typeof define&&define.amd)define("gdbots/pbj/type/boolean-type",["exports","gdbots/common/util/system-utils","gdbots/pbj/type/type"],factory);else if("undefined"!=typeof exports)factory(exports,require("gdbots/common/util/system-utils"),require("gdbots/pbj/type/type"));else{var mod={exports:{}};factory(mod.exports,global.systemUtils,global.type),global.gdbotsPbjTypeBooleanType=mod.exports}}(this,function(exports,_systemUtils,_type){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0});var _systemUtils2=_interopRequireDefault(_systemUtils),_type2=_interopRequireDefault(_type),_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),BooleanType=function(_SystemUtils$mixinCla){function BooleanType(){return _classCallCheck(this,BooleanType),_possibleConstructorReturn(this,Object.getPrototypeOf(BooleanType).apply(this,arguments))}return _inherits(BooleanType,_SystemUtils$mixinCla),_createClass(BooleanType,[{key:"guard",value:function(value,field){if(value!==!0&&value!==!1)throw new Error('Value "'+value+'" is not a boolean.')}},{key:"encode",value:function(value,field){return Boolean(value)}},{key:"decode",value:function(value,field){return Boolean(value)}},{key:"getDefault",value:function(){return!1}},{key:"isBoolean",value:function(){return!0}},{key:"allowedInSet",value:function(){return!1}}]),BooleanType}(_systemUtils2["default"].mixinClass(_type2["default"]));exports["default"]=BooleanType}),function(global,factory){if("function"==typeof define&&define.amd)define("gdbots/pbj/type/date-time-type",["exports","gdbots/common/util/date-utils","gdbots/common/util/system-utils","gdbots/pbj/type/type"],factory);else if("undefined"!=typeof exports)factory(exports,require("gdbots/common/util/date-utils"),require("gdbots/common/util/system-utils"),require("gdbots/pbj/type/type"));else{var mod={exports:{}};factory(mod.exports,global.dateUtils,global.systemUtils,global.type),global.gdbotsPbjTypeDateTimeType=mod.exports}}(this,function(exports,_dateUtils,_systemUtils,_type){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0});var _systemUtils2=(_interopRequireDefault(_dateUtils),_interopRequireDefault(_systemUtils)),_type2=_interopRequireDefault(_type),_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),DateTimeType=function(_SystemUtils$mixinCla){function DateTimeType(){return _classCallCheck(this,DateTimeType),_possibleConstructorReturn(this,Object.getPrototypeOf(DateTimeType).apply(this,arguments))}return _inherits(DateTimeType,_SystemUtils$mixinCla),_createClass(DateTimeType,[{key:"guard",value:function(value,field){if(!(value instanceof Date))throw new Error('Class "'+value.name+'" was expected to be instanceof of "Date" but is not.')}},{key:"encode",value:function(value,field){return value instanceof Date?value.toISOString():null}},{key:"decode",value:function(value,field){return value&&0!==value.length?value instanceof Date?value:new Date:null}},{key:"isScalar",value:function(){return!1}},{key:"isString",value:function(){return!0}},{key:"allowedInSet",value:function(){return!1}}]),DateTimeType}(_systemUtils2["default"].mixinClass(_type2["default"]));exports["default"]=DateTimeType}),function(global,factory){if("function"==typeof define&&define.amd)define("gdbots/pbj/type/date-type",["exports","gdbots/common/util/system-utils","gdbots/pbj/type/type"],factory);else if("undefined"!=typeof exports)factory(exports,require("gdbots/common/util/system-utils"),require("gdbots/pbj/type/type"));else{var mod={exports:{}};factory(mod.exports,global.systemUtils,global.type),global.gdbotsPbjTypeDateType=mod.exports}}(this,function(exports,_systemUtils,_type){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0});var _systemUtils2=_interopRequireDefault(_systemUtils),_type2=_interopRequireDefault(_type),_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),DateType=function(_SystemUtils$mixinCla){function DateType(){return _classCallCheck(this,DateType),_possibleConstructorReturn(this,Object.getPrototypeOf(DateType).apply(this,arguments))}return _inherits(DateType,_SystemUtils$mixinCla),_createClass(DateType,[{key:"guard",value:function(value,field){if(!(value instanceof Date))throw new Error('Class "'+value.name+'" was expected to be instanceof of "Date" but is not.')}},{key:"encode",value:function(value,field){return value instanceof Date?value.toISOString().slice(0,10):null}},{key:"decode",value:function(value,field){return value&&0!==value.length?value instanceof Date?value:new Date:null}},{key:"isScalar",value:function(){return!1}},{key:"isString",value:function(){return!0}},{key:"allowedInSet",value:function(){return!1}}]),DateType}(_systemUtils2["default"].mixinClass(_type2["default"]));exports["default"]=DateType}),function(global,factory){if("function"==typeof define&&define.amd)define("gdbots/pbj/type/decimal-type",["exports","gdbots/common/util/system-utils","gdbots/pbj/type/type"],factory);else if("undefined"!=typeof exports)factory(exports,require("gdbots/common/util/system-utils"),require("gdbots/pbj/type/type"));else{var mod={exports:{}};factory(mod.exports,global.systemUtils,global.type),global.gdbotsPbjTypeDecimalType=mod.exports}}(this,function(exports,_systemUtils,_type){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}function bcadd(leftOperand,rightOperand,scale){throw new Error("Not yet implemented.")}Object.defineProperty(exports,"__esModule",{value:!0});var _systemUtils2=_interopRequireDefault(_systemUtils),_type2=_interopRequireDefault(_type),_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),DecimalType=function(_SystemUtils$mixinCla){function DecimalType(){return _classCallCheck(this,DecimalType),_possibleConstructorReturn(this,Object.getPrototypeOf(DecimalType).apply(this,arguments))}return _inherits(DecimalType,_SystemUtils$mixinCla),_createClass(DecimalType,[{key:"guard",value:function(value,field){if(+value===value&&(!isFinite(value)||value%1))throw new Error('Value "'+value+'" is not a float.')}},{key:"encode",value:function(value,field){return parseFloat(bcadd(parseFloat(value),"0",field.getScale()))}},{key:"decode",value:function(value,field){return parseFloat(bcadd(parseFloat(value),"0",field.getScale()))}},{key:"getDefault",value:function(){return 0}},{key:"isNumeric",value:function(){return!0}},{key:"getMin",value:function(){return-1}},{key:"getMax",value:function(){return 1/0}}]),DecimalType}(_systemUtils2["default"].mixinClass(_type2["default"]));exports["default"]=DecimalType}),function(global,factory){if("function"==typeof define&&define.amd)define("gdbots/pbj/type/float-type",["exports","gdbots/common/util/system-utils","gdbots/pbj/type/type"],factory);else if("undefined"!=typeof exports)factory(exports,require("gdbots/common/util/system-utils"),require("gdbots/pbj/type/type"));else{var mod={exports:{}};factory(mod.exports,global.systemUtils,global.type),global.gdbotsPbjTypeFloatType=mod.exports}}(this,function(exports,_systemUtils,_type){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0});var _systemUtils2=_interopRequireDefault(_systemUtils),_type2=_interopRequireDefault(_type),_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),FloatType=function(_SystemUtils$mixinCla){function FloatType(){return _classCallCheck(this,FloatType),_possibleConstructorReturn(this,Object.getPrototypeOf(FloatType).apply(this,arguments))}return _inherits(FloatType,_SystemUtils$mixinCla),_createClass(FloatType,[{key:"guard",value:function(value,field){if(+value===value&&(!isFinite(value)||value%1))throw new Error('Value "'+value+'" is not a float.')}},{key:"encode",value:function(value,field){return parseFloat(value)}},{key:"decode",value:function(value,field){return parseFloat(value)}},{key:"getDefault",value:function(){return 0}},{key:"isNumeric",value:function(){return!0}},{key:"getMin",value:function(){return-1}},{key:"getMax",value:function(){return 1/0}}]),FloatType}(_systemUtils2["default"].mixinClass(_type2["default"]));exports["default"]=FloatType}),function(global,factory){if("function"==typeof define&&define.amd)define("gdbots/pbj/type/geo-point-type",["exports","gdbots/common/util/system-utils","gdbots/pbj/type/type","gdbots/pbj/exception/encode-value-failed","gdbots/pbj/exception/decode-value-failed"],factory);else if("undefined"!=typeof exports)factory(exports,require("gdbots/common/util/system-utils"),require("gdbots/pbj/type/type"),require("gdbots/pbj/exception/encode-value-failed"),require("gdbots/pbj/exception/decode-value-failed"));else{var mod={exports:{}};factory(mod.exports,global.systemUtils,global.type,global.encodeValueFailed,global.decodeValueFailed),global.gdbotsPbjTypeGeoPointType=mod.exports}}(this,function(exports,_systemUtils,_type,_encodeValueFailed,_decodeValueFailed){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0});var _systemUtils2=_interopRequireDefault(_systemUtils),_type2=_interopRequireDefault(_type),_encodeValueFailed2=_interopRequireDefault(_encodeValueFailed),_decodeValueFailed2=_interopRequireDefault(_decodeValueFailed),_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),GeoPointType=function(_SystemUtils$mixinCla){function GeoPointType(){return _classCallCheck(this,GeoPointType),_possibleConstructorReturn(this,Object.getPrototypeOf(GeoPointType).apply(this,arguments))}return _inherits(GeoPointType,_SystemUtils$mixinCla),_createClass(GeoPointType,[{key:"guard",value:function(value,field){if("GeoPoint"!==_systemUtils2["default"].getClass(value))throw new Error('Class "'+value.name+'" was expected to be instanceof of "GeoPoint" but is not.')}},{key:"encode",value:function(value,field){throw new _encodeValueFailed2["default"](value,field,"GeoPoints must be encoded with a Serializer.")}},{key:"decode",value:function(value,field){throw new _decodeValueFailed2["default"](value,field,"GeoPoints must be decoded with a Serializer.")}},{key:"isScalar",value:function(){return!1}},{key:"encodesToScalar",value:function(){return!1}},{key:"allowedInSet",value:function(){return!1}}]),GeoPointType}(_systemUtils2["default"].mixinClass(_type2["default"]));exports["default"]=GeoPointType}),function(global,factory){if("function"==typeof define&&define.amd)define("gdbots/pbj/type/identifier-type",["exports","gdbots/common/util/system-utils","gdbots/pbj/exception/decode-value-failed","gdbots/pbj/type/type"],factory);else if("undefined"!=typeof exports)factory(exports,require("gdbots/common/util/system-utils"),require("gdbots/pbj/exception/decode-value-failed"),require("gdbots/pbj/type/type"));else{var mod={exports:{}};factory(mod.exports,global.systemUtils,global.decodeValueFailed,global.type),global.gdbotsPbjTypeIdentifierType=mod.exports}}(this,function(exports,_systemUtils,_decodeValueFailed,_type){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0});var _systemUtils2=_interopRequireDefault(_systemUtils),_decodeValueFailed2=_interopRequireDefault(_decodeValueFailed),_type2=_interopRequireDefault(_type),_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),IdentifierType=function(_SystemUtils$mixinCla){function IdentifierType(){return _classCallCheck(this,IdentifierType),_possibleConstructorReturn(this,Object.getPrototypeOf(IdentifierType).apply(this,arguments))}return _inherits(IdentifierType,_SystemUtils$mixinCla),_createClass(IdentifierType,[{key:"guard",value:function(value,field){if(!value.hasTrait("Identifier"))throw new Error('Class "'+value.name+'" was expected to be instanceof of "Identifier" but is not.');if(field.hasInstance()&&field.getInstance().name!==_systemUtils2["default"].getClass(value)&&!value.hasTrait(field.getInstance().name))throw new Error('Class "'+value.name+'" was expected to be instanceof of "'+field.getInstance().name+'" but is not.');var length=value.toString().length,maxBytes=this.getMaxBytes(),okay=length>0&&maxBytes>=length;if(!okay)throw new Error("Field ["+field.getName()+"] must be between [1] and ["+maxBytes+"] bytes, ["+length+"] bytes given.")}},{key:"encode",value:function(value,field){return value.hasTrait("Identifier")?value.toString():null}},{key:"decode",value:function(value,field){if(!value||0===value.length)return null;var instance=field.getInstance();try{return instance.fromString(value)}catch(e){throw new _decodeValueFailed2["default"](value,field,e)}}},{key:"isScalar",value:function(){return!1}},{key:"isString",value:function(){return!0}},{key:"getMaxBytes",value:function(){return 100}}]),IdentifierType}(_systemUtils2["default"].mixinClass(_type2["default"]));exports["default"]=IdentifierType}),function(global,factory){if("function"==typeof define&&define.amd)define("gdbots/pbj/type/int-enum-type",["exports","gdbots/common/util/array-utils","gdbots/common/util/system-utils","gdbots/pbj/type/type","gdbots/pbj/exception/decode-value-failed"],factory);else if("undefined"!=typeof exports)factory(exports,require("gdbots/common/util/array-utils"),require("gdbots/common/util/system-utils"),require("gdbots/pbj/type/type"),require("gdbots/pbj/exception/decode-value-failed"));else{var mod={exports:{}};factory(mod.exports,global.arrayUtils,global.systemUtils,global.type,global.decodeValueFailed),global.gdbotsPbjTypeIntEnumType=mod.exports}}(this,function(exports,_arrayUtils,_systemUtils,_type,_decodeValueFailed){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0});var _arrayUtils2=_interopRequireDefault(_arrayUtils),_systemUtils2=_interopRequireDefault(_systemUtils),_type2=_interopRequireDefault(_type),_decodeValueFailed2=_interopRequireDefault(_decodeValueFailed),_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),IntEnumType=function(_SystemUtils$mixinCla){function IntEnumType(){return _classCallCheck(this,IntEnumType),_possibleConstructorReturn(this,Object.getPrototypeOf(IntEnumType).apply(this,arguments))}return _inherits(IntEnumType,_SystemUtils$mixinCla),_createClass(IntEnumType,[{key:"guard",value:function(value,field){if(!value.hasTrait("Enum"))throw new Error('Class "'+value.name+'" was expected to be instanceof of "Enum" but is not.');if(field.hasInstance()&&field.getInstance().name!==_systemUtils2["default"].getClass(value)&&!value.hasTrait(field.getInstance().name))throw new Error('Class "'+value.name+'" was expected to be instanceof of "'+field.getInstance().name+'" but is not.');if(value===+value&&isFinite(value)&&!(value%1))throw new Error('Value "'+value+'" is not a integer.');if(value.getValue()<this.getMin()||value.getValue()>this.getMax())throw new Error('Number "'+value.getValue()+'" was expected to be at least "'+value.getMin()+'" and at most "'+value.getMax()+'".')}},{key:"encode",value:function(value,field){return value.hasTrait("Enum")?parseInt(value.getValue()):0}},{key:"decode",value:function(value,field){if(null===value)return null;var instance=field.getInstance(),enumValue=null;if(_arrayUtils2["default"].each(instance.enumValues,function(item){value===parseInt(item.getValue())&&(enumValue=item)}),null===enumValue)throw new _decodeValueFailed2["default"](value,field,e);return enumValue}},{key:"isScalar",value:function(){return!1}},{key:"isNumeric",value:function(){return!0}},{key:"getMin",value:function(){return 0}},{key:"getMax",value:function(){return 65535}}]),IntEnumType}(_systemUtils2["default"].mixinClass(_type2["default"]));exports["default"]=IntEnumType}),function(global,factory){if("function"==typeof define&&define.amd)define("gdbots/pbj/type/int-type",["exports","gdbots/common/util/system-utils","gdbots/pbj/type/abstract-int-type"],factory);else if("undefined"!=typeof exports)factory(exports,require("gdbots/common/util/system-utils"),require("gdbots/pbj/type/abstract-int-type"));else{var mod={exports:{}};factory(mod.exports,global.systemUtils,global.abstractIntType),global.gdbotsPbjTypeIntType=mod.exports}}(this,function(exports,_systemUtils,_abstractIntType){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0});var _systemUtils2=_interopRequireDefault(_systemUtils),_abstractIntType2=_interopRequireDefault(_abstractIntType),_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),IntType=function(_SystemUtils$mixinCla){function IntType(){return _classCallCheck(this,IntType),_possibleConstructorReturn(this,Object.getPrototypeOf(IntType).apply(this,arguments))}return _inherits(IntType,_SystemUtils$mixinCla),_createClass(IntType,[{key:"getMin",value:function(){return 0}},{key:"getMax",value:function(){return 4294967295}}]),IntType}(_systemUtils2["default"].mixinClass(_abstractIntType2["default"]));exports["default"]=IntType}),function(global,factory){if("function"==typeof define&&define.amd)define("gdbots/pbj/type/medium-blob-type",["exports","gdbots/common/util/system-utils","gdbots/pbj/type/abstract-binary-type"],factory);else if("undefined"!=typeof exports)factory(exports,require("gdbots/common/util/system-utils"),require("gdbots/pbj/type/abstract-binary-type"));else{var mod={exports:{}};factory(mod.exports,global.systemUtils,global.abstractBinaryType),global.gdbotsPbjTypeMediumBlobType=mod.exports}}(this,function(exports,_systemUtils,_abstractBinaryType){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0});var _systemUtils2=_interopRequireDefault(_systemUtils),_abstractBinaryType2=_interopRequireDefault(_abstractBinaryType),_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),MediumBlobType=function(_SystemUtils$mixinCla){function MediumBlobType(){return _classCallCheck(this,MediumBlobType),_possibleConstructorReturn(this,Object.getPrototypeOf(MediumBlobType).apply(this,arguments))}return _inherits(MediumBlobType,_SystemUtils$mixinCla),_createClass(MediumBlobType,[{key:"getMaxBytes",value:function(){return 16777215}},{key:"allowedInSet",value:function(){return!1}}]),MediumBlobType}(_systemUtils2["default"].mixinClass(_abstractBinaryType2["default"]));exports["default"]=MediumBlobType}),function(global,factory){if("function"==typeof define&&define.amd)define("gdbots/pbj/type/medium-int-type",["exports","gdbots/common/util/system-utils","gdbots/pbj/type/abstract-int-type"],factory);else if("undefined"!=typeof exports)factory(exports,require("gdbots/common/util/system-utils"),require("gdbots/pbj/type/abstract-int-type"));else{var mod={exports:{}};factory(mod.exports,global.systemUtils,global.abstractIntType),global.gdbotsPbjTypeMediumIntType=mod.exports}}(this,function(exports,_systemUtils,_abstractIntType){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){
if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0});var _systemUtils2=_interopRequireDefault(_systemUtils),_abstractIntType2=_interopRequireDefault(_abstractIntType),_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),MediumIntType=function(_SystemUtils$mixinCla){function MediumIntType(){return _classCallCheck(this,MediumIntType),_possibleConstructorReturn(this,Object.getPrototypeOf(MediumIntType).apply(this,arguments))}return _inherits(MediumIntType,_SystemUtils$mixinCla),_createClass(MediumIntType,[{key:"getMin",value:function(){return 0}},{key:"getMax",value:function(){return 16777215}}]),MediumIntType}(_systemUtils2["default"].mixinClass(_abstractIntType2["default"]));exports["default"]=MediumIntType}),function(global,factory){if("function"==typeof define&&define.amd)define("gdbots/pbj/type/medium-text-type",["exports","gdbots/common/util/system-utils","gdbots/pbj/type/abstract-string-type"],factory);else if("undefined"!=typeof exports)factory(exports,require("gdbots/common/util/system-utils"),require("gdbots/pbj/type/abstract-string-type"));else{var mod={exports:{}};factory(mod.exports,global.systemUtils,global.abstractStringType),global.gdbotsPbjTypeMediumTextType=mod.exports}}(this,function(exports,_systemUtils,_abstractStringType){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0});var _systemUtils2=_interopRequireDefault(_systemUtils),_abstractStringType2=_interopRequireDefault(_abstractStringType),_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),MediumTextType=function(_SystemUtils$mixinCla){function MediumTextType(){return _classCallCheck(this,MediumTextType),_possibleConstructorReturn(this,Object.getPrototypeOf(MediumTextType).apply(this,arguments))}return _inherits(MediumTextType,_SystemUtils$mixinCla),_createClass(MediumTextType,[{key:"getMaxBytes",value:function(){return 16777215}},{key:"allowedInSet",value:function(){return!1}}]),MediumTextType}(_systemUtils2["default"].mixinClass(_abstractStringType2["default"]));exports["default"]=MediumTextType}),function(global,factory){if("function"==typeof define&&define.amd)define("gdbots/pbj/type/message-ref-type",["exports","gdbots/common/util/system-utils","gdbots/pbj/exception/encode-value-failed","gdbots/pbj/exception/decode-value-failed","gdbots/pbj/type/type"],factory);else if("undefined"!=typeof exports)factory(exports,require("gdbots/common/util/system-utils"),require("gdbots/pbj/exception/encode-value-failed"),require("gdbots/pbj/exception/decode-value-failed"),require("gdbots/pbj/type/type"));else{var mod={exports:{}};factory(mod.exports,global.systemUtils,global.encodeValueFailed,global.decodeValueFailed,global.type),global.gdbotsPbjTypeMessageRefType=mod.exports}}(this,function(exports,_systemUtils,_encodeValueFailed,_decodeValueFailed,_type){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0});var _systemUtils2=_interopRequireDefault(_systemUtils),_encodeValueFailed2=_interopRequireDefault(_encodeValueFailed),_decodeValueFailed2=_interopRequireDefault(_decodeValueFailed),_type2=_interopRequireDefault(_type),_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),MessageRefType=function(_SystemUtils$mixinCla){function MessageRefType(){return _classCallCheck(this,MessageRefType),_possibleConstructorReturn(this,Object.getPrototypeOf(MessageRefType).apply(this,arguments))}return _inherits(MessageRefType,_SystemUtils$mixinCla),_createClass(MessageRefType,[{key:"guard",value:function(value,field){if("MessageRef"!==_systemUtils2["default"].getClass(value))throw new Error('Class "'+value.name+'" was expected to be instanceof of "MessageRef" but is not.')}},{key:"encode",value:function(value,field){throw new _encodeValueFailed2["default"](value,field,"MessageRef must be encoded with a Serializer.")}},{key:"decode",value:function(value,field){throw new _decodeValueFailed2["default"](value,field,"MessageRef must be decoded with a Serializer.")}},{key:"isScalar",value:function(){return!1}},{key:"encodesToScalar",value:function(){return!1}}]),MessageRefType}(_systemUtils2["default"].mixinClass(_type2["default"]));exports["default"]=MessageRefType}),function(global,factory){if("function"==typeof define&&define.amd)define("gdbots/pbj/type/message-type",["exports","gdbots/common/util/array-utils","gdbots/common/util/system-utils","gdbots/pbj/exception/encode-value-failed","gdbots/pbj/exception/decode-value-failed","gdbots/pbj/type/type"],factory);else if("undefined"!=typeof exports)factory(exports,require("gdbots/common/util/array-utils"),require("gdbots/common/util/system-utils"),require("gdbots/pbj/exception/encode-value-failed"),require("gdbots/pbj/exception/decode-value-failed"),require("gdbots/pbj/type/type"));else{var mod={exports:{}};factory(mod.exports,global.arrayUtils,global.systemUtils,global.encodeValueFailed,global.decodeValueFailed,global.type),global.gdbotsPbjTypeMessageType=mod.exports}}(this,function(exports,_arrayUtils,_systemUtils,_encodeValueFailed,_decodeValueFailed,_type){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0});var _arrayUtils2=_interopRequireDefault(_arrayUtils),_systemUtils2=_interopRequireDefault(_systemUtils),_encodeValueFailed2=_interopRequireDefault(_encodeValueFailed),_decodeValueFailed2=_interopRequireDefault(_decodeValueFailed),_type2=_interopRequireDefault(_type),_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),MessageType=function(_SystemUtils$mixinCla){function MessageType(){return _classCallCheck(this,MessageType),_possibleConstructorReturn(this,Object.getPrototypeOf(MessageType).apply(this,arguments))}return _inherits(MessageType,_SystemUtils$mixinCla),_createClass(MessageType,[{key:"guard",value:function(value,field){if(!value.hasTrait("Message"))throw new Error('Class "'+value.name+'" was expected to be instanceof of "Message" but is not.');if(field.hasInstance()&&field.getInstance().name!==_systemUtils2["default"].getClass(value)&&!value.hasTrait(field.getInstance().name))throw new Error('Class "'+value.name+'" was expected to be instanceof of "'+field.getInstance().name+'" but is not.');if(field.getAnyOfInstances()){var instances=field.getAnyOfInstances();if(instances&&0!==instances.length){var found=!1,classNames=[];if(_arrayUtils2["default"].each(instances,function(instance){classNames.push(instance.name),(value.hasTrait(instance.name)||instance.name===_systemUtils2["default"].getClass(value))&&(found=!0)}),!found)throw new Error("Field ["+field.getName()+"] must be an instance of at least one of: "+classNames.join(",")+".")}}}},{key:"encode",value:function(value,field){throw new _encodeValueFailed2["default"](value,field,"Message must be encoded with a Serializer.")}},{key:"decode",value:function(value,field){throw new _decodeValueFailed2["default"](value,field,"Message must be decoded with a Serializer.")}},{key:"isScalar",value:function(){return!1}},{key:"encodesToScalar",value:function(){return!1}},{key:"isMessage",value:function(){return!0}},{key:"allowedInSet",value:function(){return!1}}]),MessageType}(_systemUtils2["default"].mixinClass(_type2["default"]));exports["default"]=MessageType}),function(global,factory){if("function"==typeof define&&define.amd)define("gdbots/pbj/type/microtime-type",["exports","gdbots/common/util/system-utils","gdbots/common/microtime","gdbots/pbj/type/type"],factory);else if("undefined"!=typeof exports)factory(exports,require("gdbots/common/util/system-utils"),require("gdbots/common/microtime"),require("gdbots/pbj/type/type"));else{var mod={exports:{}};factory(mod.exports,global.systemUtils,global.microtime,global.type),global.gdbotsPbjTypeMicrotimeType=mod.exports}}(this,function(exports,_systemUtils,_microtime,_type){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0});var _systemUtils2=_interopRequireDefault(_systemUtils),_microtime2=_interopRequireDefault(_microtime),_type2=_interopRequireDefault(_type),_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),MicrotimeType=function(_SystemUtils$mixinCla){function MicrotimeType(){return _classCallCheck(this,MicrotimeType),_possibleConstructorReturn(this,Object.getPrototypeOf(MicrotimeType).apply(this,arguments))}return _inherits(MicrotimeType,_SystemUtils$mixinCla),_createClass(MicrotimeType,[{key:"guard",value:function(value,field){if("Microtime"!==_systemUtils2["default"].getClass(value))throw new Error('Class "'+value.name+'" was expected to be instanceof of "Microtime" but is not.')}},{key:"encode",value:function(value,field){return"Microtime"===_systemUtils2["default"].getClass(value)?value.toString():null}},{key:"decode",value:function(value,field){return value&&0!==value.length?"Microtime"===_systemUtils2["default"].getClass(value)?value:_microtime2["default"].fromString(value):null}},{key:"isScalar",value:function(){return!1}},{key:"getDefault",value:function(){return _microtime2["default"].create()}},{key:"isNumeric",value:function(){return!0}}]),MicrotimeType}(_systemUtils2["default"].mixinClass(_type2["default"]));exports["default"]=MicrotimeType}),function(global,factory){if("function"==typeof define&&define.amd)define("gdbots/pbj/type/signed-big-int-type",["exports","gdbots/common/util/system-utils","gdbots/common/big-number","gdbots/pbj/type/type"],factory);else if("undefined"!=typeof exports)factory(exports,require("gdbots/common/util/system-utils"),require("gdbots/common/big-number"),require("gdbots/pbj/type/type"));else{var mod={exports:{}};factory(mod.exports,global.systemUtils,global.bigNumber,global.type),global.gdbotsPbjTypeSignedBigIntType=mod.exports}}(this,function(exports,_systemUtils,_bigNumber,_type){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0});var _systemUtils2=_interopRequireDefault(_systemUtils),_bigNumber2=_interopRequireDefault(_bigNumber),_type2=_interopRequireDefault(_type),_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),SignedBigIntType=function(_SystemUtils$mixinCla){function SignedBigIntType(){return _classCallCheck(this,SignedBigIntType),_possibleConstructorReturn(this,Object.getPrototypeOf(SignedBigIntType).apply(this,arguments))}return _inherits(SignedBigIntType,_SystemUtils$mixinCla),_createClass(SignedBigIntType,[{key:"guard",value:function(value,field){if("BigNumber"!==_systemUtils2["default"].getClass(value))throw new Error('Class "'+value.name+'" was expected to be instanceof of "BigNumber" but is not.');if(!value.greaterThanOrEqualTo("-9223372036854775808"))throw new Error("Field ["+field.getName()+"] cannot be less than [-9223372036854775808].");if(!value.lessThanOrEqualTo("9223372036854775807"))throw new Error("Field ["+field.getName()+"] cannot be greater than [9223372036854775807].")}},{key:"encode",value:function(value,field){return"BigNumber"===_systemUtils2["default"].getClass(value)?value.toString():"0"}},{key:"decode",value:function(value,field){return null===value||"BigNumber"===_systemUtils2["default"].getClass(value)?value:new _bigNumber2["default"](value)}},{key:"isScalar",value:function(){return!1}},{key:"getDefault",value:function(){return new _bigNumber2["default"](0)}},{key:"isNumeric",value:function(){return!0}}]),SignedBigIntType}(_systemUtils2["default"].mixinClass(_type2["default"]));exports["default"]=SignedBigIntType}),function(global,factory){if("function"==typeof define&&define.amd)define("gdbots/pbj/type/signed-int-type",["exports","gdbots/common/util/system-utils","gdbots/pbj/type/abstract-int-type"],factory);else if("undefined"!=typeof exports)factory(exports,require("gdbots/common/util/system-utils"),require("gdbots/pbj/type/abstract-int-type"));else{var mod={exports:{}};factory(mod.exports,global.systemUtils,global.abstractIntType),global.gdbotsPbjTypeSignedIntType=mod.exports}}(this,function(exports,_systemUtils,_abstractIntType){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0});var _systemUtils2=_interopRequireDefault(_systemUtils),_abstractIntType2=_interopRequireDefault(_abstractIntType),_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),SignedIntType=function(_SystemUtils$mixinCla){function SignedIntType(){return _classCallCheck(this,SignedIntType),_possibleConstructorReturn(this,Object.getPrototypeOf(SignedIntType).apply(this,arguments))}return _inherits(SignedIntType,_SystemUtils$mixinCla),_createClass(SignedIntType,[{key:"getMin",value:function(){return-2147483648}},{key:"getMax",value:function(){return 2147483647}}]),SignedIntType}(_systemUtils2["default"].mixinClass(_abstractIntType2["default"]));exports["default"]=SignedIntType}),function(global,factory){if("function"==typeof define&&define.amd)define("gdbots/pbj/type/signed-medium-int-type",["exports","gdbots/common/util/system-utils","gdbots/pbj/type/abstract-int-type"],factory);else if("undefined"!=typeof exports)factory(exports,require("gdbots/common/util/system-utils"),require("gdbots/pbj/type/abstract-int-type"));else{var mod={exports:{}};factory(mod.exports,global.systemUtils,global.abstractIntType),global.gdbotsPbjTypeSignedMediumIntType=mod.exports}}(this,function(exports,_systemUtils,_abstractIntType){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0});var _systemUtils2=_interopRequireDefault(_systemUtils),_abstractIntType2=_interopRequireDefault(_abstractIntType),_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),SignedMediumIntType=function(_SystemUtils$mixinCla){function SignedMediumIntType(){return _classCallCheck(this,SignedMediumIntType),_possibleConstructorReturn(this,Object.getPrototypeOf(SignedMediumIntType).apply(this,arguments))}return _inherits(SignedMediumIntType,_SystemUtils$mixinCla),_createClass(SignedMediumIntType,[{key:"getMin",value:function(){return-8388608}},{key:"getMax",value:function(){return 8388607}}]),SignedMediumIntType}(_systemUtils2["default"].mixinClass(_abstractIntType2["default"]));exports["default"]=SignedMediumIntType}),function(global,factory){if("function"==typeof define&&define.amd)define("gdbots/pbj/type/signed-small-int-type",["exports","gdbots/common/util/system-utils","gdbots/pbj/type/abstract-int-type"],factory);else if("undefined"!=typeof exports)factory(exports,require("gdbots/common/util/system-utils"),require("gdbots/pbj/type/abstract-int-type"));else{var mod={exports:{}};factory(mod.exports,global.systemUtils,global.abstractIntType),global.gdbotsPbjTypeSignedSmallIntType=mod.exports}}(this,function(exports,_systemUtils,_abstractIntType){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0});var _systemUtils2=_interopRequireDefault(_systemUtils),_abstractIntType2=_interopRequireDefault(_abstractIntType),_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),SignedSmallIntType=function(_SystemUtils$mixinCla){function SignedSmallIntType(){return _classCallCheck(this,SignedSmallIntType),_possibleConstructorReturn(this,Object.getPrototypeOf(SignedSmallIntType).apply(this,arguments))}return _inherits(SignedSmallIntType,_SystemUtils$mixinCla),_createClass(SignedSmallIntType,[{key:"getMin",value:function(){return-32768}},{key:"getMax",value:function(){return 32767}}]),SignedSmallIntType}(_systemUtils2["default"].mixinClass(_abstractIntType2["default"]));exports["default"]=SignedSmallIntType}),function(global,factory){if("function"==typeof define&&define.amd)define("gdbots/pbj/type/signed-tiny-int-type",["exports","gdbots/common/util/system-utils","gdbots/pbj/type/abstract-int-type"],factory);else if("undefined"!=typeof exports)factory(exports,require("gdbots/common/util/system-utils"),require("gdbots/pbj/type/abstract-int-type"));else{var mod={exports:{}};factory(mod.exports,global.systemUtils,global.abstractIntType),global.gdbotsPbjTypeSignedTinyIntType=mod.exports}}(this,function(exports,_systemUtils,_abstractIntType){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0});var _systemUtils2=_interopRequireDefault(_systemUtils),_abstractIntType2=_interopRequireDefault(_abstractIntType),_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),SignedTinyIntType=function(_SystemUtils$mixinCla){function SignedTinyIntType(){return _classCallCheck(this,SignedTinyIntType),_possibleConstructorReturn(this,Object.getPrototypeOf(SignedTinyIntType).apply(this,arguments))}return _inherits(SignedTinyIntType,_SystemUtils$mixinCla),_createClass(SignedTinyIntType,[{key:"getMin",value:function(){return-128}},{key:"getMax",value:function(){return 127}}]),SignedTinyIntType}(_systemUtils2["default"].mixinClass(_abstractIntType2["default"]));exports["default"]=SignedTinyIntType}),function(global,factory){if("function"==typeof define&&define.amd)define("gdbots/pbj/type/small-int-type",["exports","gdbots/common/util/system-utils","gdbots/pbj/type/abstract-int-type"],factory);else if("undefined"!=typeof exports)factory(exports,require("gdbots/common/util/system-utils"),require("gdbots/pbj/type/abstract-int-type"));else{var mod={exports:{}};factory(mod.exports,global.systemUtils,global.abstractIntType),global.gdbotsPbjTypeSmallIntType=mod.exports}}(this,function(exports,_systemUtils,_abstractIntType){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0});var _systemUtils2=_interopRequireDefault(_systemUtils),_abstractIntType2=_interopRequireDefault(_abstractIntType),_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),SmallIntType=function(_SystemUtils$mixinCla){function SmallIntType(){return _classCallCheck(this,SmallIntType),_possibleConstructorReturn(this,Object.getPrototypeOf(SmallIntType).apply(this,arguments))}return _inherits(SmallIntType,_SystemUtils$mixinCla),_createClass(SmallIntType,[{key:"getMin",value:function(){return 0}},{key:"getMax",value:function(){return 65535}}]),SmallIntType}(_systemUtils2["default"].mixinClass(_abstractIntType2["default"]));exports["default"]=SmallIntType}),function(global,factory){
if("function"==typeof define&&define.amd)define("gdbots/pbj/type/string-enum-type",["exports","gdbots/common/util/array-utils","gdbots/common/util/system-utils","gdbots/pbj/type/type","gdbots/pbj/exception/decode-value-failed"],factory);else if("undefined"!=typeof exports)factory(exports,require("gdbots/common/util/array-utils"),require("gdbots/common/util/system-utils"),require("gdbots/pbj/type/type"),require("gdbots/pbj/exception/decode-value-failed"));else{var mod={exports:{}};factory(mod.exports,global.arrayUtils,global.systemUtils,global.type,global.decodeValueFailed),global.gdbotsPbjTypeStringEnumType=mod.exports}}(this,function(exports,_arrayUtils,_systemUtils,_type,_decodeValueFailed){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0});var _arrayUtils2=_interopRequireDefault(_arrayUtils),_systemUtils2=_interopRequireDefault(_systemUtils),_type2=_interopRequireDefault(_type),_decodeValueFailed2=_interopRequireDefault(_decodeValueFailed),_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),StringEnumType=function(_SystemUtils$mixinCla){function StringEnumType(){return _classCallCheck(this,StringEnumType),_possibleConstructorReturn(this,Object.getPrototypeOf(StringEnumType).apply(this,arguments))}return _inherits(StringEnumType,_SystemUtils$mixinCla),_createClass(StringEnumType,[{key:"guard",value:function(value,field){if(!value.hasTrait("Enum"))throw new Error('Class "'+value.name+'" was expected to be instanceof of "Enum" but is not.');if(field.hasInstance()&&field.getInstance().name!==_systemUtils2["default"].getClass(value)&&!value.hasTrait(field.getInstance().name))throw new Error('Class "'+value.name+'" was expected to be instanceof of "'+field.getInstance().name+'" but is not.');if("string"!=typeof value.getValue())throw new Error('Value "'+value.getValue()+'" expected to be string.');var length=value.toString().length,maxBytes=this.getMaxBytes(),okay=length>0&&maxBytes>=length;if(!okay)throw new Error("Field ["+field.getName()+"] must be between [1] and ["+maxBytes+"] bytes, ["+length+"] bytes given.")}},{key:"encode",value:function(value,field){return value.hasTrait("Enum")?String(value.getValue()):null}},{key:"decode",value:function(value,field){if(null===value)return null;var instance=field.getInstance(),enumValue=null;if(_arrayUtils2["default"].each(instance.enumValues,function(item){value===String(item.getValue())&&(enumValue=item)}),null===enumValue)throw new _decodeValueFailed2["default"](value,field,e);return enumValue}},{key:"isScalar",value:function(){return!1}},{key:"isString",value:function(){return!0}},{key:"getMaxBytes",value:function(){return 100}}]),StringEnumType}(_systemUtils2["default"].mixinClass(_type2["default"]));exports["default"]=StringEnumType}),function(global,factory){if("function"==typeof define&&define.amd)define("gdbots/pbj/type/string-type",["exports","gdbots/common/util/date-utils","gdbots/common/util/hashtag-utils","gdbots/common/util/system-utils","gdbots/pbj/type/abstract-string-type","gdbots/pbj/enum/format"],factory);else if("undefined"!=typeof exports)factory(exports,require("gdbots/common/util/date-utils"),require("gdbots/common/util/hashtag-utils"),require("gdbots/common/util/system-utils"),require("gdbots/pbj/type/abstract-string-type"),require("gdbots/pbj/enum/format"));else{var mod={exports:{}};factory(mod.exports,global.dateUtils,global.hashtagUtils,global.systemUtils,global.abstractStringType,global.format),global.gdbotsPbjTypeStringType=mod.exports}}(this,function(exports,_dateUtils,_hashtagUtils,_systemUtils,_abstractStringType,_format){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0});var _dateUtils2=_interopRequireDefault(_dateUtils),_hashtagUtils2=_interopRequireDefault(_hashtagUtils),_systemUtils2=_interopRequireDefault(_systemUtils),_abstractStringType2=_interopRequireDefault(_abstractStringType),_format2=_interopRequireDefault(_format),_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_get=function get(object,property,receiver){null===object&&(object=Function.prototype);var desc=Object.getOwnPropertyDescriptor(object,property);if(void 0===desc){var parent=Object.getPrototypeOf(object);return null===parent?void 0:get(parent,property,receiver)}if("value"in desc)return desc.value;var getter=desc.get;return void 0===getter?void 0:getter.call(receiver)},StringType=function(_SystemUtils$mixinCla){function StringType(){return _classCallCheck(this,StringType),_possibleConstructorReturn(this,Object.getPrototypeOf(StringType).apply(this,arguments))}return _inherits(StringType,_SystemUtils$mixinCla),_createClass(StringType,[{key:"guard",value:function(value,field){_get(Object.getPrototypeOf(StringType.prototype),"guard",this).call(this,value,field);var pattern=field.getPattern();if(pattern&&!new RegExp(pattern).test(value))throw new Error("Value ["+value+"] is invalid. It must match the pattern ["+pattern+"].");switch(field.getFormat()){case _format2["default"].UNKNOWN:break;case _format2["default"].DATE:if(!/^\d{4}-\d{2}-\d{2}$/.test(value))throw new Error("Field ["+field.getName()+"] must be a valid ["+field.getFormat().getValue()+"].");break;case _format2["default"].DATE_TIME:if(!_dateUtils2["default"].isValidISO8601Date(value))throw new Error("Field ["+field.getName()+"] must be a valid ISO8601 date-time. Format must match one of ["+_dateUtils.ISO8601_ZULU+"], ["+_dateUtils.ISO8601+"] or ["+(new Date).toISOString()+"].");break;case _format2["default"].SLUG:if(!/^([\w\/-]|[\w-][\w\/-]*[\w-])$/.test(value))throw new Error("Field ["+field.getName()+"] must be a valid ["+field.getFormat().getValue()+"].");break;case _format2["default"].EMAIL:if(!/^(([^<>()\[\]\.,;:\s@\"]+(\.[^<>()\[\]\.,;:\s@\"]+)*)|(\".+\"))@(([^<>()[\]\.,;:\s@\"]+\.)+[^<>()[\]\.,;:\s@\"]{2,})$/.test(value))throw new Error("Field ["+field.getName()+"] must be a valid ["+field.getFormat().getValue()+"].");break;case _format2["default"].HASHTAG:if(!_hashtagUtils2["default"].isValid(value))throw new Error("Field ["+field.getName()+"] must be a valid hashtag. @see HashtagUtils.isValid.");break;case _format2["default"].IPV4:if(!/^([01]?[0-9]?[0-9]|2[0-4][0-9]|25[0-5])\\.([01]?[0-9]?[0-9]|2[0-4][0-9]|25[0-5])\\.([01]?[0-9]?[0-9]|2[0-4][0-9]|25[0-5])\\.([01]?[0-9]?[0-9]|2[0-4][0-9]|25[0-5])$/.test(value))throw new Error("Field ["+field.getName()+"] must be a valid ["+field.getFormat().getValue()+"].");break;case _format2["default"].IPV6:if(!/^((?:[0-9A-Fa-f]{1,4}))((?::[0-9A-Fa-f]{1,4}))*::((?:[0-9A-Fa-f]{1,4}))((?::[0-9A-Fa-f]{1,4}))*|((?:[0-9A-Fa-f]{1,4}))((?::[0-9A-Fa-f]{1,4})){7}$/.test(value))throw new Error("Field ["+field.getName()+"] must be a valid ["+field.getFormat().getValue()+"].");break;case _format2["default"].HOSTNAME:case _format2["default"].URI:case _format2["default"].URL:if(!/(https?:\/\/(?:www\.|(?!www))[^\s\.]+\.[^\s]{2,}|www\.[^\s]+\.[^\s]{2,})/.test(value))throw new Error("Field ["+field.getName()+"] must be a valid ["+field.getFormat().getValue()+"].");break;case _format2["default"].UUID:if(!/[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}/.test(value))throw new Error("Field ["+field.getName()+"] must be a valid ["+field.getFormat().getValue()+"].")}}},{key:"getMaxBytes",value:function(){return 255}}]),StringType}(_systemUtils2["default"].mixinClass(_abstractStringType2["default"]));exports["default"]=StringType}),function(global,factory){if("function"==typeof define&&define.amd)define("gdbots/pbj/type/text-type",["exports","gdbots/common/util/system-utils","gdbots/pbj/type/abstract-string-type"],factory);else if("undefined"!=typeof exports)factory(exports,require("gdbots/common/util/system-utils"),require("gdbots/pbj/type/abstract-string-type"));else{var mod={exports:{}};factory(mod.exports,global.systemUtils,global.abstractStringType),global.gdbotsPbjTypeTextType=mod.exports}}(this,function(exports,_systemUtils,_abstractStringType){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0});var _systemUtils2=_interopRequireDefault(_systemUtils),_abstractStringType2=_interopRequireDefault(_abstractStringType),_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),TextType=function(_SystemUtils$mixinCla){function TextType(){return _classCallCheck(this,TextType),_possibleConstructorReturn(this,Object.getPrototypeOf(TextType).apply(this,arguments))}return _inherits(TextType,_SystemUtils$mixinCla),_createClass(TextType,[{key:"allowedInSet",value:function(){return!1}}]),TextType}(_systemUtils2["default"].mixinClass(_abstractStringType2["default"]));exports["default"]=TextType}),function(global,factory){if("function"==typeof define&&define.amd)define("gdbots/pbj/type/time-uuid-type",["exports","gdbots/common/util/system-utils","gdbots/identifiers/time-uuid-identifier","gdbots/pbj/type/type"],factory);else if("undefined"!=typeof exports)factory(exports,require("gdbots/common/util/system-utils"),require("gdbots/identifiers/time-uuid-identifier"),require("gdbots/pbj/type/type"));else{var mod={exports:{}};factory(mod.exports,global.systemUtils,global.timeUuidIdentifier,global.type),global.gdbotsPbjTypeTimeUuidType=mod.exports}}(this,function(exports,_systemUtils,_timeUuidIdentifier,_type){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0});var _systemUtils2=_interopRequireDefault(_systemUtils),_timeUuidIdentifier2=_interopRequireDefault(_timeUuidIdentifier),_type2=_interopRequireDefault(_type),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol?"symbol":typeof obj},_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),TimeUuidType=function(_SystemUtils$mixinCla){function TimeUuidType(){return _classCallCheck(this,TimeUuidType),_possibleConstructorReturn(this,Object.getPrototypeOf(TimeUuidType).apply(this,arguments))}return _inherits(TimeUuidType,_SystemUtils$mixinCla),_createClass(TimeUuidType,[{key:"guard",value:function(value,field){if(!value.hasTrait("TimeUuidIdentifier")&&"TimeUuidIdentifier"!==_systemUtils2["default"].getClass(value))throw new Error('Class "'+value.name+'" was expected to be instanceof of "TimeUuidIdentifier" but is not.');if(field.hasInstance()&&field.getInstance().name!==_systemUtils2["default"].getClass(value)&&!value.hasTrait(field.getInstance().name))throw new Error('Class "'+value.name+'" was expected to be instanceof of "'+field.getInstance().name+'" but is not.')}},{key:"encode",value:function(value,field){return value.hasTrait("TimeUuidIdentifier")||"TimeUuidIdentifier"===_systemUtils2["default"].getClass(value)?value.toString():null}},{key:"decode",value:function(value,field){if(!value||0===value.length)return null;var instance=field.getInstance()||_timeUuidIdentifier2["default"];return"object"!==("undefined"==typeof value?"undefined":_typeof(value))||!value.hasTrait(instance.name)&&instance.name!==_systemUtils2["default"].getClass(value)?instance.fromString(value):value}},{key:"isScalar",value:function(){return!1}},{key:"getDefault",value:function(){return _timeUuidIdentifier2["default"].generate()}},{key:"isString",value:function(){return!0}}]),TimeUuidType}(_systemUtils2["default"].mixinClass(_type2["default"]));exports["default"]=TimeUuidType}),function(global,factory){if("function"==typeof define&&define.amd)define("gdbots/pbj/type/timestamp-type",["exports","gdbots/common/util/date-utils","gdbots/common/util/system-utils","gdbots/pbj/type/type"],factory);else if("undefined"!=typeof exports)factory(exports,require("gdbots/common/util/date-utils"),require("gdbots/common/util/system-utils"),require("gdbots/pbj/type/type"));else{var mod={exports:{}};factory(mod.exports,global.dateUtils,global.systemUtils,global.type),global.gdbotsPbjTypeTimestampType=mod.exports}}(this,function(exports,_dateUtils,_systemUtils,_type){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0});var _dateUtils2=_interopRequireDefault(_dateUtils),_systemUtils2=_interopRequireDefault(_systemUtils),_type2=_interopRequireDefault(_type),_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),TimestampType=function(_SystemUtils$mixinCla){function TimestampType(){return _classCallCheck(this,TimestampType),_possibleConstructorReturn(this,Object.getPrototypeOf(TimestampType).apply(this,arguments))}return _inherits(TimestampType,_SystemUtils$mixinCla),_createClass(TimestampType,[{key:"guard",value:function(value,field){if("number"!=typeof value)throw new Error("Value must be a number.");if(!_dateUtils2["default"].isValidTimestamp(value))throw new Error("Field ["+field.getName()+"] value ["+value+"] is not a valid unix timestamp.")}},{key:"encode",value:function(value,field){return parseInt(value)}},{key:"decode",value:function(value,field){return parseInt(value)}},{key:"getDefault",value:function(){return(new Date).getTime()}},{key:"isNumeric",value:function(){return!0}}]),TimestampType}(_systemUtils2["default"].mixinClass(_type2["default"]));exports["default"]=TimestampType}),function(global,factory){if("function"==typeof define&&define.amd)define("gdbots/pbj/type/tiny-int-type",["exports","gdbots/common/util/system-utils","gdbots/pbj/type/abstract-int-type"],factory);else if("undefined"!=typeof exports)factory(exports,require("gdbots/common/util/system-utils"),require("gdbots/pbj/type/abstract-int-type"));else{var mod={exports:{}};factory(mod.exports,global.systemUtils,global.abstractIntType),global.gdbotsPbjTypeTinyIntType=mod.exports}}(this,function(exports,_systemUtils,_abstractIntType){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0});var _systemUtils2=_interopRequireDefault(_systemUtils),_abstractIntType2=_interopRequireDefault(_abstractIntType),_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),TinyIntType=function(_SystemUtils$mixinCla){function TinyIntType(){return _classCallCheck(this,TinyIntType),_possibleConstructorReturn(this,Object.getPrototypeOf(TinyIntType).apply(this,arguments))}return _inherits(TinyIntType,_SystemUtils$mixinCla),_createClass(TinyIntType,[{key:"getMin",value:function(){return 0}},{key:"getMax",value:function(){return 255}}]),TinyIntType}(_systemUtils2["default"].mixinClass(_abstractIntType2["default"]));exports["default"]=TinyIntType}),function(global,factory){if("function"==typeof define&&define.amd)define("gdbots/pbj/type/type",["exports","gdbots/common/util/string-utils","gdbots/pbj/enum/type-name"],factory);else if("undefined"!=typeof exports)factory(exports,require("gdbots/common/util/string-utils"),require("gdbots/pbj/enum/type-name"));else{var mod={exports:{}};factory(mod.exports,global.stringUtils,global.typeName),global.gdbotsPbjTypeType=mod.exports}}(this,function(exports,_stringUtils,_typeName){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _stringUtils2=_interopRequireDefault(_stringUtils),_typeName2=_interopRequireDefault(_typeName),_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_instances={},privateProps=new WeakMap,Type=function(){function Type(typeName){_classCallCheck(this,Type),privateProps.set(this,{typeName:typeName})}return _createClass(Type,[{key:"getTypeName",value:function(){return privateProps.get(this).typeName}},{key:"getTypeValue",value:function(){return privateProps.get(this).typeName.value}},{key:"guard",value:function(value,field){}},{key:"encode",value:function(value,field){}},{key:"decode",value:function(value,field){}},{key:"isScalar",value:function(){return!0}},{key:"encodesToScalar",value:function(){return!0}},{key:"getDefault",value:function(){return null}},{key:"isBoolean",value:function(){return!1}},{key:"isBinary",value:function(){return!1}},{key:"isNumeric",value:function(){return!1}},{key:"isString",value:function(){return!1}},{key:"isMessage",value:function(){return!1}},{key:"getMin",value:function(){return-2147483648}},{key:"getMax",value:function(){return 2147483647}},{key:"getMaxBytes",value:function(){return 65535}},{key:"allowedInSet",value:function(){return!0}}],[{key:"create",value:function(){var type=this.name;return void 0===_instances[type]&&(_instances[type]=new this(_typeName2["default"][_stringUtils2["default"].toSnakeCase(type.replace("Type","")).toUpperCase()])),_instances[type]}}]),Type}();exports["default"]=Type}),function(global,factory){if("function"==typeof define&&define.amd)define("gdbots/pbj/type/uuid-type",["exports","gdbots/common/util/system-utils","gdbots/identifiers/uuid-identifier","gdbots/pbj/type/type"],factory);else if("undefined"!=typeof exports)factory(exports,require("gdbots/common/util/system-utils"),require("gdbots/identifiers/uuid-identifier"),require("gdbots/pbj/type/type"));else{var mod={exports:{}};factory(mod.exports,global.systemUtils,global.uuidIdentifier,global.type),global.gdbotsPbjTypeUuidType=mod.exports}}(this,function(exports,_systemUtils,_uuidIdentifier,_type){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0});var _systemUtils2=_interopRequireDefault(_systemUtils),_uuidIdentifier2=_interopRequireDefault(_uuidIdentifier),_type2=_interopRequireDefault(_type),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol?"symbol":typeof obj},_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),UuidType=function(_SystemUtils$mixinCla){function UuidType(){return _classCallCheck(this,UuidType),_possibleConstructorReturn(this,Object.getPrototypeOf(UuidType).apply(this,arguments))}return _inherits(UuidType,_SystemUtils$mixinCla),_createClass(UuidType,[{key:"guard",value:function(value,field){if(!value.hasTrait("UuidIdentifier")&&"UuidIdentifier"!==_systemUtils2["default"].getClass(value))throw new Error('Class "'+value.name+'" was expected to be instanceof of "UuidIdentifier" but is not.');if(field.hasInstance()&&field.getInstance().name!==_systemUtils2["default"].getClass(value)&&!value.hasTrait(field.getInstance().name))throw new Error('Class "'+value.name+'" was expected to be instanceof of "'+field.getInstance().name+'" but is not.')}},{key:"encode",value:function(value,field){return value.hasTrait("UuidIdentifier")||"UuidIdentifier"===_systemUtils2["default"].getClass(value)?value.toString():null}},{key:"decode",value:function(value,field){if(!value||0===value.length)return null;var instance=field.getInstance()||_uuidIdentifier2["default"];return"object"!==("undefined"==typeof value?"undefined":_typeof(value))||!value.hasTrait(instance.name)&&instance.name!==_systemUtils2["default"].getClass(value)?instance.fromString(value):value}},{key:"isScalar",value:function(){return!1}},{key:"getDefault",value:function(){return _uuidIdentifier2["default"].generate()}},{key:"isString",value:function(){return!0}}]),UuidType}(_systemUtils2["default"].mixinClass(_type2["default"]));exports["default"]=UuidType});