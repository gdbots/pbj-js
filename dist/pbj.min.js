/*! @gdbots/pbj v0.1.0, 2016-06-16 15:42:54 PDT */
define("gdbots/pbj/enum/field-rule",["exports","gdbots/common/enum"],function(exports,_enum){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0});var _enum2=_interopRequireDefault(_enum),FieldRule=function(_Enum){function FieldRule(){return _classCallCheck(this,FieldRule),_possibleConstructorReturn(this,Object.getPrototypeOf(FieldRule).apply(this,arguments))}return _inherits(FieldRule,_Enum),FieldRule}(_enum2["default"]);exports["default"]=FieldRule,FieldRule.initEnum({A_SINGLE_VALUE:1,A_SET:2,A_LIST:3,A_MAP:4})}),define("gdbots/pbj/enum/format",["exports","gdbots/common/enum"],function(exports,_enum){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0});var _enum2=_interopRequireDefault(_enum),Format=function(_Enum){function Format(){return _classCallCheck(this,Format),_possibleConstructorReturn(this,Object.getPrototypeOf(Format).apply(this,arguments))}return _inherits(Format,_Enum),Format}(_enum2["default"]);exports["default"]=Format,Format.initEnum({UNKNOWN:"unknown",DATE:"date",DATE_TIME:"date-time",EMAIL:"email",HASHTAG:"hashtag",HOSTNAME:"hostname",IPV4:"ipv4",IPV6:"ipv6",SLUG:"slug",URI:"uri",URL:"url",UUID:"uuid"})}),define("gdbots/pbj/enum/type-name",["exports","gdbots/common/enum"],function(exports,_enum){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0});var _enum2=_interopRequireDefault(_enum),TypeName=function(_Enum){function TypeName(){return _classCallCheck(this,TypeName),_possibleConstructorReturn(this,Object.getPrototypeOf(TypeName).apply(this,arguments))}return _inherits(TypeName,_Enum),TypeName}(_enum2["default"]);exports["default"]=TypeName,TypeName.initEnum({BIG_INT:"big-int",BINARY:"binary",BLOB:"blob",BOOLEAN:"boolean",DATE:"date",DATE_TIME:"date-time",DECIMAL:"decimal",FLOAT:"float",GEO_POINT:"geo-point",IDENTIFIER:"identifier",INT:"int",INT_ENUM:"int-enum",MEDIUM_BLOB:"medium-blob",MEDIUM_INT:"medium-int",MEDIUM_TEXT:"medium-text",MESSAGE:"message",MESSAGE_REF:"message-ref",MICROTIME:"microtime",SIGNED_BIG_INT:"signed-big-int",SIGNED_INT:"signed-int",SIGNED_MEDIUM_INT:"signed-medium-int",SIGNED_SMALL_INT:"signed-small-int",SIGNED_TINY_INT:"signed-tiny-int",SMALL_INT:"small-int",STRING:"string",STRING_ENUM:"string-enum",TEXT:"text",TIME_UUID:"time-uuid",TIMESTAMP:"timestamp",TINY_INT:"tiny-int",UUID:"uuid"})}),define("gdbots/pbj/exception/decode-value-failed",["exports","gdbots/pbj/exception/gdbots-pbj-exception"],function(exports,_gdbotsPbjException){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0});var _gdbotsPbjException2=_interopRequireDefault(_gdbotsPbjException),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol?"symbol":typeof obj},_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),DecodeValueFailed=function(_GdbotsPbjException){function DecodeValueFailed(value,field,message){_classCallCheck(this,DecodeValueFailed);var str=""+value;"object"===("undefined"==typeof value?"undefined":_typeof(value))&&(str=value.toString());var _this=_possibleConstructorReturn(this,Object.getPrototypeOf(DecodeValueFailed).call(this,"Failed to decode ["+str+"] for field ["+field.getName()+"] to a ["+field.getType().getTypeValue()+"]. Detail: "+message+"."));return _this.value=value,_this.field=field,_this}return _inherits(DecodeValueFailed,_GdbotsPbjException),_createClass(DecodeValueFailed,[{key:"getValue",value:function(){return this.value}},{key:"getField",value:function(){return this.field}},{key:"getFieldName",value:function(){return this.field.getName()}}]),DecodeValueFailed}(_gdbotsPbjException2["default"]);exports["default"]=DecodeValueFailed}),define("gdbots/pbj/exception/deserialize-message-failed",["exports","gdbots/pbj/exception/gdbots-pbj-exception"],function(exports,_gdbotsPbjException){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0});var _gdbotsPbjException2=_interopRequireDefault(_gdbotsPbjException),DeserializeMessageFailed=function(_GdbotsPbjException){function DeserializeMessageFailed(){return _classCallCheck(this,DeserializeMessageFailed),_possibleConstructorReturn(this,Object.getPrototypeOf(DeserializeMessageFailed).apply(this,arguments))}return _inherits(DeserializeMessageFailed,_GdbotsPbjException),DeserializeMessageFailed}(_gdbotsPbjException2["default"]);exports["default"]=DeserializeMessageFailed}),define("gdbots/pbj/exception/encode-value-failed",["exports","gdbots/pbj/exception/gdbots-pbj-exception"],function(exports,_gdbotsPbjException){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0});var _gdbotsPbjException2=_interopRequireDefault(_gdbotsPbjException),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol?"symbol":typeof obj},_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),EncodeValueFailed=function(_GdbotsPbjException){function EncodeValueFailed(value,field,message){_classCallCheck(this,EncodeValueFailed);var str=""+value;"object"===("undefined"==typeof value?"undefined":_typeof(value))&&(str=value.toString());var _this=_possibleConstructorReturn(this,Object.getPrototypeOf(EncodeValueFailed).call(this,"Failed to encode ["+str+"] for field ["+field.getName()+"] to a ["+field.getType().getTypeValue()+"]. Detail: "+message+"."));return _this.value=value,_this.field=field,_this}return _inherits(EncodeValueFailed,_GdbotsPbjException),_createClass(EncodeValueFailed,[{key:"getValue",value:function(){return this.value}},{key:"getField",value:function(){return this.field}},{key:"getFieldName",value:function(){return this.field.getName()}}]),EncodeValueFailed}(_gdbotsPbjException2["default"]);exports["default"]=EncodeValueFailed}),define("gdbots/pbj/exception/field-already-defined",["exports","gdbots/pbj/exception/gdbots-pbj-exception"],function(exports,_gdbotsPbjException){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0});var _gdbotsPbjException2=_interopRequireDefault(_gdbotsPbjException),_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),FieldAlreadyDefined=function(_GdbotsPbjException){function FieldAlreadyDefined(schema,fieldName){_classCallCheck(this,FieldAlreadyDefined);var field=schema.getField(fieldName),_this=_possibleConstructorReturn(this,Object.getPrototypeOf(FieldAlreadyDefined).call(this,"Field ["+field.getName()+"] is already defined on message ["+schema.getClassName()+"] and is not overridable."));return _this.schema=schema,_this.field=field,_this}return _inherits(FieldAlreadyDefined,_GdbotsPbjException),_createClass(FieldAlreadyDefined,[{key:"getField",value:function(){return this.field}},{key:"getFieldName",value:function(){return this.field.getName()}}]),FieldAlreadyDefined}(_gdbotsPbjException2["default"]);exports["default"]=FieldAlreadyDefined}),define("gdbots/pbj/exception/field-not-defined",["exports","gdbots/pbj/exception/gdbots-pbj-exception"],function(exports,_gdbotsPbjException){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0});var _gdbotsPbjException2=_interopRequireDefault(_gdbotsPbjException),_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),FieldNotDefined=function(_GdbotsPbjException){function FieldNotDefined(schema,fieldName){_classCallCheck(this,FieldNotDefined);var _this=_possibleConstructorReturn(this,Object.getPrototypeOf(FieldNotDefined).call(this,"Field ["+fieldName+"] is not defined on message ["+schema.getClassName()+"]."));return _this.schema=schema,_this.fieldName=fieldName,_this}return _inherits(FieldNotDefined,_GdbotsPbjException),_createClass(FieldNotDefined,[{key:"getFieldName",value:function(){return this.fieldName}}]),FieldNotDefined}(_gdbotsPbjException2["default"]);exports["default"]=FieldNotDefined}),define("gdbots/pbj/exception/field-override-not-compatible",["exports","gdbots/pbj/exception/gdbots-pbj-exception"],function(exports,_gdbotsPbjException){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0});var _gdbotsPbjException2=_interopRequireDefault(_gdbotsPbjException),_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),FieldOverrideNotCompatible=function(_GdbotsPbjException){function FieldOverrideNotCompatible(schema,fieldName,overrideField){_classCallCheck(this,FieldOverrideNotCompatible);var existingField=schema.getField(fieldName),_this=_possibleConstructorReturn(this,Object.getPrototypeOf(FieldOverrideNotCompatible).call(this,"Field ["+existingField.getName()+"] override for ["+schema.getClassName()+"] is not compatible. Name, Type, Rule and Required must match."));return _this.schema=schema,_this.existingField=existingField,_this.overrideField=overrideField,_this}return _inherits(FieldOverrideNotCompatible,_GdbotsPbjException),_createClass(FieldOverrideNotCompatible,[{key:"getExistingField",value:function(){return this.existingField}},{key:"getFieldName",value:function(){return this.existingField.getName()}},{key:"getOverrideField",value:function(){return this.overrideField}}]),FieldOverrideNotCompatible}(_gdbotsPbjException2["default"]);exports["default"]=FieldOverrideNotCompatible}),define("gdbots/pbj/exception/frozen-message-is-immutable",["exports","gdbots/pbj/exception/gdbots-pbj-exception"],function(exports,_gdbotsPbjException){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0});var _gdbotsPbjException2=_interopRequireDefault(_gdbotsPbjException),_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),FrozenMessageIsImmutable=function(_GdbotsPbjException){function FrozenMessageIsImmutable(type){_classCallCheck(this,FrozenMessageIsImmutable);var _this=_possibleConstructorReturn(this,Object.getPrototypeOf(FrozenMessageIsImmutable).call(this,"Message is frozen and cannot be modified."));return _this.type=type,_this}return _inherits(FrozenMessageIsImmutable,_GdbotsPbjException),_createClass(FrozenMessageIsImmutable,[{key:"getType",value:function(){return this.type}}]),FrozenMessageIsImmutable}(_gdbotsPbjException2["default"]);exports["default"]=FrozenMessageIsImmutable}),define("gdbots/pbj/exception/gdbots-pbj-exception",["exports"],function(exports){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0});var GdbotsPbjException=function(_Error){function GdbotsPbjException(){return _classCallCheck(this,GdbotsPbjException),_possibleConstructorReturn(this,Object.getPrototypeOf(GdbotsPbjException).apply(this,arguments))}return _inherits(GdbotsPbjException,_Error),GdbotsPbjException}(Error);exports["default"]=GdbotsPbjException}),define("gdbots/pbj/exception/invalid-resolved-schema",["exports","gdbots/pbj/exception/gdbots-pbj-exception"],function(exports,_gdbotsPbjException){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0});var _gdbotsPbjException2=_interopRequireDefault(_gdbotsPbjException),_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),InvalidResolvedSchema=function(_GdbotsPbjException){function InvalidResolvedSchema(schema,resolvedSchemaId,resolvedClassName){_classCallCheck(this,InvalidResolvedSchema);var _this=_possibleConstructorReturn(this,Object.getPrototypeOf(InvalidResolvedSchema).call(this,"Schema id ["+resolvedSchemaId.toString()+"] with curie ["+resolvedSchemaId.getCurieMajor()+"] was resolved to ["+resolvedClassName+"] but that message has a curie of ["+schema.getId().getCurieMajor()+"]. They must match."));return _this.schema=schema,_this.resolvedSchemaId=resolvedSchemaId,_this.resolvedClassName=resolvedClassName,_this}return _inherits(InvalidResolvedSchema,_GdbotsPbjException),_createClass(InvalidResolvedSchema,[{key:"getResolvedSchemaId",value:function(){return this.resolvedSchemaId}},{key:"getResolvedClassName",value:function(){return this.resolvedClassName}}]),InvalidResolvedSchema}(_gdbotsPbjException2["default"]);exports["default"]=InvalidResolvedSchema}),define("gdbots/pbj/exception/invalid-schema-curie",["exports","gdbots/pbj/exception/gdbots-pbj-exception"],function(exports,_gdbotsPbjException){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0});var _gdbotsPbjException2=_interopRequireDefault(_gdbotsPbjException),InvalidSchemaCurie=function(_GdbotsPbjException){function InvalidSchemaCurie(){return _classCallCheck(this,InvalidSchemaCurie),_possibleConstructorReturn(this,Object.getPrototypeOf(InvalidSchemaCurie).apply(this,arguments))}return _inherits(InvalidSchemaCurie,_GdbotsPbjException),InvalidSchemaCurie}(_gdbotsPbjException2["default"]);exports["default"]=InvalidSchemaCurie}),define("gdbots/pbj/exception/invalid-schema-id",["exports","gdbots/pbj/exception/gdbots-pbj-exception"],function(exports,_gdbotsPbjException){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0});var _gdbotsPbjException2=_interopRequireDefault(_gdbotsPbjException),InvalidSchemaId=function(_GdbotsPbjException){function InvalidSchemaId(){return _classCallCheck(this,InvalidSchemaId),_possibleConstructorReturn(this,Object.getPrototypeOf(InvalidSchemaId).apply(this,arguments))}return _inherits(InvalidSchemaId,_GdbotsPbjException),InvalidSchemaId}(_gdbotsPbjException2["default"]);exports["default"]=InvalidSchemaId}),define("gdbots/pbj/exception/invalid-schema-version",["exports","gdbots/pbj/exception/gdbots-pbj-exception"],function(exports,_gdbotsPbjException){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0});var _gdbotsPbjException2=_interopRequireDefault(_gdbotsPbjException),InvalidSchemaVersion=function(_GdbotsPbjException){function InvalidSchemaVersion(){return _classCallCheck(this,InvalidSchemaVersion),_possibleConstructorReturn(this,Object.getPrototypeOf(InvalidSchemaVersion).apply(this,arguments))}return _inherits(InvalidSchemaVersion,_GdbotsPbjException),InvalidSchemaVersion}(_gdbotsPbjException2["default"]);exports["default"]=InvalidSchemaVersion}),define("gdbots/pbj/exception/logic-exception",["exports","gdbots/pbj/exception/gdbots-pbj-exception"],function(exports,_gdbotsPbjException){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0});var _gdbotsPbjException2=_interopRequireDefault(_gdbotsPbjException),LogicException=function(_GdbotsPbjException){function LogicException(){return _classCallCheck(this,LogicException),_possibleConstructorReturn(this,Object.getPrototypeOf(LogicException).apply(this,arguments))}return _inherits(LogicException,_GdbotsPbjException),LogicException}(_gdbotsPbjException2["default"]);exports["default"]=LogicException}),define("gdbots/pbj/exception/mixin-already-added",["exports","gdbots/pbj/exception/gdbots-pbj-exception"],function(exports,_gdbotsPbjException){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call;
}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0});var _gdbotsPbjException2=_interopRequireDefault(_gdbotsPbjException),_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),MixinAlreadyAdded=function(_GdbotsPbjException){function MixinAlreadyAdded(schema,originalMixin,duplicateMixin){_classCallCheck(this,MixinAlreadyAdded);var _this=_possibleConstructorReturn(this,Object.getPrototypeOf(MixinAlreadyAdded).call(this,"Mixin with id ["+duplicateMixin.getId().toString()+"] was already added from ["+originalMixin.getId().toString()+"] to message ["+schema.getClassName()+"]. You cannot add multiple versions of the same mixin."));return _this.schema=schema,_this.originalMixin=originalMixin,_this.duplicateMixin=duplicateMixin,_this}return _inherits(MixinAlreadyAdded,_GdbotsPbjException),_createClass(MixinAlreadyAdded,[{key:"getOriginalMixin",value:function(){return this.originalMixin}},{key:"getDuplicateMixin",value:function(){return this.duplicateMixin}}]),MixinAlreadyAdded}(_gdbotsPbjException2["default"]);exports["default"]=MixinAlreadyAdded}),define("gdbots/pbj/exception/mixin-not-defined",["exports","gdbots/pbj/exception/gdbots-pbj-exception"],function(exports,_gdbotsPbjException){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0});var _gdbotsPbjException2=_interopRequireDefault(_gdbotsPbjException),_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),MixinNotDefined=function(_GdbotsPbjException){function MixinNotDefined(schema,mixinId){_classCallCheck(this,MixinNotDefined);var _this=_possibleConstructorReturn(this,Object.getPrototypeOf(MixinNotDefined).call(this,"Mixin ["+mixinId+"] is not defined on message ["+schema.getClassName()+"]."));return _this.schema=schema,_this.mixinId=mixinId,_this}return _inherits(MixinNotDefined,_GdbotsPbjException),_createClass(MixinNotDefined,[{key:"getMixinId",value:function(){return this.mixinId}}]),MixinNotDefined}(_gdbotsPbjException2["default"]);exports["default"]=MixinNotDefined}),define("gdbots/pbj/exception/more-than-one-message-for-mixin",["exports","gdbots/pbj/exception/gdbots-pbj-exception"],function(exports,_gdbotsPbjException){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0});var _gdbotsPbjException2=_interopRequireDefault(_gdbotsPbjException),_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),MoreThanOneMessageForMixin=function(_GdbotsPbjException){function MoreThanOneMessageForMixin(mixin,schemas){_classCallCheck(this,MoreThanOneMessageForMixin);var ids=schemas.map(function(schema){return schema.getId().toString()+" => "+schema.getClassName()}),_this=_possibleConstructorReturn(this,Object.getPrototypeOf(MoreThanOneMessageForMixin).call(this,"MessageResolver returned multiple messages using ["+mixin.getId().getCurieMajor()+"] when one was expected. Messages found: \n"+ids.join("\n")));return _this.mixin=mixin,_this.schemas=schemas,_this}return _inherits(MoreThanOneMessageForMixin,_GdbotsPbjException),_createClass(MoreThanOneMessageForMixin,[{key:"getMixin",value:function(){return this.mixin}},{key:"getSchemas",value:function(){return this.schemas}}]),MoreThanOneMessageForMixin}(_gdbotsPbjException2["default"]);exports["default"]=MoreThanOneMessageForMixin}),define("gdbots/pbj/exception/no-message-for-curie",["exports","gdbots/pbj/exception/gdbots-pbj-exception"],function(exports,_gdbotsPbjException){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0});var _gdbotsPbjException2=_interopRequireDefault(_gdbotsPbjException),_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),NoMessageForCurie=function(_GdbotsPbjException){function NoMessageForCurie(curie){_classCallCheck(this,NoMessageForCurie);var _this=_possibleConstructorReturn(this,Object.getPrototypeOf(NoMessageForCurie).call(this,"MessageResolver is unable to resolve ["+curie.toString()+"] to a class name."));return _this.curie=curie,_this}return _inherits(NoMessageForCurie,_GdbotsPbjException),_createClass(NoMessageForCurie,[{key:"getCurie",value:function(){return this.curie}}]),NoMessageForCurie}(_gdbotsPbjException2["default"]);exports["default"]=NoMessageForCurie}),define("gdbots/pbj/exception/no-message-for-mixin",["exports","gdbots/pbj/exception/gdbots-pbj-exception"],function(exports,_gdbotsPbjException){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0});var _gdbotsPbjException2=_interopRequireDefault(_gdbotsPbjException),_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),NoMessageForMixin=function(_GdbotsPbjException){function NoMessageForMixin(mixin){_classCallCheck(this,NoMessageForMixin);var _this=_possibleConstructorReturn(this,Object.getPrototypeOf(NoMessageForMixin).call(this,"MessageResolver is unable to find any messages using ["+mixin.getId().getCurieMajor()+"]."));return _this.mixin=mixin,_this}return _inherits(NoMessageForMixin,_GdbotsPbjException),_createClass(NoMessageForMixin,[{key:"getMixin",value:function(){return this.mixin}}]),NoMessageForMixin}(_gdbotsPbjException2["default"]);exports["default"]=NoMessageForMixin}),define("gdbots/pbj/exception/no-message-for-schema-id",["exports","gdbots/pbj/exception/gdbots-pbj-exception"],function(exports,_gdbotsPbjException){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0});var _gdbotsPbjException2=_interopRequireDefault(_gdbotsPbjException),_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),NoMessageForSchemaId=function(_GdbotsPbjException){function NoMessageForSchemaId(schemaId){_classCallCheck(this,NoMessageForSchemaId);var _this=_possibleConstructorReturn(this,Object.getPrototypeOf(NoMessageForSchemaId).call(this,"MessageResolver is unable to resolve schema id ["+schemaId.toString()+"] using curie ["+schemaId.getCurieMajor()+"] to a class name."));return _this.schemaId=schemaId,_this}return _inherits(NoMessageForSchemaId,_GdbotsPbjException),_createClass(NoMessageForSchemaId,[{key:"getSchemaId",value:function(){return this.schemaId}}]),NoMessageForSchemaId}(_gdbotsPbjException2["default"]);exports["default"]=NoMessageForSchemaId}),define("gdbots/pbj/exception/required-field-not-set",["exports","gdbots/pbj/exception/gdbots-pbj-exception"],function(exports,_gdbotsPbjException){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0});var _gdbotsPbjException2=_interopRequireDefault(_gdbotsPbjException),_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),RequiredFieldNotSet=function(_GdbotsPbjException){function RequiredFieldNotSet(type,field){_classCallCheck(this,RequiredFieldNotSet);var _this=_possibleConstructorReturn(this,Object.getPrototypeOf(RequiredFieldNotSet).call(this,"Required field ["+field.getName()+"] must be set on message ["+type.constructor.schema().getClassName()+"]."));return _this.type=type,_this.schema=type.constructor.schema(),_this.field=field,_this}return _inherits(RequiredFieldNotSet,_GdbotsPbjException),_createClass(RequiredFieldNotSet,[{key:"getType",value:function(){return this.type}},{key:"getField",value:function(){return this.field}},{key:"getFieldName",value:function(){return this.field.getName()}}]),RequiredFieldNotSet}(_gdbotsPbjException2["default"]);exports["default"]=RequiredFieldNotSet}),define("gdbots/pbj/exception/schema-not-defined",["exports","gdbots/pbj/exception/gdbots-pbj-exception"],function(exports,_gdbotsPbjException){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0});var _gdbotsPbjException2=_interopRequireDefault(_gdbotsPbjException),SchemaNotDefined=function(_GdbotsPbjException){function SchemaNotDefined(){return _classCallCheck(this,SchemaNotDefined),_possibleConstructorReturn(this,Object.getPrototypeOf(SchemaNotDefined).apply(this,arguments))}return _inherits(SchemaNotDefined,_GdbotsPbjException),SchemaNotDefined}(_gdbotsPbjException2["default"]);exports["default"]=SchemaNotDefined}),define("gdbots/pbj/field-builder",["exports","gdbots/pbj/enum/field-rule","gdbots/pbj/field"],function(exports,_fieldRule,_field){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _fieldRule2=_interopRequireDefault(_fieldRule),_field2=_interopRequireDefault(_field),_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),FieldBuilder=function(){function FieldBuilder(name,type){_classCallCheck(this,FieldBuilder),this.name=name,this.type=type,this.rule=null,this.required=!1,this.minLength=null,this.maxLength=null,this.pattern=null,this.format=null,this.min=null,this.max=null,this.precision=10,this.scale=2,this.defaultValue=null,this.useTypeDefault=!0,this.className=null,this.anyOfClassNames=null,this.assertion=null,this.overridable=!1}return _createClass(FieldBuilder,[{key:"isRequired",value:function(){return this.required=!0,this}},{key:"isOptional",value:function(){return this.required=!1,this}},{key:"asASingleValue",value:function(){return this.rule=_fieldRule2["default"].A_SINGLE_VALUE,this}},{key:"asASet",value:function(){return this.rule=_fieldRule2["default"].A_SET,this}},{key:"asAList",value:function(){return this.rule=_fieldRule2["default"].A_LIST,this}},{key:"asAMap",value:function(){return this.rule=_fieldRule2["default"].A_MAP,this}},{key:"setMinLength",value:function(minLength){return this.minLength=parseInt(minLength),this}},{key:"setMaxLength",value:function(maxLength){return this.maxLength=parseInt(maxLength),this}},{key:"setPattern",value:function(pattern){return this.pattern=pattern,this}},{key:"setFormat",value:function(format){return this.format=format,this}},{key:"setMin",value:function(min){return this.min=parseInt(min),this}},{key:"setMax",value:function(max){return this.max=parseInt(max),this}},{key:"setPrecision",value:function(precision){return this.precision=parseInt(precision),this}},{key:"setScale",value:function(scale){return this.scale=parseInt(scale),this}},{key:"setDefaultValue",value:function(defaultValue){return this.defaultValue=defaultValue,this}},{key:"setUseTypeDefault",value:function(useTypeDefault){return this.useTypeDefault=Boolean(useTypeDefault),this}},{key:"setClassName",value:function(className){return this.className=className,this.anyOfClassNames=null,this}},{key:"setAnyOfClassNames",value:function(anyOfClassNames){return this.anyOfClassNames=anyOfClassNames,this.className=null,this}},{key:"setAssertion",value:function(assertion){return this.assertion=assertion,this}},{key:"setOverridable",value:function(overridable){return this.overridable=Boolean(overridable),this}},{key:"build",value:function(){return null===this.rule&&(this.rule=_fieldRule2["default"].A_SINGLE_VALUE),new _field2["default"](this.name,this.type,this.rule,this.required,this.minLength,this.maxLength,this.pattern,this.format,this.min,this.max,this.precision,this.scale,this.defaultValue,this.useTypeDefault,this.className,this.anyOfClassNames,this.assertion,this.overridable)}}],[{key:"create",value:function(name,type){return new this(name,type)}}]),FieldBuilder}();exports["default"]=FieldBuilder}),define("gdbots/pbj/field",["exports","gdbots/common/to-array","gdbots/common/util/array-utils","gdbots/common/util/number-utils","gdbots/common/enum","gdbots/identifiers/identifier","gdbots/pbj/enum/type-name","gdbots/pbj/enum/field-rule","gdbots/pbj/enum/format","gdbots/pbj/type/type"],function(exports,_toArray,_arrayUtils,_numberUtils,_enum,_identifier,_typeName,_fieldRule,_format,_type){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}function applyFieldRule(){var rule=arguments.length<=0||void 0===arguments[0]?null:arguments[0];if(this.rule=rule||_fieldRule2["default"].A_SINGLE_VALUE,this.isASet()&&!this.type.allowedInSet())throw new Error("Field ["+this.name+"] with type ["+this.type.getTypeValue()+"] cannot be used in a set.")}function applyStringOptions(){var minLength=arguments.length<=0||void 0===arguments[0]?null:arguments[0],maxLength=arguments.length<=1||void 0===arguments[1]?null:arguments[1],pattern=arguments.length<=2||void 0===arguments[2]?null:arguments[2],format=arguments.length<=3||void 0===arguments[3]?null:arguments[3];this.minLength=parseInt(minLength),this.maxLength=parseInt(maxLength),maxLength>0?(this.maxLength=maxLength,this.minLength=_numberUtils2["default"].bound(minLength,0,this.maxLength)):this.minLength=_numberUtils2["default"].bound(minLength,0,this.type.getMaxBytes()),null!==pattern&&(this.pattern="/"+pattern.trim().replace("/","")+"/"),null!==format&&_format2["default"].enumValueOf(format)?this.format=_format2["default"].enumValueOf(format):this.format=_format2["default"].UNKNOWN}function applyNumericOptions(){var min=arguments.length<=0||void 0===arguments[0]?null:arguments[0],max=arguments.length<=1||void 0===arguments[1]?null:arguments[1],precision=arguments.length<=2||void 0===arguments[2]?10:arguments[2],scale=arguments.length<=3||void 0===arguments[3]?2:arguments[3];null!==max&&(this.max=parseInt(max)),null!==min&&(this.min=parseInt(min),null!==this.max&&this.min>this.max&&(this.min=this.max)),this.precision=_numberUtils2["default"].bound(parseInt(precision),1,65),this.scale=_numberUtils2["default"].bound(parseInt(scale),0,this.precision)}function applyDefault(){var defaultValue=arguments.length<=0||void 0===arguments[0]?null:arguments[0];if(this.defaultValue=defaultValue,this.type.isScalar())this.type.getTypeName()!==_typeName2["default"].TIMESTAMP&&(this.useTypeDefault=!0);else{var decodeDefault=null!==this.defaultValue&&"function"!=typeof this.defaultValue;switch(this.type.getTypeName()){case _typeName2["default"].IDENTIFIER:if(null===this.className)throw new Error("Field ["+this.className+"] requires a className.");!decodeDefault||this.defaultValue instanceof _identifier2["default"]||(this.defaultValue=this.type.decode(this.defaultValue,this));break;case _typeName2["default"].INT_ENUM:case _typeName2["default"].STRING_ENUM:if(null===this.className)throw new Error("Field ["+this.className+"] requires a className.");!decodeDefault||this.defaultValue instanceof _enum2["default"]||(this.defaultValue=this.type.decode(this.defaultValue,this))}}null!==this.defaultValue&&"function"!=typeof this.defaultValue&&guardDefault.bind(this)(this.defaultValue)}function guardDefault(defaultValue){if(this.isASingleValue())return void this.guardValue(defaultValue);if(null!==defaultValue||!Array.isArray(defaultValue))throw new Error("Field ["+this.name+"] default must be an array.");if(null!==defaultValue){if(this.isAMap()&&!_arrayUtils2["default"].isAssoc(defaultValue))throw new Error("Field ["+this.name+"] default must be an associative array.");_arrayUtils2["default"].each(defaultValue,function(value,key){if(null===value)throw new Error("Field ["+this.name+"] default for key ["+value+"] cannot be null.");this.guardValue(value)}.bind(this))}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.VALID_NAME_PATTERN=void 0;var _toArray2=_interopRequireDefault(_toArray),_arrayUtils2=_interopRequireDefault(_arrayUtils),_numberUtils2=_interopRequireDefault(_numberUtils),_enum2=_interopRequireDefault(_enum),_identifier2=_interopRequireDefault(_identifier),_typeName2=_interopRequireDefault(_typeName),_fieldRule2=_interopRequireDefault(_fieldRule),_format2=_interopRequireDefault(_format),_type2=_interopRequireDefault(_type),_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),VALID_NAME_PATTERN=exports.VALID_NAME_PATTERN=/^[a-zA-Z_]{1}[a-zA-Z0-9_]*/,Field=function(_ToArray){function Field(name,type){var rule=arguments.length<=2||void 0===arguments[2]?null:arguments[2],required=arguments.length<=3||void 0===arguments[3]?!1:arguments[3],minLength=arguments.length<=4||void 0===arguments[4]?null:arguments[4],maxLength=arguments.length<=5||void 0===arguments[5]?null:arguments[5],pattern=arguments.length<=6||void 0===arguments[6]?null:arguments[6],format=arguments.length<=7||void 0===arguments[7]?null:arguments[7],min=arguments.length<=8||void 0===arguments[8]?null:arguments[8],max=arguments.length<=9||void 0===arguments[9]?null:arguments[9],precision=arguments.length<=10||void 0===arguments[10]?10:arguments[10],scale=arguments.length<=11||void 0===arguments[11]?2:arguments[11],defaultValue=arguments.length<=12||void 0===arguments[12]?null:arguments[12],useTypeDefault=arguments.length<=13||void 0===arguments[13]?!0:arguments[13],className=arguments.length<=14||void 0===arguments[14]?null:arguments[14],anyOfClassNames=arguments.length<=15||void 0===arguments[15]?null:arguments[15],assertion=arguments.length<=16||void 0===arguments[16]?null:arguments[16],overridable=arguments.length<=17||void 0===arguments[17]?!1:arguments[17];_classCallCheck(this,Field);var _this=_possibleConstructorReturn(this,Object.getPrototypeOf(Field).call(this));if(1>name.length||name.length>127)throw new Error("Name length must be between 1 to 127.");if(!VALID_NAME_PATTERN.test(name))throw new Error("Field ["+name+"] must match pattern ["+VALID_NAME_PATTERN+"].");if(!(type&&type instanceof _type2["default"]))throw new Error('Class "'+type+'" was expected to be instanceof of "Type" but is not.');if("boolean"!=typeof required)throw new Error("Required value must be boolean.");if("boolean"!=typeof useTypeDefault)throw new Error("UseTypeDefault value must be boolean.");if("boolean"!=typeof overridable)throw new Error("Overridable value must be boolean.");return type.getTypeName()!==_typeName2["default"].MESSAGE&&(anyOfClassNames=null),_this.name=name,_this.type=type,_this.required=required||!1,_this.useTypeDefault=useTypeDefault,_this.className=className,_this.anyOfClassNames=anyOfClassNames,_this.assertion=assertion,_this.overridable=overridable||!1,applyFieldRule.bind(_this)(rule),applyStringOptions.bind(_this)(minLength,maxLength,pattern,format),applyNumericOptions.bind(_this)(min,max,precision,scale),applyDefault.bind(_this)(defaultValue),_this}return _inherits(Field,_ToArray),_createClass(Field,[{key:"getName",value:function(){return this.name}},{key:"getType",value:function(){return this.type}},{key:"getRule",value:function(){return this.rule}},{key:"isASingleValue",value:function(){return _fieldRule2["default"].A_SINGLE_VALUE===this.rule}},{key:"isASet",value:function(){return _fieldRule2["default"].A_SET===this.rule}},{key:"isAList",value:function(){return _fieldRule2["default"].A_LIST===this.rule}},{key:"isAMap",value:function(){return _fieldRule2["default"].A_MAP===this.rule}},{key:"isRequired",value:function(){return this.required}},{key:"getMinLength",value:function(){return this.minLength||0}},{key:"getMaxLength",value:function(){return this.maxLength?this.maxLength:this.type.getMaxBytes()}},{key:"getPattern",value:function(){return this.pattern}},{key:"getFormat",value:function(){return this.format}},{key:"getMin",value:function(){return this.min?this.min:this.type.getMin()}},{key:"getMax",value:function(){return this.max?this.max:this.type.getMax()}},{key:"getPrecision",value:function(){return this.precision}},{key:"getScale",value:function(){return this.scale}},{key:"getDefault",value:function(){var message=arguments.length<=0||void 0===arguments[0]?null:arguments[0];if(null===this.defaultValue)return this.useTypeDefault?this.isASingleValue()?this.type.getDefault():[]:this.isASingleValue()?null:[];if("function"==typeof this.defaultValue){var defaultValue=this.defaultValue(message,this);return guardDefault.bind(this)(defaultValue),null===defaultValue?this.useTypeDefault?this.isASingleValue()?this.type.getDefault():[]:this.isASingleValue()?null:[]:defaultValue}return this.defaultValue}},{key:"hasClassName",value:function(){return null!==this.className}},{key:"getClassName",value:function(){return this.className}},{key:"hasAnyOfClassNames",value:function(){return null!==this.anyOfClassNames}},{key:"getAnyOfClassNames",value:function(){return this.anyOfClassNames}},{key:"isOverridable",value:function(){return this.overridable}},{key:"guardValue",value:function(value){if(this.required&&null===value)throw new Error("Field ["+this.name+"] is required and cannot be null.");null!==value&&this.type.guard(value,this),null!==this.assertion&&this.assertion(value,this)}},{key:"toArray",value:function(){return{name:this.name,type:this.type.getTypeValue(),rule:this.rule.getName(),required:this.required,min_length:this.minLength,max_length:this.maxLength,pattern:this.pattern,format:this.format.getValue(),min:this.min,max:this.max,precision:this.precision,scale:this.scale,"default":this.getDefault(),use_type_default:this.useTypeDefault,class_name:this.className,any_of_class_names:this.anyOfClassNames,has_assertion:null!==this.assertion,overridable:this.overridable}}},{key:"jsonSerialize",value:function(){
return this.toArray()}},{key:"isCompatibleForMerge",value:function(other){return this.name!==other.name?!1:this.type!==other.type?!1:this.rule!==other.rule?!1:this.className!==other.className?!1:0===this.anyOfClassNames.filter(function(k){return-1!=other.anyOfClassNames.indexOf(k)}).length?!1:!0}},{key:"isCompatibleForOverride",value:function(other){return this.overridable?this.name!==other.name?!1:this.type!==other.type?!1:this.rule!==other.rule?!1:this.required!==other.required?!1:!0:!1}}]),Field}(_toArray2["default"]);exports["default"]=Field}),define("gdbots/pbj/message-ref",["exports","gdbots/common/util/system-utils","gdbots/common/from-array","gdbots/common/to-array","gdbots/pbj/schema-curie"],function(exports,_systemUtils,_fromArray,_toArray,_schemaCurie){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0});var _systemUtils2=_interopRequireDefault(_systemUtils),_fromArray2=_interopRequireDefault(_fromArray),_toArray2=_interopRequireDefault(_toArray),_schemaCurie2=_interopRequireDefault(_schemaCurie),_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),MessageRef=function(_SystemUtils$mixin){function MessageRef(curie,id){var tag=arguments.length<=2||void 0===arguments[2]?null:arguments[2];_classCallCheck(this,MessageRef);var _this=_possibleConstructorReturn(this,Object.getPrototypeOf(MessageRef).call(this));if(_this.curie=curie,_this.id=id||"null",!1===/^[\w\/\.:-]+/.test(_this.id))throw new Error("MessageRef.id");if(null!==tag&&(_this.tag=tag.toString().toLowerCase().replace(/\s+/g,"-").replace(/[^\w\-]+/g,"").replace(/\-\-+/g,"-").replace(/^-+/,"").replace(/-+$/,"")),_this.curie.isMixin())throw new Error("Mixins cannot be used in a MessageRef.");return _this}return _inherits(MessageRef,_SystemUtils$mixin),_createClass(MessageRef,[{key:"toArray",value:function(){return null!==this.tag?{curie:this.curie.toString(),id:this.id,tag:this.tag}:{curie:this.curie.toString(),id:this.id}}},{key:"toString",value:function(){return null!==this.tag?this.curie.toString()+":"+this.id+"#"+this.tag:this.curie.toString()+":"+this.id}},{key:"getCurie",value:function(){return this.curie}},{key:"hasId",value:function(){return"null"!=this.id}},{key:"getId",value:function(){return this.id}},{key:"hasTag",value:function(){return null!==this.tag}},{key:"getTag",value:function(){return this.tag}},{key:"equals",value:function(other){return this.toString()===other.toString()}}],[{key:"fromArray",value:function(){var data=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];if(data.curie)return id=data.id||"null",tag=data.tag||null,new this(_schemaCurie2["default"].fromString(data.curie),id,tag);throw new Error("Payload must be a MessageRef type.")}},{key:"fromString",value:function(string){var parts=string.split("#",2),ref=parts[0],tag=parts[1]||null;parts=ref.split(":",5);var id=parts.pop(),curie=_schemaCurie2["default"].fromString(parts.join(":"));return new this(curie,id,tag)}}]),MessageRef}(_systemUtils2["default"].mixin(_fromArray2["default"],_toArray2["default"]));exports["default"]=MessageRef}),define("gdbots/pbj/message-resolver",["exports","gdbots/common/util/array-utils","gdbots/common/util/system-utils","gdbots/pbj/schema-id"],function(exports,_arrayUtils,_systemUtils,_schemaId){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _arrayUtils2=_interopRequireDefault(_arrayUtils),_systemUtils2=_interopRequireDefault(_systemUtils),_schemaId2=_interopRequireDefault(_schemaId),_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_messages={},_resolved={},_resolvedMixins={},MessageResolver=function(){function MessageResolver(){_classCallCheck(this,MessageResolver)}return _createClass(MessageResolver,null,[{key:"messages",value:function(){return _messages}},{key:"resolved",value:function(){return _resolved}},{key:"resolvedMixins",value:function(){return _resolvedMixins}},{key:"resolveId",value:function(id){if(curieMajor=id.getCurieMajor(),curieMajor in this.resolved)return this.resolved[curieMajor];if(curieMajor in this.messages)return className=this.messages[curieMajor],this.resolved[curieMajor]=className,className;if(curie=id.getCurie().toString(),curie in this.messages)return className=this.messages[curie],this.resolved[curieMajor]=className,this.resolved[curie]=className,className;throw new NoMessageForSchemaId(id)}},{key:"resolveCurie",value:function(curie){if(key=curie.toString(),key in this.resolved)return this.resolved[key];if(key in this.messages)return className=this.messages[key],this.resolved[key]=className,className;throw new NoMessageForCurie(curie)}},{key:"registerSchema",value:function(schema){this.messages[schema.getId().getCurieMajor()]=schema.getClassName()}},{key:"register",value:function(id,className){id instanceof _schemaId2["default"]&&(id=id.getCurieMajor()),this.messages[id]=className}},{key:"registerMap",value:function(){var map=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];return 0===this.messages.length?void(this.messages=map):void _arrayUtils2["default"].each(map,function(value,key){map.hasOwnProperty(key)&&(this.messages[key]=value)}.bind(this))}},{key:"findOneUsingMixin",value:function(mixin){var inPackage=arguments.length<=1||void 0===arguments[1]?null:arguments[1],inCategory=arguments.length<=2||void 0===arguments[2]?null:arguments[2];return this.findAllUsingMixin(mixin,inPackage,inCategory).then(function(schemas){if(1!==schemas.length)throw new MoreThanOneMessageForMixin(mixin,schemas);return schemas[0]})}},{key:"findAllUsingMixin",value:function(mixin){var _this=this,inPackage=arguments.length<=1||void 0===arguments[1]?null:arguments[1],inCategory=arguments.length<=2||void 0===arguments[2]?null:arguments[2],mixinId=mixin.getId().getCurieMajor(),key=mixinId+inPackage+inCategory,promises=[];if(key in this.resolvedMixins)return Promise.resolve(this.resolvedMixins[key]);if(!function(){var filtered=inPackage&&inPackage.length||inCategory&&inCategory.length;_arrayUtils2["default"].each(_this.messages,function(messageClass,id){if(filtered){var _curie=id.split(":");if(inPackage&&inPackage.length&&_curie[1]!=inPackage)return;if(inCategory&&inCategory.length&&_curie[2]!=inCategory)return}promises.push(_systemUtils2["default"]["import"](messageClass))})}(),0===promises.length)throw new NoMessageForMixin(mixin);return Promise.all(promises).then(function(messages){var schemas=[];return _arrayUtils2["default"].each(messages,function(message){message=message["default"];var schema=message.schema();schema.hasMixin(mixinId)&&schemas.push(schema)}),this.resolvedMixins[key]=schemas,schemas}.bind(this))}}]),MessageResolver}();exports["default"]=MessageResolver}),define("gdbots/pbj/message",["exports","gdbots/common/from-array","gdbots/common/to-array","gdbots/common/util/array-utils","gdbots/common/util/string-utils","gdbots/common/util/system-utils","gdbots/pbj/exception/schema-not-defined","gdbots/pbj/exception/required-field-not-set","gdbots/pbj/exception/frozen-message-is-immutable","gdbots/pbj/exception/logic-exception","gdbots/pbj/serializer/array-serializer","gdbots/pbj/schema"],function(exports,_fromArray,_toArray,_arrayUtils,_stringUtils,_systemUtils,_schemaNotDefined,_requiredFieldNotSet,_frozenMessageIsImmutable,_logicException,_arraySerializer,_schema){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}function guardFrozenMessage(){if(this.isFrozen)throw new _frozenMessageIsImmutable2["default"](this)}function populateDefault(field){if(this.has(field.getName()))return!0;var defaultValue=field.getDefault(this);return null===defaultValue?!1:field.isASingleValue()?(this.data[field.getName()]=defaultValue,delete this.clearedFields[field.getName()],!0):defaultValue&&0!==defaultValue.length?field.isASet()?(this.addToSet(field.getName(),defaultValue),!0):(this.data[field.getName()]=defaultValue,delete this.clearedFields[field.getName()],!0):!1}Object.defineProperty(exports,"__esModule",{value:!0});var _fromArray2=_interopRequireDefault(_fromArray),_toArray2=_interopRequireDefault(_toArray),_arrayUtils2=_interopRequireDefault(_arrayUtils),_stringUtils2=_interopRequireDefault(_stringUtils),_systemUtils2=_interopRequireDefault(_systemUtils),_schemaNotDefined2=_interopRequireDefault(_schemaNotDefined),_requiredFieldNotSet2=_interopRequireDefault(_requiredFieldNotSet),_frozenMessageIsImmutable2=_interopRequireDefault(_frozenMessageIsImmutable),_logicException2=_interopRequireDefault(_logicException),_arraySerializer2=_interopRequireDefault(_arraySerializer),_schema2=_interopRequireDefault(_schema),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol?"symbol":typeof obj},_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),schemas={},serializer=null,Message=function(_SystemUtils$mixin){function Message(){_classCallCheck(this,Message);var _this=_possibleConstructorReturn(this,Object.getPrototypeOf(Message).call(this));return _this.data={},_this.clearedFields=[],_this.isFrozen=!1,_this.isReplay=!1,_this}return _inherits(Message,_SystemUtils$mixin),_createClass(Message,[{key:"toArray",value:function(){return null===serializer&&(serializer=new _arraySerializer2["default"]),serializer.serialize(this)}},{key:"toYaml",value:function(){arguments.length<=0||void 0===arguments[0]?{}:arguments[0];throw new Error("Not yet implemented.")}},{key:"toString",value:function(){return this.toArray()}},{key:"generateEtag",value:function(){var ignoredFields=arguments.length<=0||void 0===arguments[0]?[]:arguments[0];null===serializer&&(serializer=new _arraySerializer2["default"]);var array=serializer.serialize(this,{includeAllFields:!0});return 0===ignoredFields.length?_stringUtils2["default"].md5(JSON.stringify(array)):(_arrayUtils2["default"].each(ignoredFields,function(value,key){delete array[ignoredFields[key]]}),_stringUtils2["default"].md5(JSON.stringify(array)))}},{key:"generateMessageRef",value:function(){arguments.length<=0||void 0===arguments[0]?null:arguments[0];throw new Error("Interface function.")}},{key:"getUriTemplateVars",value:function(){throw new Error("Interface function.")}},{key:"validate",value:function(){return _arrayUtils2["default"].each(this.constructor.schema().getRequiredFields(),function(field){if(!this.has(field.getName()))throw new _requiredFieldNotSet2["default"](this,field)}.bind(this)),this}},{key:"freeze",value:function(){return this.isFrozen()?this:(this.validate(),this.isFrozen=!0,_arrayUtils2["default"].each(this.constructor.schema().getFields(),function(field){if(field.getType().isMessage()){if(value=this.get(field.getName()),!value||0===value.length)return;if(value instanceof Message)return void value.freeze();_arrayUtils2["default"].each(value,function(v,k){value[k].freeze()})}}.bind(this)),this)}},{key:"isFrozen",value:function(){return this.isFrozen}},{key:"equals",value:function(other){return JSON.stringify(this)===JSON.stringify(other)}},{key:"isReplay",value:function(){var replay=arguments.length<=0||void 0===arguments[0]?null:arguments[0];if(null===replay)return null===this.isReplay&&(this.isReplay=!1),this.isReplay;if(null===this.isReplay)return this.isReplay=Boolean(replay),this.isReplay&&this.freeze(),this.isReplay;throw new _logicException2["default"]("You can only set the replay mode on one time.")}},{key:"populateDefaults",value:function(){var fieldName=arguments.length<=0||void 0===arguments[0]?null:arguments[0];return guardFrozenMessage.bind(this)(),fieldName?(populateDefault.bind(this)(this.constructor.schema().getField(fieldName)),this):(_arrayUtils2["default"].each(this.constructor.schema().getFields(),function(field){populateDefault.bind(this)(field)}.bind(this)),this)}},{key:"has",value:function(fieldName){return void 0===this.data[fieldName]?!1:Array.isArray(this.data[fieldName])?this.data[fieldName]&&this.data[fieldName].length:!0}},{key:"get",value:function(fieldName){var defaultValue=arguments.length<=1||void 0===arguments[1]?null:arguments[1];if(!this.has(fieldName))return defaultValue;var field=this.constructor.schema().getField(fieldName);return field.isASet()?Object.keys(this.data[fieldName]).map(function(v){return this.data[fieldName][v]}):this.data[fieldName]}},{key:"clear",value:function(fieldName){guardFrozenMessage.bind(this)();var field=this.constructor.schema().getField(fieldName);return delete this.data[fieldName],this.clearedFields[fieldName]=!0,populateDefault.bind(this)(field),this}},{key:"hasClearedField",value:function(fieldName){return void 0!==this.clearedFields[fieldName]}},{key:"getClearedFields",value:function(){return Object.keys(this.clearedFields)}},{key:"setSingleValue",value:function(fieldName,value){return this.set(fieldName,value)}},{key:"set",value:function(fieldName,value){guardFrozenMessage.bind(this)();var field=this.constructor.schema().getField(fieldName);if(!field.isASingleValue())throw new Error("Field ["+fieldName+"] must be a single value.");return null===value?this.clear(fieldName):(field.guardValue(value),this.data[fieldName]=value,delete this.clearedFields[fieldName],this)}},{key:"isInSet",value:function(fieldName,value){return this.data[fieldName]&&0!==this.data[fieldName].length&&Array.isArray(this.data[fieldName])&&(/boolean|number|string/.test("undefined"==typeof value?"undefined":_typeof(value))||"object"===("undefined"==typeof value?"undefined":_typeof(value))&&void 0!==value.prototype.toString)?(key=value.trim(),0===key.length?!1:void 0!==this.data[fieldName][key.toLowerCase()]):!1}},{key:"addToSet",value:function(fieldName,values){guardFrozenMessage.bind(this)();var field=this.constructor.schema().getField(fieldName);if(!field.isASet())throw new Error("Field ["+fieldName+"] must be a set.");return _arrayUtils2["default"].each(values,function(value){0!==value.length&&(field.guardValue(value),key=value.trim().toLowerCase(),this.data[fieldName][key]=value)}.bind(this)),this.data[fieldName]&&this.data[fieldName].length&&delete this.clearedFields[fieldName],this}},{key:"removeFromSet",value:function(fieldName,values){guardFrozenMessage.bind(this)();var field=this.constructor.schema().getField(fieldName);if(!field.isASet())throw new Error("Field ["+fieldName+"] must be a set.");return _arrayUtils2["default"].each(values,function(value){0!==value.length&&(key=value.trim().toLowerCase(),this.data[fieldName][key]=value)}.bind(this)),this.data[fieldName]&&0!==this.data[fieldName].length||(this.clearedFields[fieldName]=!0),this}},{key:"isInList",value:function(fieldName,value){return this.data[fieldName]&&0!==this.data[fieldName].length&&Array.isArray(this.data[fieldName])?value in this.data[fieldName]:!1}},{key:"getFromListAt",value:function(fieldName,index){var defaultValue=arguments.length<=2||void 0===arguments[2]?null:arguments[2];return index=parseInt(index),this.data[fieldName]&&0!==this.data[fieldName].length&&Array.isArray(this.data[fieldName])&&void 0!==this.data[fieldName][index]?this.data[fieldName][index]:defaultValue}},{key:"addToList",value:function(fieldName,values){guardFrozenMessage.bind(this)();var field=this.constructor.schema().getField(fieldName);if(!field.isAList())throw new Error("Field ["+fieldName+"] must be a list.");return _arrayUtils2["default"].each(values,function(value){field.guardValue(value),this.data[fieldName].push(value)}.bind(this)),delete this.clearedFields[fieldName],this}},{key:"removeFromListAt",value:function(fieldName,index){guardFrozenMessage.bind(this)();var field=this.constructor.schema().getField(fieldName);if(!field.isAList())throw new Error("Field ["+fieldName+"] must be a list.");return index=parseInt(index),this.data[fieldName]&&0!==this.data[fieldName].length?(void 0!==this.data[fieldName][index]&&delete this.data[fieldName][index],this.data[fieldName]&&0!==this.data[fieldName].length?(this.data[fieldName]=Object.keys(this.data[fieldName]).map(function(v){return this.data[fieldName][v]}),this):(this.clearedFields[fieldName]=!0,this)):this}},{key:"isInMap",value:function(fieldName,key){return this.data[fieldName]&&0!==this.data[fieldName].length&&Array.isArray(this.data[fieldName])&&"string"==typeof key?void 0!==this.data[fieldName][key]:!1}},{key:"getFromMap",value:function(fieldName,key){var defaultValue=arguments.length<=2||void 0===arguments[2]?null:arguments[2];return this.isInMap(fieldName,key)?this.data[fieldName][key]:defaultValue}},{key:"addToMap",value:function(fieldName,key,value){guardFrozenMessage.bind(this)();var field=this.constructor.schema().getField(fieldName);if(!field.isAMap())throw new Error("Field ["+fieldName+"] must be a map.");return null===value?this.removeFromMap(fieldName,key):(field.guardValue(value),this.data[fieldName][key]=value,delete this.clearedFields[fieldName],this)}},{key:"removeFromMap",value:function(fieldName,key){guardFrozenMessage.bind(this)();var field=this.constructor.schema().getField(fieldName);if(!field.isAMap())throw new Error("Field ["+fieldName+"] must be a map.");return delete this.data[fieldName][key],this.data[fieldName]&&0!==this.data[fieldName].length||(this.clearedFields[fieldName]=!0),this}}],[{key:"schema",value:function schema(){var type=this.name;if(void 0!==schemas[type])return schemas[type];var schema=this.defineSchema();if(!(schema instanceof _schema2["default"]))throw new _schemaNotDefined2["default"]("Message ["+type+"] must return a Schema from the defineSchema method.");if(schema.getClassName()!==type)throw new _schemaNotDefined2["default"]("Schema ["+schema.getId().toString()+"] returned from defineSchema must be for class ["+type+"], not ["+schema.getClassName()+"]");return schemas[type]=schema,schemas[type]}},{key:"defineSchema",value:function(){throw new _schemaNotDefined2["default"]("Message ["+this.name+"] must return a Schema from the defineSchema method.")}},{key:"create",value:function(){var message=new this;return message.populateDefaults()}},{key:"fromArray",value:function(){var data=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];return null===serializer&&(serializer=new _arraySerializer2["default"]),void 0===data[_schema.PBJ_FIELD_NAME]&&(data[_schema.PBJ_FIELD_NAME]=this.schema().getId().toString()),serializer.deserialize(data)}}]),Message}(_systemUtils2["default"].mixin(_fromArray2["default"],_toArray2["default"]));exports["default"]=Message}),define("gdbots/pbj/mixin",["exports","gdbots/common/to-array"],function(exports,_toArray){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0});var _toArray2=_interopRequireDefault(_toArray),_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),instances={},Mixin=function(_ToArray){function Mixin(){return _classCallCheck(this,Mixin),_possibleConstructorReturn(this,Object.getPrototypeOf(Mixin).apply(this,arguments))}return _inherits(Mixin,_ToArray),_createClass(Mixin,[{key:"getId",value:function(){return null}},{key:"getFields",value:function(){return[]}},{key:"toArray",value:function(){return{id:this.getId(),fields:this.getFields()}}},{key:"toString",value:function(){return this.getId()?this.getId().toString():null}}],[{key:"create",value:function(){var type=this.name;return void 0===instances[type]&&(instances[type]=new this),instances[type]}}]),Mixin}(_toArray2["default"]);exports["default"]=Mixin}),define("gdbots/pbj/schema-curie",["exports","gdbots/pbj/exception/invalid-schema-curie"],function(exports,_invalidSchemaCurie){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0}),exports.VALID_PATTERN=void 0;var _invalidSchemaCurie2=_interopRequireDefault(_invalidSchemaCurie),_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),instances={},VALID_PATTERN=exports.VALID_PATTERN=/^([a-z0-9-]+):([a-z0-9\.-]+):([a-z0-9-]+)?:([a-z0-9-]+)/,SchemaCurie=function(){function SchemaCurie(vendor,packageName,category,message){_classCallCheck(this,SchemaCurie),this.vendor=vendor,this["package"]=packageName,this.category=category?category:"",this.message=message,this.curie=this.vendor+":"+this["package"]+":"+this.category+":"+this.message}return _createClass(SchemaCurie,[{key:"toString",value:function(){return this.curie}},{key:"getVendor",value:function(){return this.vendor}},{key:"getPackage",value:function(){return this["package"]}},{key:"getCategory",value:function(){return this.category}},{key:"getMessage",value:function(){return this.message}},{key:"isMixin",value:function(){return"mixin"===this.category}}],[{key:"fromId",value:function(id){var curie=id.toString().replace(":"+id.getVersion().toString(),"").substr(4);return void 0!==instances[curie]?instances[curie]:(instances[curie]=new this(id.getVendor(),id.getPackage(),id.getCategory(),id.getMessage()),instances[curie])}},{key:"fromString",value:function(curie){if(void 0!==instances[curie])return instances[curie];if(curie.length>145)throw new Error("Schema curie cannot be greater than 145 chars.");var matches=curie.match(VALID_PATTERN);if(null===matches)throw new _invalidSchemaCurie2["default"]("Schema curie ["+curie+"] is invalid. It must match the pattern ["+VALID_PATTERN+"].");return instances[curie]=new this(matches[1],matches[2],matches[3],matches[4]),instances[curie]}}]),SchemaCurie}();exports["default"]=SchemaCurie}),define("gdbots/pbj/schema-id",["exports","gdbots/pbj/exception/invalid-schema-id","gdbots/pbj/schema-curie","gdbots/pbj/schema-version"],function(exports,_invalidSchemaId,_schemaCurie,_schemaVersion){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0}),exports.VALID_PATTERN=void 0;var _invalidSchemaId2=_interopRequireDefault(_invalidSchemaId),_schemaCurie2=_interopRequireDefault(_schemaCurie),_schemaVersion2=_interopRequireDefault(_schemaVersion),_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),instances={},VALID_PATTERN=exports.VALID_PATTERN=/^pbj:([a-z0-9-]+):([a-z0-9\.-]+):([a-z0-9-]+)?:([a-z0-9-]+):([0-9]+-[0-9]+-[0-9]+)/,SchemaId=function(){function SchemaId(vendor,packageName,category,message,version){_classCallCheck(this,SchemaId),this.vendor=vendor,this["package"]=packageName,this.category=category?category:"",this.message=message,this.version=_schemaVersion2["default"].fromString(version),this.id="pbj:"+this.vendor+":"+this["package"]+":"+this.category+":"+this.message+":"+this.version.toString(),this.curie=_schemaCurie2["default"].fromId(this)}return _createClass(SchemaId,[{key:"toString",value:function(){return this.id}},{key:"getVendor",value:function(){return this.vendor}},{key:"getPackage",value:function(){return this["package"]}},{key:"getCategory",value:function(){return this.category}},{key:"getMessage",value:function(){return this.message}},{key:"getVersion",value:function(){return this.version}},{key:"getCurie",value:function(){return this.curie}},{key:"getCurieMajor",value:function(){return this.curie.toString()+":v"+this.version.getMajor()}}],[{key:"fromString",value:function(schemaId){if(void 0!==instances[schemaId])return instances[schemaId];if(schemaId.length>145)throw new Error("Schema id cannot be greater than 150 chars.");var matches=schemaId.match(VALID_PATTERN);if(null===matches)throw new _invalidSchemaId2["default"]("Schema id ["+schemaId+"] is invalid. It must match the pattern ["+VALID_PATTERN+"].");return instances[schemaId]=new this(matches[1],matches[2],matches[3],matches[4],matches[5]),instances[schemaId]}}]),SchemaId}();exports["default"]=SchemaId}),define("gdbots/pbj/schema-version",["exports","gdbots/pbj/exception/invalid-schema-version"],function(exports,_invalidSchemaVersion){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0}),exports.VALID_PATTERN=void 0;var _invalidSchemaVersion2=_interopRequireDefault(_invalidSchemaVersion),_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),VALID_PATTERN=exports.VALID_PATTERN=/^([0-9]+)-([0-9]+)-([0-9]+)/,SchemaVersion=function(){function SchemaVersion(){var major=arguments.length<=0||void 0===arguments[0]?1:arguments[0],minor=arguments.length<=1||void 0===arguments[1]?0:arguments[1],patch=arguments.length<=2||void 0===arguments[2]?0:arguments[2];_classCallCheck(this,SchemaVersion),this.major=parseInt(major),this.minor=parseInt(minor),this.patch=parseInt(patch),this.version=this.major+"-"+this.minor+"-"+this.patch}return _createClass(SchemaVersion,[{key:"toString",value:function(){return this.version}},{key:"getMajor",value:function(){return this.major}},{key:"getMinor",value:function(){return this.minor}},{key:"getPatch",value:function(){return this.patch}}],[{key:"fromString",value:function(){var version=arguments.length<=0||void 0===arguments[0]?"1-0-0":arguments[0],matches=version.match(VALID_PATTERN);if(null===matches)throw new _invalidSchemaVersion2["default"]("Schema version ["+version+"] is invalid. It must match the pattern ["+VALID_PATTERN+"].");return new this(matches[1],matches[2],matches[3])}}]),SchemaVersion}();exports["default"]=SchemaVersion}),define("gdbots/pbj/schema",["exports","gdbots/common/to-array","gdbots/common/util/array-utils","gdbots/pbj/exception/field-already-defined","gdbots/pbj/exception/field-not-defined","gdbots/pbj/exception/field-override-not-compatible","gdbots/pbj/exception/mixin-already-added","gdbots/pbj/exception/mixin-not-defined","gdbots/pbj/schema-id","gdbots/pbj/field-builder","gdbots/pbj/type/string-type"],function(exports,_toArray,_arrayUtils,_fieldAlreadyDefined,_fieldNotDefined,_fieldOverrideNotCompatible,_mixinAlreadyAdded,_mixinNotDefined,_schemaId,_fieldBuilder,_stringType){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{
"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}function addField(field){var fieldName=field.getName();if(this.hasField(fieldName)){var existingField=this.getField(fieldName);if(!existingField.isOverridable())throw new _fieldAlreadyDefined2["default"](this,fieldName);if(!existingField.isCompatibleForOverride(field))throw new _fieldOverrideNotCompatible2["default"](this,fieldName,field)}this.fields[fieldName]=field,field.isRequired()&&(this.requiredFields[fieldName]=field)}function addMixin(mixin){var id=mixin.getId(),curieStr=id.getCurie().toString();if(void 0!==this.mixinsByCurie[curieStr])throw new _mixinAlreadyAdded2["default"](this,this.mixinsByCurie[curieStr],mixin);this.mixins[id.getCurieMajor()]=mixin,this.mixinsByCurie[curieStr]=mixin,_arrayUtils2["default"].each(mixin.getFields(),function(field){addField.bind(this)(field)}.bind(this))}Object.defineProperty(exports,"__esModule",{value:!0}),exports.PBJ_FIELD_NAME=void 0;var _toArray2=_interopRequireDefault(_toArray),_arrayUtils2=_interopRequireDefault(_arrayUtils),_fieldAlreadyDefined2=_interopRequireDefault(_fieldAlreadyDefined),_fieldNotDefined2=_interopRequireDefault(_fieldNotDefined),_fieldOverrideNotCompatible2=_interopRequireDefault(_fieldOverrideNotCompatible),_mixinAlreadyAdded2=_interopRequireDefault(_mixinAlreadyAdded),_mixinNotDefined2=_interopRequireDefault(_mixinNotDefined),_schemaId2=_interopRequireDefault(_schemaId),_fieldBuilder2=_interopRequireDefault(_fieldBuilder),_stringType2=_interopRequireDefault(_stringType),_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),PBJ_FIELD_NAME=exports.PBJ_FIELD_NAME="_schema",Schema=function(_ToArray){function Schema(id,className){var fields=arguments.length<=2||void 0===arguments[2]?[]:arguments[2],mixins=arguments.length<=3||void 0===arguments[3]?[]:arguments[3];_classCallCheck(this,Schema);var _this=_possibleConstructorReturn(this,Object.getPrototypeOf(Schema).call(this));return _this.id=id instanceof _schemaId2["default"]?id:_schemaId2["default"].fromString(id),_this.className=className,_this.mixins={},_this.mixinsByCurie={},_this.fields={},_this.requiredFields={},_this.mixinIds=[],_this.mixinCuries=[],addField.bind(_this)(_fieldBuilder2["default"].create(PBJ_FIELD_NAME,_stringType2["default"].create()).isRequired().setPattern(_schemaId2["default"].VALID_PATTERN).setDefaultValue(_this.id.toString()).build()),_arrayUtils2["default"].each(mixins,function(mixin){addMixin.bind(this)(mixin)}.bind(_this)),_arrayUtils2["default"].each(fields,function(field){addField.bind(this)(field)}.bind(_this)),_this.mixinIds=Object.keys(_this.mixins),_this.mixinCuries=Object.keys(_this.mixinsByCurie),_this}return _inherits(Schema,_ToArray),_createClass(Schema,[{key:"toString",value:function(){return this.id.toString()}},{key:"toArray",value:function(){return{id:this.id,curie:this.getCurie(),curie_major:this.getCurieMajor(),class_name:this.className,mixins:this.mixins.map(function(mixin){return mixin.getId()}),fields:this.fields}}},{key:"getId",value:function(){return this.id}},{key:"getCurie",value:function(){return this.id.getCurie()}},{key:"getCurieMajor",value:function(){return this.id.getCurieMajor()}},{key:"getClassName",value:function(){return this.className}},{key:"getHandlerMethodName",value:function(){var withMajor=arguments.length<=0||void 0===arguments[0]?!0:arguments[0];if(!0===withMajor)return this.classShortName.charAt(0).toLowerCase()+this.classShortName.substr(1);var classShortName=this.classShortName.replace("V"+this.id.getVersion().getMajor(),"");return classShortName.charAt(0).toLowerCase()+classShortName.substr(1)}},{key:"hasField",value:function(fieldName){return void 0!==this.fields[fieldName]}},{key:"getField",value:function(fieldName){if(void 0===this.fields[fieldName])throw new _fieldNotDefined2["default"](this,fieldName);return this.fields[fieldName]}},{key:"getFields",value:function(){return this.fields}},{key:"getRequiredFields",value:function(){return this.requiredFields}},{key:"hasMixin",value:function(mixinId){return void 0!==this.mixins[mixinId]||void 0!==this.mixinsByCurie[mixinId]}},{key:"getMixin",value:function(mixinId){if(void 0!==this.mixins[mixinId])return this.mixins[mixinId];if(void 0!==this.mixinsByCurie[mixinId])return this.mixinsByCurie[mixinId];throw new _mixinNotDefined2["default"](this,mixinId)}},{key:"getMixins",value:function(){return this.mixins}},{key:"getMixinIds",value:function(){return this.mixinIds}},{key:"getMixinCuries",value:function(){return this.mixinCuries}}]),Schema}(_toArray2["default"]);exports["default"]=Schema}),define("gdbots/pbj/serializer/array-serializer",["exports","gdbots/common/to-array","gdbots/common/geo-point","gdbots/common/util/array-utils","gdbots/pbj/exception/deserialize-message-failed","gdbots/pbj/exception/encode-value-failed","gdbots/pbj/serializer/serializer","gdbots/pbj/enum/type-name","gdbots/pbj/enum/field-rule","gdbots/pbj/message","gdbots/pbj/message-ref","gdbots/pbj/schema"],function(exports,_toArray,_geoPoint,_arrayUtils,_deserializeMessageFailed,_encodeValueFailed,_serializer,_typeName,_fieldRule,_message,_messageRef,_schema){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}function doSerialize(message){var options=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],schema=message.constructor.schema();message.validate();var payload={},includeAllFields=void 0!==options.includeAllFields&&!0===options.includeAllFields;return _arrayUtils2["default"].each(schema.getFields(),function(field){var fieldName=field.getName();if(!message.has(fieldName))return void((includeAllFields||message.hasClearedField(fieldName))&&(payload[fieldName]=null));var value=message.get(fieldName);switch(field.getRule()){case _fieldRule2["default"].A_SINGLE_VALUE:payload[fieldName]=encodeValue.bind(this)(value,field,options);break;case _fieldRule2["default"].A_SET:case _fieldRule2["default"].A_LIST:payload[fieldName]=[],_arrayUtils2["default"].each(value,function(v){payload[fieldName].push(encodeValue.bind(this)(v,field,options))}.bind(this));break;case _fieldRule2["default"].A_MAP:payload[fieldName]={},_arrayUtils2["default"].each(value,function(v){payload[fieldName][k]=encodeValue.bind(this)(v,field,options)}.bind(this))}}.bind(this)),payload}function doDeserialize(data){var options=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],message=this.createMessage(data[_schema.PBJ_FIELD_NAME]),schema=message.constructor.schema();return _arrayUtils2["default"].each(data,function(value,fieldName){var _this2=this;if(schema.hasField(fieldName)){if(null===value)return void message.clear(fieldName);var field=schema.getField(fieldName);!function(){switch(field.getRule()){case _fieldRule2["default"].A_SINGLE_VALUE:message.set(fieldName,_this2.decodeValue(value,field,options));break;case _fieldRule2["default"].A_SET:case _fieldRule2["default"].A_LIST:if(!Array.isArray(value))throw new Error("Field ["+fieldName+"] must be an array.");var values=[];_arrayUtils2["default"].each(value,function(v){values.push(this.decodeValue(v,field,options))}.bind(_this2)),field.isASet()?message.addToSet(fieldName,values):message.addToList(fieldName,values);break;case _fieldRule2["default"].A_MAP:if(!_arrayUtils2["default"].isAssoc(value))throw new Error("Field ["+fieldName+"] must be an associative array.");_arrayUtils2["default"].each(value,function(v,k){message.addToMap(fieldName,k,this.decodeValue(v,field,options))}.bind(_this2))}}()}}.bind(this)),message.set(_schema.PBJ_FIELD_NAME,schema.getId().toString()).populateDefaults()}function encodeValue(value,field,options){var type=field.getType();if(type.encodesToScalar())return type.encode(value,field);if(value instanceof _message2["default"])return doSerialize.bind(this)(value,options);if(value instanceof _toArray2["default"])return value.toArray();throw new _encodeValueFailed2["default"](value,field,this.constructor.name+" has no handling for this value.")}Object.defineProperty(exports,"__esModule",{value:!0});var _toArray2=_interopRequireDefault(_toArray),_arrayUtils2=(_interopRequireDefault(_geoPoint),_interopRequireDefault(_arrayUtils)),_encodeValueFailed2=(_interopRequireDefault(_deserializeMessageFailed),_interopRequireDefault(_encodeValueFailed)),_serializer2=_interopRequireDefault(_serializer),_fieldRule2=(_interopRequireDefault(_typeName),_interopRequireDefault(_fieldRule)),_message2=_interopRequireDefault(_message),_createClass=(_interopRequireDefault(_messageRef),function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}()),ArraySerializer=function(_Serializer){function ArraySerializer(){return _classCallCheck(this,ArraySerializer),_possibleConstructorReturn(this,Object.getPrototypeOf(ArraySerializer).apply(this,arguments))}return _inherits(ArraySerializer,_Serializer),_createClass(ArraySerializer,[{key:"serialize",value:function(message){var options=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];return doSerialize.bind(this)(message,options)}},{key:"deserialize",value:function(data){var options=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];if(!(_schema.PBJ_FIELD_NAME in Object.keys(data)))throw new Error("["+this.constructor.name+"::deserialize] Array provided must contain the ["+_schema.PBJ_FIELD_NAME+"] key.");return doDeserialize.bind(this)(data,options)}}]),ArraySerializer}(_serializer2["default"]);exports["default"]=ArraySerializer}),define("gdbots/pbj/serializer/json-serializer",["exports","gdbots/pbj/exception/deserialize-message-failed","gdbots/pbj/serializer/array-serializer"],function(exports,_deserializeMessageFailed,_arraySerializer){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}function getLastErrorMessage(code){switch(code){case 0:return"Maximum stack depth exceeded";case 2:return"Underflow or the modes mismatch";case 3:return"Unexpected control character found";case 4:return"Syntax error, malformed JSON";case 5:return"Malformed UTF-8 characters, possibly incorrectly encoded";default:return"Unknown error"}}Object.defineProperty(exports,"__esModule",{value:!0});var _deserializeMessageFailed2=_interopRequireDefault(_deserializeMessageFailed),_arraySerializer2=_interopRequireDefault(_arraySerializer),_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_get=function get(object,property,receiver){null===object&&(object=Function.prototype);var desc=Object.getOwnPropertyDescriptor(object,property);if(void 0===desc){var parent=Object.getPrototypeOf(object);return null===parent?void 0:get(parent,property,receiver)}if("value"in desc)return desc.value;var getter=desc.get;return void 0===getter?void 0:getter.call(receiver)},JsonSerializer=function(_PhpArraySerializer){function JsonSerializer(){return _classCallCheck(this,JsonSerializer),_possibleConstructorReturn(this,Object.getPrototypeOf(JsonSerializer).apply(this,arguments))}return _inherits(JsonSerializer,_PhpArraySerializer),_createClass(JsonSerializer,[{key:"serialize",value:function(message){var options=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];return JSON.stringify(_get(Object.getPrototypeOf(JsonSerializer.prototype),"serialize",this).call(this,message,options))}},{key:"deserialize",value:function(data){var options=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];if(!Array.isArray(data))try{data=JSON.parse(data)}catch(e){if(!(e instanceof SyntaxError))throw new Error("Unexpected error type in JSON.parse()");throw new _deserializeMessageFailed2["default"](getLastErrorMessage(4))}return _get(Object.getPrototypeOf(JsonSerializer.prototype),"deserialize",this).call(this,data,options)}}]),JsonSerializer}(_arraySerializer2["default"]);exports["default"]=JsonSerializer}),define("gdbots/pbj/serializer/serializer",["exports","gdbots/pbj/exception/invalid-resolved-schema","gdbots/pbj/message","gdbots/pbj/message-resolver","gdbots/pbj/schema"],function(exports,_invalidResolvedSchema,_message,_messageResolver,_schema){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _invalidResolvedSchema2=_interopRequireDefault(_invalidResolvedSchema),_message2=_interopRequireDefault(_message),_messageResolver2=_interopRequireDefault(_messageResolver),_createClass=(_interopRequireDefault(_schema),function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}()),Serializer=function(){function Serializer(){_classCallCheck(this,Serializer)}return _createClass(Serializer,[{key:"serialize",value:function(message){arguments.length<=1||void 0===arguments[1]?{}:arguments[1];throw new Error("Interface function.")}},{key:"deserialize",value:function(data){arguments.length<=1||void 0===arguments[1]?{}:arguments[1];throw new Error("Interface function.")}},{key:"createMessage",value:function(schemaId){if(schemaId=SchemaId.fromString(schemaId),className=_messageResolver2["default"].resolveId(schemaId),message=new className,!message instanceof _message2["default"])throw new Error("Invalid message.");if(message.constructor.schema().getCurieMajor()!==schemaId.getCurieMajor())throw new _invalidResolvedSchema2["default"](message.constructor.schema(),schemaId,className);return message}}]),Serializer}();exports["default"]=Serializer}),define("gdbots/pbj/type/abstract-binary-type",["exports","gdbots/common/util/number-utils","gdbots/common/util/url-utils","gdbots/pbj/type/type","gdbots/pbj/exception/decode-value-failed"],function(exports,_numberUtils,_urlUtils,_type,_decodeValueFailed){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0});var _numberUtils2=_interopRequireDefault(_numberUtils),_urlUtils2=_interopRequireDefault(_urlUtils),_type2=_interopRequireDefault(_type),_decodeValueFailed2=_interopRequireDefault(_decodeValueFailed),_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),AbstractBinaryType=function(_Type){function AbstractBinaryType(typeName){_classCallCheck(this,AbstractBinaryType);var _this=_possibleConstructorReturn(this,Object.getPrototypeOf(AbstractBinaryType).call(this,typeName));return _this.decodeFromBase64=!0,_this.encodeToBase64=!0,_this}return _inherits(AbstractBinaryType,_Type),_createClass(AbstractBinaryType,[{key:"decodeFromBase64",value:function(useBase64){this.decodeFromBase64=Boolean(useBase64)}},{key:"encodeToBase64",value:function(useBase64){this.encodeToBase64=Boolean(useBase64)}},{key:"guard",value:function(value,field){if("string"!=typeof value)throw new Error("Value must be a string.");var length=this.encodeToBase64?this.encode(value,field).length:value.length,minLength=field.getMinLength(),maxLength=_numberUtils2["default"].bound(field.getMaxLength(),minLength,this.getMaxBytes()),okay=length>=minLength&&maxLength>=length;if(!okay)throw new Error("Field ["+field.getName()+"] must be between ["+minLength+"] and ["+maxLength+"] bytes, ["+length+"] bytes given.")}},{key:"encode",value:function(value,field){return value=value.trim(),""===value?null:this.encodeToBase64?_urlUtils2["default"].base64Encode(value):value}},{key:"decode",value:function(value,field){if(value=value.trim(),""===value)return null;if(!this.decodeFromBase64)return $value;if(value=_urlUtils2["default"].base64Decode(value),!1===value)throw new _decodeValueFailed2["default"](value,field,"Strict base64_decode failed.");return value}},{key:"isBinary",value:function(){return!0}},{key:"isString",value:function(){return!0}}]),AbstractBinaryType}(_type2["default"]);exports["default"]=AbstractBinaryType}),define("gdbots/pbj/type/abstract-int-type",["exports","gdbots/common/util/number-utils","gdbots/pbj/type/type"],function(exports,_numberUtils,_type){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0});var _numberUtils2=_interopRequireDefault(_numberUtils),_type2=_interopRequireDefault(_type),_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),AbstractIntType=function(_Type){function AbstractIntType(){return _classCallCheck(this,AbstractIntType),_possibleConstructorReturn(this,Object.getPrototypeOf(AbstractIntType).apply(this,arguments))}return _inherits(AbstractIntType,_Type),_createClass(AbstractIntType,[{key:"guard",value:function(value,field){if("number"!=typeof value)throw new Error("Value must be a number.");var min=_numberUtils2["default"].bound(field.getMin(),this.getMin(),this.getMax()),max=_numberUtils2["default"].bound(field.getMax(),this.getMin(),this.getMax()),okay=value>=min&&max>=value;if(!okay)throw new Error("Field ["+field.getName()+"] value must be between ["+min+"] and ["+max+"], ["+value+"] given.")}},{key:"encode",value:function(value,field){return parseInt(value)}},{key:"decode",value:function(value,field){return parseInt(value)}},{key:"getDefault",value:function(){return 0}},{key:"isNumeric",value:function(){return!0}}]),AbstractIntType}(_type2["default"]);exports["default"]=AbstractIntType}),define("gdbots/pbj/type/abstract-string-type",["exports","gdbots/common/util/number-utils","gdbots/pbj/type/type"],function(exports,_numberUtils,_type){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0});var _numberUtils2=_interopRequireDefault(_numberUtils),_type2=_interopRequireDefault(_type),_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),AbstractStringType=function(_Type){function AbstractStringType(){return _classCallCheck(this,AbstractStringType),_possibleConstructorReturn(this,Object.getPrototypeOf(AbstractStringType).apply(this,arguments))}return _inherits(AbstractStringType,_Type),_createClass(AbstractStringType,[{key:"guard",value:function(value,field){if("string"!=typeof value)throw new Error("Value must be a string.");var length=value.length,minLength=field.getMinLength(),maxLength=_numberUtils2["default"].bound(field.getMaxLength(),minLength,this.getMaxBytes()),okay=length>=minLength&&maxLength>=length;if(!okay)throw new Error("Field ["+field.getName()+"] must be between ["+minLength+"] and ["+maxLength+"] bytes, ["+length+"] bytes given.")}},{key:"encode",value:function(value,field){return value=value.trim(),""===value?null:value}},{key:"decode",value:function(value,field){return value=value.trim(),""===value?null:value}},{key:"isString",value:function(){return!0}}]),AbstractStringType}(_type2["default"]);exports["default"]=AbstractStringType}),define("gdbots/pbj/type/big-int-type",["exports","gdbots/common/big-number","gdbots/pbj/type/type"],function(exports,_bigNumber,_type){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0});var _bigNumber2=_interopRequireDefault(_bigNumber),_type2=_interopRequireDefault(_type),_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),BigIntType=function(_Type){function BigIntType(){return _classCallCheck(this,BigIntType),_possibleConstructorReturn(this,Object.getPrototypeOf(BigIntType).apply(this,arguments))}return _inherits(BigIntType,_Type),_createClass(BigIntType,[{key:"guard",value:function(value,field){if(!(value instanceof _bigNumber2["default"]))throw new Error('Class "'+value.name+'" was expected to be instanceof of "BigNumber" but is not.');if(value.isNegative())throw new Error("Field ["+field.getName()+"] cannot be negative.");if(!value.isLessThanOrEqualTo("18446744073709551615"))throw new Error("Field ["+field.getName()+"] cannot be greater than [18446744073709551615].")}},{key:"encode",value:function(value,field){return value instanceof _bigNumber2["default"]?value.getValue():"0"}},{key:"decode",value:function(value,field){return null===value||value instanceof _bigNumber2["default"]?value:new _bigNumber2["default"](value)}},{key:"isScalar",value:function(){return!1}},{key:"getDefault",value:function(){return new _bigNumber2["default"](0)}},{key:"isNumeric",value:function(){return!0}}]),BigIntType}(_type2["default"]);exports["default"]=BigIntType}),define("gdbots/pbj/type/binary-type",["exports","gdbots/pbj/type/abstract-binary-type"],function(exports,_abstractBinaryType){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0});var _abstractBinaryType2=_interopRequireDefault(_abstractBinaryType),_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),BinaryType=function(_AbstractBinaryType){function BinaryType(){return _classCallCheck(this,BinaryType),_possibleConstructorReturn(this,Object.getPrototypeOf(BinaryType).apply(this,arguments))}return _inherits(BinaryType,_AbstractBinaryType),_createClass(BinaryType,[{key:"getMaxBytes",value:function(){return 255}}]),BinaryType}(_abstractBinaryType2["default"]);exports["default"]=BinaryType}),define("gdbots/pbj/type/blob-type",["exports","gdbots/pbj/type/abstract-binary-type"],function(exports,_abstractBinaryType){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{
constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0});var _abstractBinaryType2=_interopRequireDefault(_abstractBinaryType),_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),BlobType=function(_AbstractBinaryType){function BlobType(){return _classCallCheck(this,BlobType),_possibleConstructorReturn(this,Object.getPrototypeOf(BlobType).apply(this,arguments))}return _inherits(BlobType,_AbstractBinaryType),_createClass(BlobType,[{key:"allowedInSet",value:function(){return!1}}]),BlobType}(_abstractBinaryType2["default"]);exports["default"]=BlobType}),define("gdbots/pbj/type/boolean-type",["exports","gdbots/pbj/type/type"],function(exports,_type){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0});var _type2=_interopRequireDefault(_type),_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),BooleanType=function(_Type){function BooleanType(){return _classCallCheck(this,BooleanType),_possibleConstructorReturn(this,Object.getPrototypeOf(BooleanType).apply(this,arguments))}return _inherits(BooleanType,_Type),_createClass(BooleanType,[{key:"guard",value:function(value,field){if(value===!0||value===!1)throw new Exception('Value "'+value+'" is not a boolean.')}},{key:"encode",value:function(value,field){return Boolean(value)}},{key:"decode",value:function(value,field){return Boolean(value)}},{key:"getDefault",value:function(){return!1}},{key:"isBoolean",value:function(){return!0}},{key:"allowedInSet",value:function(){return!1}}]),BooleanType}(_type2["default"]);exports["default"]=BooleanType}),define("gdbots/pbj/type/date-time-type",["exports","gdbots/common/util/date-utils","gdbots/pbj/type/type"],function(exports,_dateUtils,_type){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0});var _type2=(_interopRequireDefault(_dateUtils),_interopRequireDefault(_type)),_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),DateTimeType=function(_Type){function DateTimeType(){return _classCallCheck(this,DateTimeType),_possibleConstructorReturn(this,Object.getPrototypeOf(DateTimeType).apply(this,arguments))}return _inherits(DateTimeType,_Type),_createClass(DateTimeType,[{key:"guard",value:function(value,field){if(!(value instanceof Date))throw new Error('Class "'+value.name+'" was expected to be instanceof of "Date" but is not.')}},{key:"encode",value:function(value,field){return value instanceof Date?value.toISOString():null}},{key:"decode",value:function(value,field){return value&&0!==value.length?value instanceof Date?value:new Date:null}},{key:"isScalar",value:function(){return!1}},{key:"isString",value:function(){return!0}},{key:"allowedInSet",value:function(){return!1}}]),DateTimeType}(_type2["default"]);exports["default"]=DateTimeType}),define("gdbots/pbj/type/date-type",["exports","gdbots/pbj/type/type"],function(exports,_type){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0});var _type2=_interopRequireDefault(_type),_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),DateType=function(_Type){function DateType(){return _classCallCheck(this,DateType),_possibleConstructorReturn(this,Object.getPrototypeOf(DateType).apply(this,arguments))}return _inherits(DateType,_Type),_createClass(DateType,[{key:"guard",value:function(value,field){if(!(value instanceof Date))throw new Error('Class "'+value.name+'" was expected to be instanceof of "Date" but is not.')}},{key:"encode",value:function(value,field){return value instanceof Date?value.toISOString().slice(0,10):null}},{key:"decode",value:function(value,field){return value&&0!==value.length?value instanceof Date?value:new Date:null}},{key:"isScalar",value:function(){return!1}},{key:"isString",value:function(){return!0}},{key:"allowedInSet",value:function(){return!1}}]),DateType}(_type2["default"]);exports["default"]=DateType}),define("gdbots/pbj/type/decimal-type",["exports","gdbots/pbj/type/type"],function(exports,_type){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}function bcadd(leftOperand,rightOperand,scale){throw new Error("Not yet implemented.")}Object.defineProperty(exports,"__esModule",{value:!0});var _type2=_interopRequireDefault(_type),_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),DecimalType=function(_Type){function DecimalType(){return _classCallCheck(this,DecimalType),_possibleConstructorReturn(this,Object.getPrototypeOf(DecimalType).apply(this,arguments))}return _inherits(DecimalType,_Type),_createClass(DecimalType,[{key:"guard",value:function(value,field){if(+value===value&&(!isFinite(value)||value%1))throw new Exception('Value "'+value+'" is not a float.')}},{key:"encode",value:function(value,field){return parseFloat(bcadd(parseFloat(value),"0",field.getScale()))}},{key:"decode",value:function(value,field){return parseFloat(bcadd(parseFloat(value),"0",field.getScale()))}},{key:"getDefault",value:function(){return 0}},{key:"isNumeric",value:function(){return!0}},{key:"getMin",value:function(){return-1}},{key:"getMax",value:function(){return 1/0}}]),DecimalType}(_type2["default"]);exports["default"]=DecimalType}),define("gdbots/pbj/type/float-type",["exports","gdbots/pbj/type/type"],function(exports,_type){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0});var _type2=_interopRequireDefault(_type),_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),FloatType=function(_Type){function FloatType(){return _classCallCheck(this,FloatType),_possibleConstructorReturn(this,Object.getPrototypeOf(FloatType).apply(this,arguments))}return _inherits(FloatType,_Type),_createClass(FloatType,[{key:"guard",value:function(value,field){if(+value===value&&(!isFinite(value)||value%1))throw new Exception('Value "'+value+'" is not a float.')}},{key:"encode",value:function(value,field){return parseFloat(value)}},{key:"decode",value:function(value,field){return parseFloat(value)}},{key:"getDefault",value:function(){return 0}},{key:"isNumeric",value:function(){return!0}},{key:"getMin",value:function(){return-1}},{key:"getMax",value:function(){return 1/0}}]),FloatType}(_type2["default"]);exports["default"]=FloatType}),define("gdbots/pbj/type/geo-point-type",["exports","gdbots/common/geo-point","gdbots/pbj/type/type","gdbots/pbj/exception/encode-value-failed","gdbots/pbj/exception/decode-value-failed"],function(exports,_geoPoint,_type,_encodeValueFailed,_decodeValueFailed){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0});var _geoPoint2=_interopRequireDefault(_geoPoint),_type2=_interopRequireDefault(_type),_encodeValueFailed2=_interopRequireDefault(_encodeValueFailed),_decodeValueFailed2=_interopRequireDefault(_decodeValueFailed),_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),GeoPointType=function(_Type){function GeoPointType(){return _classCallCheck(this,GeoPointType),_possibleConstructorReturn(this,Object.getPrototypeOf(GeoPointType).apply(this,arguments))}return _inherits(GeoPointType,_Type),_createClass(GeoPointType,[{key:"guard",value:function(value,field){if(!(value instanceof _geoPoint2["default"]))throw new Error('Class "'+value.name+'" was expected to be instanceof of "GeoPoint" but is not.')}},{key:"encode",value:function(value,field){throw new _encodeValueFailed2["default"](value,field,"GeoPoints must be encoded with a Serializer.")}},{key:"decode",value:function(value,field){throw new _decodeValueFailed2["default"](value,field,"GeoPoints must be decoded with a Serializer.")}},{key:"isScalar",value:function(){return!1}},{key:"encodesToScalar",value:function(){return!1}},{key:"allowedInSet",value:function(){return!1}}]),GeoPointType}(_type2["default"]);exports["default"]=GeoPointType}),define("gdbots/pbj/type/identifier-type",["exports","gdbots/identifiers/identifier","gdbots/pbj/type/type","gdbots/pbj/exception/decode-value-failed"],function(exports,_identifier,_type,_decodeValueFailed){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0});var _identifier2=_interopRequireDefault(_identifier),_type2=_interopRequireDefault(_type),_decodeValueFailed2=_interopRequireDefault(_decodeValueFailed),_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),IdentifierType=function(_Type){function IdentifierType(){return _classCallCheck(this,IdentifierType),_possibleConstructorReturn(this,Object.getPrototypeOf(IdentifierType).apply(this,arguments))}return _inherits(IdentifierType,_Type),_createClass(IdentifierType,[{key:"guard",value:function(value,field){if(!(value instanceof _identifier2["default"]))throw new Error('Class "'+value.name+'" was expected to be instanceof of "Identifier" but is not.');if(field.hasClassName()&&!(value instanceof field.hasClassName()))throw new Error('Class "'+value.name+'" was expected to be instanceof of "'+field.hasClassName()+'" but is not.');var length=value.toString().length,maxBytes=this.getMaxBytes(),okay=length>0&&maxBytes>=length;if(!okay)throw new Error("Field ["+field.getName()+"] must be between [1] and ["+maxBytes+"] bytes, ["+length+"] bytes given.")}},{key:"encode",value:function(value,field){return value instanceof _identifier2["default"]?value.toString():null}},{key:"decode",value:function decode(value,field){if(!value||0===value.length)return null;className=field.getClassName();try{return eval(className+".fromString(value)")}catch(e){throw new _decodeValueFailed2["default"](value,field,e)}}},{key:"isScalar",value:function(){return!1}},{key:"isString",value:function(){return!0}},{key:"getMaxBytes",value:function(){return 100}}]),IdentifierType}(_type2["default"]);exports["default"]=IdentifierType}),define("gdbots/pbj/type/int-enum-type",["exports","gdbots/common/enum","gdbots/pbj/type/type","gdbots/pbj/exception/decode-value-failed"],function(exports,_enum,_type,_decodeValueFailed){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0});var _enum2=_interopRequireDefault(_enum),_type2=_interopRequireDefault(_type),_decodeValueFailed2=_interopRequireDefault(_decodeValueFailed),_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),IntEnumType=function(_Type){function IntEnumType(){return _classCallCheck(this,IntEnumType),_possibleConstructorReturn(this,Object.getPrototypeOf(IntEnumType).apply(this,arguments))}return _inherits(IntEnumType,_Type),_createClass(IntEnumType,[{key:"guard",value:function(value,field){if(!(value instanceof _enum2["default"]))throw new Error('Class "'+value.name+'" was expected to be instanceof of "Enum" but is not.');if(field.hasClassName()&&!(value instanceof field.hasClassName()))throw new Error('Class "'+value.name+'" was expected to be instanceof of "'+field.hasClassName()+'" but is not.');if(value===+value&&isFinite(value)&&!(value%1))throw new Exception('Value "'+value+'" is not a integer.');if(value.getValue()<this.getMin()||value.getValue()>this.getMax())throw new Exception('Number "'+value.getValue()+'" was expected to be at least "'+value.getMin()+'" and at most "'+value.getMax()+'".')}},{key:"encode",value:function(value,field){return value instanceof _enum2["default"]?parseInt(value.getValue()):0}},{key:"decode",value:function decode(value,field){if(null===value)return null;className=field.getClassName();try{return eval(className+".initEnum([value])")}catch(e){throw new _decodeValueFailed2["default"](value,field,e)}}},{key:"isScalar",value:function(){return!1}},{key:"isNumeric",value:function(){return!0}},{key:"getMin",value:function(){return 0}},{key:"getMax",value:function(){return 65535}}]),IntEnumType}(_type2["default"]);exports["default"]=IntEnumType}),define("gdbots/pbj/type/int-type",["exports","gdbots/pbj/type/abstract-int-type"],function(exports,_abstractIntType){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0});var _abstractIntType2=_interopRequireDefault(_abstractIntType),_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),IntType=function(_AbstractIntType){function IntType(){return _classCallCheck(this,IntType),_possibleConstructorReturn(this,Object.getPrototypeOf(IntType).apply(this,arguments))}return _inherits(IntType,_AbstractIntType),_createClass(IntType,[{key:"getMin",value:function(){return 0}},{key:"getMax",value:function(){return 4294967295}}]),IntType}(_abstractIntType2["default"]);exports["default"]=IntType}),define("gdbots/pbj/type/medium-blob-type",["exports","gdbots/pbj/type/abstract-binary-type"],function(exports,_abstractBinaryType){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0});var _abstractBinaryType2=_interopRequireDefault(_abstractBinaryType),_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),MediumBlobType=function(_AbstractBinaryType){function MediumBlobType(){return _classCallCheck(this,MediumBlobType),_possibleConstructorReturn(this,Object.getPrototypeOf(MediumBlobType).apply(this,arguments))}return _inherits(MediumBlobType,_AbstractBinaryType),_createClass(MediumBlobType,[{key:"getMaxBytes",value:function(){return 16777215}},{key:"allowedInSet",value:function(){return!1}}]),MediumBlobType}(_abstractBinaryType2["default"]);exports["default"]=MediumBlobType}),define("gdbots/pbj/type/medium-int-type",["exports","gdbots/pbj/type/abstract-int-type"],function(exports,_abstractIntType){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0});var _abstractIntType2=_interopRequireDefault(_abstractIntType),_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),MediumIntType=function(_AbstractIntType){function MediumIntType(){return _classCallCheck(this,MediumIntType),_possibleConstructorReturn(this,Object.getPrototypeOf(MediumIntType).apply(this,arguments))}return _inherits(MediumIntType,_AbstractIntType),_createClass(MediumIntType,[{key:"getMin",value:function(){return 0}},{key:"getMax",value:function(){return 16777215}}]),MediumIntType}(_abstractIntType2["default"]);exports["default"]=MediumIntType}),define("gdbots/pbj/type/medium-text-type",["exports","gdbots/pbj/type/abstract-string-type"],function(exports,_abstractStringType){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0});var _abstractStringType2=_interopRequireDefault(_abstractStringType),_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),MediumTextType=function(_AbstractStringType){function MediumTextType(){return _classCallCheck(this,MediumTextType),_possibleConstructorReturn(this,Object.getPrototypeOf(MediumTextType).apply(this,arguments))}return _inherits(MediumTextType,_AbstractStringType),_createClass(MediumTextType,[{key:"getMaxBytes",value:function(){return 16777215}},{key:"allowedInSet",value:function(){return!1}}]),MediumTextType}(_abstractStringType2["default"]);exports["default"]=MediumTextType}),define("gdbots/pbj/type/message-ref-type",["exports","gdbots/pbj/exception/encode-value-failed","gdbots/pbj/exception/decode-value-failed","gdbots/pbj/type/type","gdbots/pbj/message-ref"],function(exports,_encodeValueFailed,_decodeValueFailed,_type,_messageRef){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{
value:!0});var _encodeValueFailed2=_interopRequireDefault(_encodeValueFailed),_decodeValueFailed2=_interopRequireDefault(_decodeValueFailed),_type2=_interopRequireDefault(_type),_messageRef2=_interopRequireDefault(_messageRef),_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),MessageRefType=function(_Type){function MessageRefType(){return _classCallCheck(this,MessageRefType),_possibleConstructorReturn(this,Object.getPrototypeOf(MessageRefType).apply(this,arguments))}return _inherits(MessageRefType,_Type),_createClass(MessageRefType,[{key:"guard",value:function(value,field){if(!(value instanceof _messageRef2["default"]))throw new Error('Class "'+value.name+'" was expected to be instanceof of "MessageRef" but is not.')}},{key:"encode",value:function(value,field){throw new _encodeValueFailed2["default"](value,field,"MessageRef must be encoded with a Serializer.")}},{key:"decode",value:function(value,field){throw new _decodeValueFailed2["default"](value,field,"MessageRef must be decoded with a Serializer.")}},{key:"isScalar",value:function(){return!1}},{key:"encodesToScalar",value:function(){return!1}}]),MessageRefType}(_type2["default"]);exports["default"]=MessageRefType}),define("gdbots/pbj/type/message-type",["exports","gdbots/common/util/array-utils","gdbots/pbj/exception/encode-value-failed","gdbots/pbj/exception/decode-value-failed","gdbots/pbj/type/type","gdbots/pbj/message"],function(exports,_arrayUtils,_encodeValueFailed,_decodeValueFailed,_type,_message){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0});var _arrayUtils2=_interopRequireDefault(_arrayUtils),_encodeValueFailed2=_interopRequireDefault(_encodeValueFailed),_decodeValueFailed2=_interopRequireDefault(_decodeValueFailed),_type2=_interopRequireDefault(_type),_createClass=(_interopRequireDefault(_message),function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}()),MessageType=function(_Type){function MessageType(){return _classCallCheck(this,MessageType),_possibleConstructorReturn(this,Object.getPrototypeOf(MessageType).apply(this,arguments))}return _inherits(MessageType,_Type),_createClass(MessageType,[{key:"guard",value:function(value,field){if(!(value instanceof MessageRef))throw new Error('Class "'+value.name+'" was expected to be instanceof of "MessageRef" but is not.');if(field.hasClassName()&&!(value instanceof field.hasClassName()))throw new Error('Class "'+value.name+'" was expected to be instanceof of "'+field.hasClassName()+'" but is not.');if(field.hasAnyOfClassNames()){var classNames=field.getAnyOfClassNames();if(classNames&&0!==classNames.length){var found=!1;if(_arrayUtils2["default"].each(classNames,function(className){value instanceof className&&(found=!0)}),!found)throw new Error("Field ["+field.getName()+"] must be an instance of at least one of: "+classNames.join(",")+".")}}}},{key:"encode",value:function(value,field){throw new _encodeValueFailed2["default"](value,field,"Message must be encoded with a Serializer.")}},{key:"decode",value:function(value,field){throw new _decodeValueFailed2["default"](value,field,"Message must be decoded with a Serializer.")}},{key:"isScalar",value:function(){return!1}},{key:"encodesToScalar",value:function(){return!1}},{key:"isMessage",value:function(){return!0}},{key:"allowedInSet",value:function(){return!1}}]),MessageType}(_type2["default"]);exports["default"]=MessageType}),define("gdbots/pbj/type/microtime-type",["exports","gdbots/common/microtime","gdbots/pbj/type/type"],function(exports,_microtime,_type){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0});var _microtime2=_interopRequireDefault(_microtime),_type2=_interopRequireDefault(_type),_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),MicrotimeType=function(_Type){function MicrotimeType(){return _classCallCheck(this,MicrotimeType),_possibleConstructorReturn(this,Object.getPrototypeOf(MicrotimeType).apply(this,arguments))}return _inherits(MicrotimeType,_Type),_createClass(MicrotimeType,[{key:"guard",value:function(value,field){if(!(value instanceof _microtime2["default"]))throw new Error('Class "'+value.name+'" was expected to be instanceof of "Microtime" but is not.')}},{key:"encode",value:function(value,field){return value instanceof _microtime2["default"]?value.toString():null}},{key:"decode",value:function(value,field){return value&&0!==value.length?value instanceof _microtime2["default"]?value:_microtime2["default"].fromString(value):null}},{key:"isScalar",value:function(){return!1}},{key:"getDefault",value:function(){return _microtime2["default"].create()}},{key:"isNumeric",value:function(){return!0}}]),MicrotimeType}(_type2["default"]);exports["default"]=MicrotimeType}),define("gdbots/pbj/type/signed-big-int-type",["exports","gdbots/common/big-number","gdbots/pbj/type/type"],function(exports,_bigNumber,_type){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0});var _bigNumber2=_interopRequireDefault(_bigNumber),_type2=_interopRequireDefault(_type),_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),SignedBigIntType=function(_Type){function SignedBigIntType(){return _classCallCheck(this,SignedBigIntType),_possibleConstructorReturn(this,Object.getPrototypeOf(SignedBigIntType).apply(this,arguments))}return _inherits(SignedBigIntType,_Type),_createClass(SignedBigIntType,[{key:"guard",value:function(value,field){if(!(value instanceof _bigNumber2["default"]))throw new Error('Class "'+value.name+'" was expected to be instanceof of "BigNumber" but is not.');if(!value.isGreaterThanOrEqualTo("-9223372036854775808"))throw new Error("Field ["+field.getName()+"] cannot be less than [-9223372036854775808].");if(!value.isLessThanOrEqualTo("9223372036854775807"))throw new Error("Field ["+field.getName()+"] cannot be greater than [9223372036854775807].")}},{key:"encode",value:function(value,field){return value instanceof _bigNumber2["default"]?value.getValue():"0"}},{key:"decode",value:function(value,field){return null===value||value instanceof _bigNumber2["default"]?value:new _bigNumber2["default"](value)}},{key:"isScalar",value:function(){return!1}},{key:"getDefault",value:function(){return new _bigNumber2["default"](0)}},{key:"isNumeric",value:function(){return!0}}]),SignedBigIntType}(_type2["default"]);exports["default"]=SignedBigIntType}),define("gdbots/pbj/type/signed-int-type",["exports","gdbots/pbj/type/abstract-int-type"],function(exports,_abstractIntType){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0});var _abstractIntType2=_interopRequireDefault(_abstractIntType),_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),SignedIntType=function(_AbstractIntType){function SignedIntType(){return _classCallCheck(this,SignedIntType),_possibleConstructorReturn(this,Object.getPrototypeOf(SignedIntType).apply(this,arguments))}return _inherits(SignedIntType,_AbstractIntType),_createClass(SignedIntType,[{key:"getMin",value:function(){return-2147483648}},{key:"getMax",value:function(){return 2147483647}}]),SignedIntType}(_abstractIntType2["default"]);exports["default"]=SignedIntType}),define("gdbots/pbj/type/signed-medium-int-type",["exports","gdbots/pbj/type/abstract-int-type"],function(exports,_abstractIntType){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0});var _abstractIntType2=_interopRequireDefault(_abstractIntType),_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),SignedMediumIntType=function(_AbstractIntType){function SignedMediumIntType(){return _classCallCheck(this,SignedMediumIntType),_possibleConstructorReturn(this,Object.getPrototypeOf(SignedMediumIntType).apply(this,arguments))}return _inherits(SignedMediumIntType,_AbstractIntType),_createClass(SignedMediumIntType,[{key:"getMin",value:function(){return-8388608}},{key:"getMax",value:function(){return 8388607}}]),SignedMediumIntType}(_abstractIntType2["default"]);exports["default"]=SignedMediumIntType}),define("gdbots/pbj/type/signed-small-int-type",["exports","gdbots/pbj/type/abstract-int-type"],function(exports,_abstractIntType){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0});var _abstractIntType2=_interopRequireDefault(_abstractIntType),_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),SignedSmallIntType=function(_AbstractIntType){function SignedSmallIntType(){return _classCallCheck(this,SignedSmallIntType),_possibleConstructorReturn(this,Object.getPrototypeOf(SignedSmallIntType).apply(this,arguments))}return _inherits(SignedSmallIntType,_AbstractIntType),_createClass(SignedSmallIntType,[{key:"getMin",value:function(){return-32768}},{key:"getMax",value:function(){return 32767}}]),SignedSmallIntType}(_abstractIntType2["default"]);exports["default"]=SignedSmallIntType}),define("gdbots/pbj/type/signed-tiny-int-type",["exports","gdbots/pbj/type/abstract-int-type"],function(exports,_abstractIntType){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0});var _abstractIntType2=_interopRequireDefault(_abstractIntType),_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),SignedTinyIntType=function(_AbstractIntType){function SignedTinyIntType(){return _classCallCheck(this,SignedTinyIntType),_possibleConstructorReturn(this,Object.getPrototypeOf(SignedTinyIntType).apply(this,arguments))}return _inherits(SignedTinyIntType,_AbstractIntType),_createClass(SignedTinyIntType,[{key:"getMin",value:function(){return-128}},{key:"getMax",value:function(){return 127}}]),SignedTinyIntType}(_abstractIntType2["default"]);exports["default"]=SignedTinyIntType}),define("gdbots/pbj/type/small-int-type",["exports","gdbots/pbj/type/abstract-int-type"],function(exports,_abstractIntType){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0});var _abstractIntType2=_interopRequireDefault(_abstractIntType),_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),SmallIntType=function(_AbstractIntType){function SmallIntType(){return _classCallCheck(this,SmallIntType),_possibleConstructorReturn(this,Object.getPrototypeOf(SmallIntType).apply(this,arguments))}return _inherits(SmallIntType,_AbstractIntType),_createClass(SmallIntType,[{key:"getMin",value:function(){return 0}},{key:"getMax",value:function(){return 65535}}]),SmallIntType}(_abstractIntType2["default"]);exports["default"]=SmallIntType}),define("gdbots/pbj/type/string-enum-type",["exports","gdbots/common/enum","gdbots/pbj/type/type","gdbots/pbj/exception/decode-value-failed"],function(exports,_enum,_type,_decodeValueFailed){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0});var _enum2=_interopRequireDefault(_enum),_type2=_interopRequireDefault(_type),_decodeValueFailed2=_interopRequireDefault(_decodeValueFailed),_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),StringEnumType=function(_Type){function StringEnumType(){return _classCallCheck(this,StringEnumType),_possibleConstructorReturn(this,Object.getPrototypeOf(StringEnumType).apply(this,arguments))}return _inherits(StringEnumType,_Type),_createClass(StringEnumType,[{key:"guard",value:function(value,field){if(!(value instanceof _enum2["default"]))throw new Error('Class "'+value.name+'" was expected to be instanceof of "Enum" but is not.');if(field.hasClassName()&&!(value instanceof field.hasClassName()))throw new Error('Class "'+value.name+'" was expected to be instanceof of "'+field.hasClassName()+'" but is not.');if("string"!=typeof value.getValue())throw new Exception('Value "'+value.getValue()+'" expected to be string.');var length=value.toString().length,maxBytes=this.getMaxBytes(),okay=length>0&&maxBytes>=length;if(!okay)throw new Error("Field ["+field.getName()+"] must be between [1] and ["+maxBytes+"] bytes, ["+length+"] bytes given.")}},{key:"encode",value:function(value,field){return value instanceof _enum2["default"]?parseInt(value.getValue()):null}},{key:"decode",value:function decode(value,field){if(null===value)return null;className=field.getClassName();try{return eval(className+".initEnum([value])")}catch(e){throw new _decodeValueFailed2["default"](value,field,e)}}},{key:"isScalar",value:function(){return!1}},{key:"isString",value:function(){return!0}},{key:"getMaxBytes",value:function(){return 100}}]),StringEnumType}(_type2["default"]);exports["default"]=StringEnumType}),define("gdbots/pbj/type/string-type",["exports","gdbots/common/util/date-utils","gdbots/common/util/hashtag-utils","gdbots/pbj/type/abstract-string-type","gdbots/pbj/enum/format"],function(exports,_dateUtils,_hashtagUtils,_abstractStringType,_format){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0});var _dateUtils2=_interopRequireDefault(_dateUtils),_hashtagUtils2=_interopRequireDefault(_hashtagUtils),_abstractStringType2=_interopRequireDefault(_abstractStringType),_format2=_interopRequireDefault(_format),_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_get=function get(object,property,receiver){null===object&&(object=Function.prototype);var desc=Object.getOwnPropertyDescriptor(object,property);if(void 0===desc){var parent=Object.getPrototypeOf(object);return null===parent?void 0:get(parent,property,receiver)}if("value"in desc)return desc.value;var getter=desc.get;return void 0===getter?void 0:getter.call(receiver)},StringType=function(_AbstractStringType){function StringType(){return _classCallCheck(this,StringType),_possibleConstructorReturn(this,Object.getPrototypeOf(StringType).apply(this,arguments))}return _inherits(StringType,_AbstractStringType),_createClass(StringType,[{key:"guard",value:function(value,field){_get(Object.getPrototypeOf(StringType.prototype),"guard",this).call(this,value,field);var pattern=field.getPattern();if(pattern&&!pattern.test(value))throw new Error("Value ["+value+"] is invalid. It must match the pattern ["+pattern+"].");switch(field.getFormat()){case _format2["default"].UNKNOWN:break;case _format2["default"].DATE:if(!/^\d{4}-\d{2}-\d{2}$/.test(value))throw new Error("Field ["+field.getName()+"] must be a valid ["+field.getFormat().getValue()+"].");break;case _format2["default"].DATE_TIME:if(!_dateUtils2["default"].isValidISO8601Date(value))throw new Error("Field ["+field.getName()+"] must be a valid ISO8601 date-time. Format must match one of ["+_dateUtils.ISO8601_ZULU+"], ["+_dateUtils.ISO8601+"] or ["+(new Date).toISOString()+"].");break;case _format2["default"].SLUG:if(!/^([\w\/-]|[\w-][\w\/-]*[\w-])$/.test(value))throw new Error("Field ["+field.getName()+"] must be a valid ["+field.getFormat().getValue()+"].");break;case _format2["default"].EMAIL:if(!/^(([^<>()\[\]\.,;:\s@\"]+(\.[^<>()\[\]\.,;:\s@\"]+)*)|(\".+\"))@(([^<>()[\]\.,;:\s@\"]+\.)+[^<>()[\]\.,;:\s@\"]{2,})$/.test(value))throw new Error("Field ["+field.getName()+"] must be a valid ["+field.getFormat().getValue()+"].");break;case _format2["default"].HASHTAG:if(!_hashtagUtils2["default"].isValid(value))throw new Error("Field ["+field.getName()+"] must be a valid hashtag. @see HashtagUtils.isValid.");break;case _format2["default"].IPV4:if(!/^([01]?[0-9]?[0-9]|2[0-4][0-9]|25[0-5])\\.([01]?[0-9]?[0-9]|2[0-4][0-9]|25[0-5])\\.([01]?[0-9]?[0-9]|2[0-4][0-9]|25[0-5])\\.([01]?[0-9]?[0-9]|2[0-4][0-9]|25[0-5])$/.test(value))throw new Error("Field ["+field.getName()+"] must be a valid ["+field.getFormat().getValue()+"].");break;case _format2["default"].IPV6:if(!/^((?:[0-9A-Fa-f]{1,4}))((?::[0-9A-Fa-f]{1,4}))*::((?:[0-9A-Fa-f]{1,4}))((?::[0-9A-Fa-f]{1,4}))*|((?:[0-9A-Fa-f]{1,4}))((?::[0-9A-Fa-f]{1,4})){7}$/.test(value))throw new Error("Field ["+field.getName()+"] must be a valid ["+field.getFormat().getValue()+"].");break;case _format2["default"].HOSTNAME:case _format2["default"].URI:case _format2["default"].URL:if(!/(https?:\/\/(?:www\.|(?!www))[^\s\.]+\.[^\s]{2,}|www\.[^\s]+\.[^\s]{2,})/.test(value))throw new Error("Field ["+field.getName()+"] must be a valid ["+field.getFormat().getValue()+"].");break;case _format2["default"].UUID:if(!/[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}/.test(value))throw new Error("Field ["+field.getName()+"] must be a valid ["+field.getFormat().getValue()+"].")}}},{key:"getMaxBytes",value:function(){return 255}}]),StringType}(_abstractStringType2["default"]);exports["default"]=StringType}),define("gdbots/pbj/type/text-type",["exports","gdbots/pbj/type/abstract-string-type"],function(exports,_abstractStringType){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0});var _abstractStringType2=_interopRequireDefault(_abstractStringType),_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),TextType=function(_AbstractStringType){function TextType(){return _classCallCheck(this,TextType),_possibleConstructorReturn(this,Object.getPrototypeOf(TextType).apply(this,arguments))}return _inherits(TextType,_AbstractStringType),_createClass(TextType,[{key:"allowedInSet",value:function(){return!1}}]),TextType}(_abstractStringType2["default"]);exports["default"]=TextType}),define("gdbots/pbj/type/time-uuid-type",["exports","gdbots/identifiers/time-uuid-identifier","gdbots/pbj/type/type"],function(exports,_timeUuidIdentifier,_type){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function");
}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0});var _timeUuidIdentifier2=_interopRequireDefault(_timeUuidIdentifier),_type2=_interopRequireDefault(_type),_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),TimeUuidType=function(_Type){function TimeUuidType(){return _classCallCheck(this,TimeUuidType),_possibleConstructorReturn(this,Object.getPrototypeOf(TimeUuidType).apply(this,arguments))}return _inherits(TimeUuidType,_Type),_createClass(TimeUuidType,[{key:"guard",value:function(value,field){if(!(value instanceof _timeUuidIdentifier2["default"]))throw new Error('Class "'+value.name+'" was expected to be instanceof of "TimeUuidIdentifier" but is not.');if(field.hasClassName()&&!(value instanceof field.hasClassName()))throw new Error('Class "'+value.name+'" was expected to be instanceof of "'+field.hasClassName()+'" but is not.')}},{key:"encode",value:function(value,field){return value instanceof _timeUuidIdentifier2["default"]?value.toString():null}},{key:"decode",value:function decode(value,field){if(!value||0===value.length)return null;var className=field.getClassName()||"TimeUuidIdentifier";return value instanceof className?value:eval(className+".fromString(value)")}},{key:"isScalar",value:function(){return!1}},{key:"getDefault",value:function(){return _timeUuidIdentifier2["default"].generate()}},{key:"isString",value:function(){return!0}}]),TimeUuidType}(_type2["default"]);exports["default"]=TimeUuidType}),define("gdbots/pbj/type/timestamp-type",["exports","gdbots/common/util/date-utils","gdbots/pbj/type/type"],function(exports,_dateUtils,_type){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0});var _dateUtils2=_interopRequireDefault(_dateUtils),_type2=_interopRequireDefault(_type),_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),TimestampType=function(_Type){function TimestampType(){return _classCallCheck(this,TimestampType),_possibleConstructorReturn(this,Object.getPrototypeOf(TimestampType).apply(this,arguments))}return _inherits(TimestampType,_Type),_createClass(TimestampType,[{key:"guard",value:function(value,field){if("number"!=typeof value)throw new Error("Value must be a number.");if(!_dateUtils2["default"].isValidTimestamp(value))throw new Error("Field ["+field.getName()+"] value ["+value+"] is not a valid unix timestamp.")}},{key:"encode",value:function(value,field){return parseInt(value)}},{key:"decode",value:function(value,field){return parseInt(value)}},{key:"getDefault",value:function(){return(new Date).timeStamp()}},{key:"isNumeric",value:function(){return!0}}]),TimestampType}(_type2["default"]);exports["default"]=TimestampType}),define("gdbots/pbj/type/tiny-int-type",["exports","gdbots/pbj/type/abstract-int-type"],function(exports,_abstractIntType){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0});var _abstractIntType2=_interopRequireDefault(_abstractIntType),_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),TinyIntType=function(_AbstractIntType){function TinyIntType(){return _classCallCheck(this,TinyIntType),_possibleConstructorReturn(this,Object.getPrototypeOf(TinyIntType).apply(this,arguments))}return _inherits(TinyIntType,_AbstractIntType),_createClass(TinyIntType,[{key:"getMin",value:function(){return 0}},{key:"getMax",value:function(){return 255}}]),TinyIntType}(_abstractIntType2["default"]);exports["default"]=TinyIntType}),define("gdbots/pbj/type/type",["exports","gdbots/common/util/string-utils","gdbots/pbj/enum/type-name"],function(exports,_stringUtils,_typeName){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _stringUtils2=_interopRequireDefault(_stringUtils),_typeName2=_interopRequireDefault(_typeName),_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),instances={},Type=function(){function Type(typeName){_classCallCheck(this,Type),this.typeName=typeName}return _createClass(Type,[{key:"getTypeName",value:function(){return this.typeName}},{key:"getTypeValue",value:function(){return this.typeName.value}},{key:"guard",value:function(value,field){}},{key:"encode",value:function(value,field){}},{key:"decode",value:function(value,field){}},{key:"isScalar",value:function(){return!0}},{key:"encodesToScalar",value:function(){return!0}},{key:"getDefault",value:function(){return null}},{key:"isBoolean",value:function(){return!1}},{key:"isBinary",value:function(){return!1}},{key:"isNumeric",value:function(){return!1}},{key:"isString",value:function(){return!1}},{key:"isMessage",value:function(){return!1}},{key:"getMin",value:function(){return-2147483648}},{key:"getMax",value:function(){return 2147483647}},{key:"getMaxBytes",value:function(){return 65535}},{key:"allowedInSet",value:function(){return!0}}],[{key:"create",value:function(){var type=this.name;return void 0===instances[type]&&(instances[type]=new this(_typeName2["default"][_stringUtils2["default"].toSnakeCase(type.replace("Type","")).toUpperCase()])),instances[type]}}]),Type}();exports["default"]=Type}),define("gdbots/pbj/type/uuid-type",["exports","gdbots/identifiers/uuid-identifier","gdbots/pbj/type/type"],function(exports,_uuidIdentifier,_type){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0});var _uuidIdentifier2=_interopRequireDefault(_uuidIdentifier),_type2=_interopRequireDefault(_type),_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),UuidType=function(_Type){function UuidType(){return _classCallCheck(this,UuidType),_possibleConstructorReturn(this,Object.getPrototypeOf(UuidType).apply(this,arguments))}return _inherits(UuidType,_Type),_createClass(UuidType,[{key:"guard",value:function(value,field){if(!(value instanceof _uuidIdentifier2["default"]))throw new Error('Class "'+value.name+'" was expected to be instanceof of "UuidIdentifier" but is not.');if(field.hasClassName()&&!(value instanceof field.hasClassName()))throw new Error('Class "'+value.name+'" was expected to be instanceof of "'+field.hasClassName()+'" but is not.')}},{key:"encode",value:function(value,field){return value instanceof _uuidIdentifier2["default"]?value.toString():null}},{key:"decode",value:function decode(value,field){if(!value||0===value.length)return null;var className=field.getClassName()||"UuidIdentifier";return value instanceof className?value:eval(className+".fromString(value)")}},{key:"isScalar",value:function(){return!1}},{key:"getDefault",value:function(){return _uuidIdentifier2["default"].generate()}},{key:"isString",value:function(){return!0}}]),UuidType}(_type2["default"]);exports["default"]=UuidType});